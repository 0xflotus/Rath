!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./",r(r.s=86)}([function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(38),t),o(r(17),t),o(r(39),t),o(r(40),t),o(r(41),t)},function(e,t,r){"use strict";var n=r(20),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return"undefined"===typeof e}function u(e){return null!==e&&"object"===typeof e}function s(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){s(t[n])&&s(r)?t[n]=e(t[n],r):s(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.BIN_NUM_FOR_ANALYTIC=t.DEFAULT_BIN_NUM=t.DOMMAIN_SIZE_THRESHOLD_MAYBE_DROP=t.PERCENT_THRESHOLD_AS_UNIQUE_INDEX=t.EULER=t.CHANNEL=void 0,t.CHANNEL={maxDimensionNumber:8,maxMeasureNumber:6},t.EULER=.5772156649,t.PERCENT_THRESHOLD_AS_UNIQUE_INDEX=.95,t.DOMMAIN_SIZE_THRESHOLD_MAYBE_DROP=20,t.DEFAULT_BIN_NUM=8,t.BIN_NUM_FOR_ANALYTIC=2*t.DEFAULT_BIN_NUM,t.VERSION="0.8.8"},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(35),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Classification=t.Outier=t.Cluster=void 0;var a=i(r(43));t.Cluster=a;var u=r(18),s={IsolationForest:r(45).IsolationForest};t.Outier=s;var c={KNN:u.KNN};t.Classification=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PearsonCorrelation=t.CramersVThreshold=t.TopKPercentField=t.VisualLimit=t.Depth=t.TopKView=t.TopKSingleField=void 0,t.TopKSingleField=6,t.TopKView=15,t.Depth=4,t.VisualLimit=8,t.TopKPercentField=.8,t.CramersVThreshold=.3,t.PearsonCorrelation={strong:.5,weak:.3}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Computation=t.Classification=t.Outier=t.Cluster=t.Cleaner=t.specification=t.Distribution=t.UnivariateSummary=t.Statistics=t.Utils=t.Sampling=t.DashBoard=t.InsightFlow=t.Viz=void 0;var s=i(r(3));t.Utils=s;var c=u(r(36));t.specification=c.default;var l=i(r(15));t.Distribution=l;var f=i(r(37));t.Cleaner=f;var h=i(r(16));t.UnivariateSummary=h;var d=i(r(42));t.DashBoard=d;var p=i(r(19));t.Sampling=p;var y=i(r(0));t.Statistics=y;var v=i(r(46));t.Computation=v;var m=r(4);Object.defineProperty(t,"Cluster",{enumerable:!0,get:function(){return m.Cluster}}),Object.defineProperty(t,"Outier",{enumerable:!0,get:function(){return m.Outier}}),Object.defineProperty(t,"Classification",{enumerable:!0,get:function(){return m.Classification}}),a(r(7),t),a(r(28),t),t.Viz=i(r(74)),t.InsightFlow=i(r(76))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultIWorker=t.ICubeStorageManageMode=t.IStorageMode=void 0,function(e){e.LocalCache="local_cahce",e.LocalDisk="local_disk"}(t.IStorageMode||(t.IStorageMode={})),function(e){e.LocalCache="local_cache",e.LocalDisk="local_disk",e.LocalMix="local_mix"}(t.ICubeStorageManageMode||(t.ICubeStorageManageMode={})),function(e){e.outlier="default_outlier",e.cluster="default_group",e.trend="default_trend"}(t.DefaultIWorker||(t.DefaultIWorker={}))},function(e,t,r){(function(t){e.exports=function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){var r=t[a][1][e];return o(r||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var i=!1,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,r,n){(function(e){"use strict";var t,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),t=function(){u.data=i=++i%2}}else if(e.setImmediate||"undefined"===typeof e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var s=new e.MessageChannel;s.port1.onmessage=l,t=function(){s.port2.postMessage(0)}}var c=[];function l(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}function f(e){1!==c.push(e)||n||t()}r.exports=f}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],s=["PENDING"];function c(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==o&&d(this,e)}function l(e,t,r){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,t,r){n((function(){var n;try{n=t(r)}catch(o){return i.reject(e,o)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)}))}function h(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var r=!1;function n(t){r||(r=!0,i.reject(e,t))}function o(t){r||(r=!0,i.resolve(e,t))}function a(){t(o,n)}var u=p(a);"error"===u.status&&n(u.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}function y(e){return e instanceof this?e:i.resolve(new this(o),e)}function v(e){var t=new this(o);return i.reject(t,e)}function m(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),u=0,s=-1,c=new this(o);++s<r;)l(e[s],s);return c;function l(e,o){function s(e){a[o]=e,++u!==r||n||(n=!0,i.resolve(c,a))}t.resolve(e).then(s,(function(e){n||(n=!0,i.reject(c,e))}))}}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=-1,u=new this(o);++a<r;)s(e[a]);return u;function s(e){t.resolve(e).then((function(e){n||(n=!0,i.resolve(u,e))}),(function(e){n||(n=!0,i.reject(u,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!==typeof e&&this.state===u||"function"!==typeof t&&this.state===a)return this;var r=new this.constructor(o);return this.state!==s?f(r,this.state===u?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},i.resolve=function(e,t){var r=p(h,t);if("error"===r.status)return i.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=u,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=y,c.reject=v,c.all=m,c.race=g},{1:1}],3:[function(e,r,n){(function(t){"use strict";"function"!==typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=i();function u(){try{if(!a||!a.open)return!1;var e="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(r){return!1}}function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"===typeof Promise&&e(3);var c=Promise;function l(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function f(e,t,r){"function"===typeof t&&e.then(t),"function"===typeof r&&e.catch(r)}function h(e){return"string"!==typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",y=void 0,v={},m=Object.prototype.toString,g="readonly",b="readwrite";function w(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function _(e){return new c((function(t){var r=e.transaction(p,b),n=s([""]);r.objectStore(p).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function S(e){return"boolean"===typeof y?c.resolve(y):_(e).then((function(e){return y=e}))}function M(e){var t=v[e.name],r={};r.promise=new c((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function x(e){var t=v[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function O(e,t){var r=v[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function E(e,t){return new c((function(r,n){if(v[e.name]=v[e.name]||P(),e.db){if(!t)return r(e.db);M(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var r=i.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(p)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),n(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},r(t),x(e)}}))}function D(e){return E(e,!1)}function I(e){return E(e,!0)}function T(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function C(e){return new c((function(t,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)}))}function N(e){return s([w(atob(e.data))],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function A(e){var t=this,r=t._initReady().then((function(){var e=v[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return f(r,e,e),r}function k(e){M(e);for(var t=v[e.name],r=t.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,D(e).then((function(t){return e.db=t,T(e)?I(e):t})).then((function(n){e.db=t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(t){throw O(e,t),t}))}function F(e,t,r,n){void 0===n&&(n=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(i){if(n>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return k(e).then((function(){F(e,t,r,n-1)}))})).catch(r);r(i)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function L(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var o=v[r.name];o||(o=P(),v[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=A);var i=[];function a(){return c.resolve()}for(var u=0;u<o.forages.length;u++){var s=o.forages[u];s!==t&&i.push(s._initReady().catch(a))}var l=o.forages.slice(0);return c.all(i).then((function(){return r.db=o.db,D(r)})).then((function(e){return r.db=e,T(r,t._defaultConfig.version)?I(r):e})).then((function(e){r.db=o.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==t&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))}function R(e,t){var r=this;e=h(e);var n=new c((function(t,n){r.ready().then((function(){F(r._dbInfo,g,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),j(e)&&(e=N(e)),t(e)},a.onerror=function(){n(a.error)}}catch(u){n(u)}}))})).catch(n)}));return l(n,t),n}function z(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){F(r._dbInfo,g,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;j(n)&&(n=N(n));var o=e(n,r.key,u++);void 0!==o?t(o):r.continue()}else t()},a.onerror=function(){n(a.error)}}catch(s){n(s)}}))})).catch(n)}));return l(n,t),n}function q(e,t,r){var n=this;e=h(e);var o=new c((function(r,o){var i;n.ready().then((function(){return i=n._dbInfo,"[object Blob]"===m.call(t)?S(i.db).then((function(e){return e?t:C(t)})):t})).then((function(t){F(n._dbInfo,b,(function(i,a){if(i)return o(i);try{var u=a.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var s=u.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(c){o(c)}}))})).catch(o)}));return l(o,r),o}function B(e,t){var r=this;e=h(e);var n=new c((function(t,n){r.ready().then((function(){F(r._dbInfo,b,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){n(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(u){n(u)}}))})).catch(n)}));return l(n,t),n}function U(e){var t=this,r=new c((function(e,r){t.ready().then((function(){F(t._dbInfo,b,(function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(a){r(a)}}))})).catch(r)}));return l(r,e),r}function G(e){var t=this,r=new c((function(e,r){t.ready().then((function(){F(t._dbInfo,g,(function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){r(i.error)}}catch(a){r(a)}}))})).catch(r)}));return l(r,e),r}function V(e,t){var r=this,n=new c((function(t,n){e<0?t(null):r.ready().then((function(){F(r._dbInfo,g,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),u=!1,s=a.openKeyCursor();s.onsuccess=function(){var r=s.result;r?0===e||u?t(r.key):(u=!0,r.advance(e)):t(null)},s.onerror=function(){n(s.error)}}catch(c){n(c)}}))})).catch(n)}));return l(n,t),n}function Y(e){var t=this,r=new c((function(e,r){t.ready().then((function(){F(t._dbInfo,g,(function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){r(i.error)}}catch(u){r(u)}}))})).catch(r)}));return l(r,e),r}function $(e,t){t=d.apply(this,arguments);var r=this.config();(e="function"!==typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,o=this;if(e.name){var i=e.name===r.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):D(e).then((function(t){var r=v[e.name],n=r.forages;r.db=t;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=t;return t}));n=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;M(e);var n=v[e.name],o=n.forages;t.close();for(var i=0;i<o.length;i++){var u=o[i];u._dbInfo.db=null,u._dbInfo.version=r}return new c((function(t,n){var o=a.open(e.name,r);o.onerror=function(e){o.result.close(),n(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<o.length;t++){var r=o[t];r._dbInfo.db=e,x(r._dbInfo)}})).catch((function(t){throw(O(e,t)||c.resolve()).catch((function(){})),t}))}})):i.then((function(t){M(e);var r=v[e.name],n=r.forages;t.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;return new c((function(t,r){var n=a.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<n.length;t++)x(n[t]._dbInfo)})).catch((function(t){throw(O(e,t)||c.resolve()).catch((function(){})),t}))}))}else n=c.reject("Invalid arguments");return l(n,t),n}var H={_driver:"asyncStorage",_initStorage:L,_support:u(),iterate:z,getItem:R,setItem:q,removeItem:B,clear:U,length:G,key:V,keys:Y,dropInstance:$};function W(){return"function"===typeof openDatabase}var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",J=/^~~local_forage_type~([^~]+)~/,Z="__lfsc__:",Q=Z.length,ee="arbf",te="blob",re="si08",ne="ui08",oe="uic8",ie="si16",ae="si32",ue="ur16",se="ui32",ce="fl32",le="fl64",fe=Q+ee.length,he=Object.prototype.toString;function de(e){var t,r,n,o,i,a=.75*e.length,u=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<u;t+=4)r=K.indexOf(e[t]),n=K.indexOf(e[t+1]),o=K.indexOf(e[t+2]),i=K.indexOf(e[t+3]),l[s++]=r<<2|n>>4,l[s++]=(15&n)<<4|o>>2,l[s++]=(3&o)<<6|63&i;return c}function pe(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=K[r[t]>>2],n+=K[(3&r[t])<<4|r[t+1]>>4],n+=K[(15&r[t+1])<<2|r[t+2]>>6],n+=K[63&r[t+2]];return r.length%3===2?n=n.substring(0,n.length-1)+"=":r.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function ye(e,t){var r="";if(e&&(r=he.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===he.call(e.buffer))){var n,o=Z;e instanceof ArrayBuffer?(n=e,o+=ee):(n=e.buffer,"[object Int8Array]"===r?o+=re:"[object Uint8Array]"===r?o+=ne:"[object Uint8ClampedArray]"===r?o+=oe:"[object Int16Array]"===r?o+=ie:"[object Uint16Array]"===r?o+=ue:"[object Int32Array]"===r?o+=ae:"[object Uint32Array]"===r?o+=se:"[object Float32Array]"===r?o+=ce:"[object Float64Array]"===r?o+=le:t(new Error("Failed to get type for BinaryArray"))),t(o+pe(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=X+e.type+"~"+pe(this.result);t(Z+te+r)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),t(null,a)}}function ve(e){if(e.substring(0,Q)!==Z)return JSON.parse(e);var t,r=e.substring(fe),n=e.substring(Q,fe);if(n===te&&J.test(r)){var o=r.match(J);t=o[1],r=r.substring(o[0].length)}var i=de(r);switch(n){case ee:return i;case te:return s([i],{type:t});case re:return new Int8Array(i);case ne:return new Uint8Array(i);case oe:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case ue:return new Uint16Array(i);case ae:return new Int32Array(i);case se:return new Uint32Array(i);case ce:return new Float32Array(i);case le:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var me={serialize:ye,deserialize:ve,stringToBuffer:de,bufferToString:pe};function ge(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function be(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!==typeof e[n]?e[n].toString():e[n];var o=new c((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return n(o)}r.db.transaction((function(o){ge(o,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=me,o}function we(e,t,r,n,o,i){e.executeSql(r,n,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,u){u.rows.length?i(e,a):ge(e,t,(function(){e.executeSql(r,n,o,i)}),i)}),i):i(e,a)}),i)}function _e(e,t){var r=this;e=h(e);var n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){we(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,t),n}function Se(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){we(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var i=n.rows,a=i.length,u=0;u<a;u++){var s=i.item(u),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,s.key,u+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,t),n}function Me(e,t,r,n){var o=this;e=h(e);var i=new c((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var u=t,s=o._dbInfo;s.serializer.serialize(t,(function(t,c){c?a(c):s.db.transaction((function(r){we(r,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(u)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void i(Me.apply(o,[e,u,r,n-1]));a(t)}}))}))})).catch(a)}));return l(i,r),i}function xe(e,t,r){return Me.apply(this,[e,t,r,1])}function Oe(e,t){var r=this;e=h(e);var n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){we(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,t),n}function Ee(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){we(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,e),r}function De(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){we(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,e),r}function Ie(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){we(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,t),n}function Te(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){we(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,e),r}function Ce(e){return new c((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}function Ne(e,t){t=d.apply(this,arguments);var r=this.config();(e="function"!==typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,o=this;return l(n=e.name?new c((function(t){var n;n=e.name===r.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(Ce(n))})).then((function(e){return new c((function(t,r){e.db.transaction((function(n){function o(e){return new c((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var i=[],a=0,u=e.storeNames.length;a<u;a++)i.push(o(e.storeNames[a]));c.all(i).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):c.reject("Invalid arguments"),t),n}var je={_driver:"webSQLStorage",_initStorage:be,_support:W(),iterate:Se,getItem:_e,setItem:xe,removeItem:Oe,clear:Ee,length:De,key:Ie,keys:Te,dropInstance:Ne};function Ae(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function ke(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function Fe(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}function Pe(){return!Fe()||localStorage.length>0}function Le(e){var t=this,r={};if(e)for(var n in e)r[n]=e[n];return r.keyPrefix=ke(e,t._defaultConfig),Pe()?(t._dbInfo=r,r.serializer=me,c.resolve()):c.reject()}function Re(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return l(r,e),r}function ze(e,t){var r=this;e=h(e);var n=r.ready().then((function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return l(n,t),n}function qe(e,t){var r=this,n=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,i=localStorage.length,a=1,u=0;u<i;u++){var s=localStorage.key(u);if(0===s.indexOf(n)){var c=localStorage.getItem(s);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,s.substring(o),a++)))return c}}}));return l(n,t),n}function Be(e,t){var r=this,n=r.ready().then((function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(o){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return l(n,t),n}function Ue(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&n.push(i.substring(e.keyPrefix.length))}return n}));return l(r,e),r}function Ge(e){var t=this.keys().then((function(e){return e.length}));return l(t,e),t}function Ve(e,t){var r=this;e=h(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return l(n,t),n}function Ye(e,t,r){var n=this;e=h(e);var o=n.ready().then((function(){void 0===t&&(t=null);var r=t;return new c((function(o,i){var a=n._dbInfo;a.serializer.serialize(t,(function(t,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+e,t),o(r)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||i(u),i(u)}}))}))}));return l(o,r),o}function $e(e,t){if(t=d.apply(this,arguments),!(e="function"!==typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var n,o=this;return l(n=e.name?new c((function(t){e.storeName?t(ke(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):c.reject("Invalid arguments"),t),n}var He={_driver:"localStorageWrapper",_initStorage:Le,_support:Ae(),iterate:qe,getItem:ze,setItem:Ye,removeItem:Ve,clear:Re,length:Ge,key:Be,keys:Ue,dropInstance:$e},We=function(e,t){return e===t||"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)},Ke=function(e,t){for(var r=e.length,n=0;n<r;){if(We(e[n],t))return!0;n++}return!1},Xe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Je={},Ze={},Qe={INDEXEDDB:H,WEBSQL:je,LOCALSTORAGE:He},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),nt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(Xe(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var at=new(function(){function e(t){for(var r in o(this,e),Qe)if(Qe.hasOwnProperty(r)){var n=Qe[r],i=n._driver;this[r]=i,Je[i]||this.defineDriver(n)}this._defaultConfig=it({},nt),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===("undefined"===typeof e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!==typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"===typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new c((function(t,r){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var i=rt.concat("_initStorage"),a=0,u=i.length;a<u;a++){var s=i[a];if((!Ke(tt,s)||e[s])&&"function"!==typeof e[s])return void r(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=c.reject(t);return l(r,arguments[arguments.length-1]),r}},r=0,n=tt.length;r<n;r++){var o=tt[r];e[o]||(e[o]=t(o))}}();var f=function(r){Je[n]&&console.info("Redefining LocalForage driver: "+n),Je[n]=e,Ze[n]=r,t()};"_support"in e?e._support&&"function"===typeof e._support?e._support().then(f,r):f(!!e._support):f(!0)}catch(h){r(h)}}));return f(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=Je[e]?c.resolve(Je[e]):c.reject(new Error("Driver not found."));return f(n,t,r),n},e.prototype.getSerializer=function(e){var t=c.resolve(me);return f(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return f(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;Xe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){n._config.driver=n.driver()}function a(e){return n._extend(e),i(),n._ready=n._initStorage(n._config),n._ready}function u(e){return function(){var t=0;function r(){for(;t<e.length;){var o=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(a).catch(r)}i();var u=new Error("No available storage method found.");return n._driverSet=c.reject(u),n._driverSet}return r()}}var s=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=s.then((function(){var e=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,i(),n._wrapLibraryMethodsWithReady(),n._initDriver=u(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return n._driverSet=c.reject(e),n._driverSet})),f(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!Ze[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=rt.length;e<t;e++)ot(this,rt[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=at},{3:3}]},{},[4])(4)}).call(this,r(73))},function(e,t,r){"use strict";(function(t){var n=r(1),o=r(60),i=r(22),a={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=r(23)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||s.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(a){if("SyntaxError"===u.name)throw i(u,this,"E_JSON_PARSE");throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(a)})),e.exports=s}).call(this,r(59))},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",o="second",i="minute",a="hour",u="day",s="week",c="month",l="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),o=r%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(o,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),o=t.clone().add(n,c),i=r-o<0,a=t.clone().add(n+(i?-1:1),c);return+(-(n+(r-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:f,w:s,d:u,D:h,h:a,m:i,s:o,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=v;var _=function(e){return e instanceof O},S=function(e,t,r){var n;if(!e)return b;if("string"==typeof e)w[e]&&(n=e),t&&(w[e]=t,n=e);else{var o=e.name;w[o]=e,n=o}return!r&&n&&(b=n),n||!r&&b},M=function(e,t){if(_(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new O(r)},x=g;x.l=S,x.i=_,x.w=function(e,t){return M(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function v(e){this.$L=S(e.locale,null,!0),this.parse(e)}var m=v.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return x},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(e,t){var r=M(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return M(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<M(e)},m.$g=function(e,t,r){return x.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var r=this,n=!!x.u(t)||t,l=x.p(e),d=function(e,t){var o=x.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?o:o.endOf(u)},p=function(e,t){return x.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},y=this.$W,v=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case f:return n?d(1,0):d(31,11);case c:return n?d(1,v):d(0,v+1);case s:var b=this.$locale().weekStart||0,w=(y<b?y+7:y)-b;return d(n?m-w:m+(6-w),v);case u:case h:return p(g+"Hours",0);case a:return p(g+"Minutes",1);case i:return p(g+"Seconds",2);case o:return p(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var r,s=x.p(e),l="set"+(this.$u?"UTC":""),d=(r={},r[u]=l+"Date",r[h]=l+"Date",r[c]=l+"Month",r[f]=l+"FullYear",r[a]=l+"Hours",r[i]=l+"Minutes",r[o]=l+"Seconds",r[n]=l+"Milliseconds",r)[s],p=s===u?this.$D+(t-this.$W):t;if(s===c||s===f){var y=this.clone().set(h,1);y.$d[d](p),y.init(),this.$d=y.set(h,Math.min(this.$D,y.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[x.p(e)]()},m.add=function(n,l){var h,d=this;n=Number(n);var p=x.p(l),y=function(e){var t=M(d);return x.w(t.date(t.date()+Math.round(e*n)),d)};if(p===c)return this.set(c,this.$M+n);if(p===f)return this.set(f,this.$y+n);if(p===u)return y(1);if(p===s)return y(7);var v=(h={},h[i]=t,h[a]=r,h[o]=e,h)[p]||1,m=this.$d.getTime()+n*v;return x.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=e||"YYYY-MM-DDTHH:mm:ssZ",o=x.z(this),i=this.$H,a=this.$m,u=this.$M,s=r.weekdays,c=r.months,l=function(e,r,o,i){return e&&(e[r]||e(t,n))||o[r].substr(0,i)},f=function(e){return x.s(i%12||12,e,"0")},h=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:x.s(u+1,2,"0"),MMM:l(r.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,s,2),ddd:l(r.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(i),HH:x.s(i,2,"0"),h:f(1),hh:f(2),a:h(i,a,!0),A:h(i,a,!1),m:String(a),mm:x.s(a,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:o};return n.replace(y,(function(e,t){return t||p[e]||o.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,h,d){var p,y=x.p(h),v=M(n),m=(v.utcOffset()-this.utcOffset())*t,g=this-v,b=x.m(this,v);return b=(p={},p[f]=b/12,p[c]=b,p[l]=b/3,p[s]=(g-m)/6048e5,p[u]=(g-m)/864e5,p[a]=g/r,p[i]=g/t,p[o]=g/e,p)[y]||g,d?b:x.a(b)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return w[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=S(e,t,!0);return n&&(r.$L=n),r},m.clone=function(){return x.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},v}(),E=O.prototype;return M.prototype=E,[["$ms",n],["$s",o],["$m",i],["$H",a],["$W",u],["$M",c],["$y",f],["$D",h]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),M.extend=function(e,t){return e.$i||(e(t,O,M),e.$i=!0),M},M.locale=S,M.isDayjs=_,M.unix=function(e){return M(1e3*e)},M.en=w[b],M.Ls=w,M.p={},M}()},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.min=t.max=t.mean=t.sum=t.distMergeBy=t.dist=t.sumByCol=void 0;var o=r(2);t.sumByCol=function(e,t,r){for(var n=0,o=0;o<e.length;o++)n+=e[o].stat[t][r];return n};function i(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}t.dist=function(e,t){var r,i,a=function(e){return e[0]===e[1]?[e[0],e[1]+.1]:e}(t),u=(a[1]-a[0])/o.DEFAULT_BIN_NUM,s=new Array(o.DEFAULT_BIN_NUM+1).fill(0);try{for(var c=n(e),l=c.next();!l.done;l=c.next()){var f=l.value;s[Math.floor((f-a[0])/u)]++}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return s[o.DEFAULT_BIN_NUM-1]+=s[o.DEFAULT_BIN_NUM],s.slice(0,-1)},t.distMergeBy=function(e,t,r){for(var n=new Array(o.DEFAULT_BIN_NUM).fill(0),i=0;i<e.length;i++)for(var a=e[i].stat[t][r],u=0;u<n.length;u++)n[u]+=a[u];return n},t.sum=i,t.mean=function(e){return i(e)/e.length},t.max=function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return t},t.min=function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return t}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t){for(var r=t.length-1;r>=0;r--)if(t[r].semanticType===e&&!t[r].choosen)return t[r];return!1}function i(e){for(var t={},r={position:2,color:1,size:1,shape:1,opacity:1,facets:2,page:1,filter:1,highFacets:1e3},i=e.map((function(e){return n(n({},e),{choosen:!1})})),a=[["quantitative",["position","size","color","opacity","highFacets","filter"]],["temporal",["position","size","opacity","filter"]],["ordinal",["position","color","opacity","facets","size","filter","highFacets"]],["nominal",["position","color","facets","shape","filter","hightFacets"]]],u=i.length,s=0;s<a.length&&u>0;s++)for(var c=a[s][0],l=a[s][1],f=0;f<l.length&&u>0;f++)for(var h=l[f],d=void 0;r[h]>0&&(d=o(c,i));)"undefined"===typeof t[h]&&(t[h]=[]),t[h].push(d.key),r[h]--,u--,d.choosen=!0;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.specification=t.encoding=t.geomTypes=void 0,t.geomTypes={interval:[0,10],line:[11,1/0],area:[11,1/0],point:[0,1e3],path:[0,100],density:[1001,1/0]},t.encoding=i,t.specification=function(e,r){var n=i(e.sort((function(e,t){return e.impurity-t.impurity}))),o=new Set(e.filter((function(e){return"dimension"===e.analyticType})).map((function(e){return e.key}))),a=new Set(e.filter((function(e){return"measure"===e.analyticType})).map((function(e){return e.key})));if(n.position&&2===n.position.length)if(o.has(n.position[0])&&a.has(n.position[1])||o.has(n.position[1])&&a.has(n.position[0])){var u=o.has(n.position[0])?0:1,s=n.position[u],c=n.position[(u+1)%2];n.position=[s,c];var l=e.find((function(e){return e.key===s})),f=l?l.features.unique:0;n.geomType=["interval","line","area"].filter((function(e){return f>=t.geomTypes[e][0]&&f<=t.geomTypes[e][1]})),"nominal"===l.semanticType&&(n.geomType=["interval"])}else n.geomType=["point","density"].filter((function(e){return r.length>=t.geomTypes[e][0]&&r.length<=t.geomTypes[e][1]}));else n.geomType=["point"];return{schema:n,dataView:r}}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getRelatedVertices=t.subspaceSearching=t.getMeaSetsBasedOnClusterGroups=t.getDimSetsBasedOnClusterGroups=t.getDimClusterGroups=t.getMeaCorrelationMatrix=t.getDimCorrelationMatrix=void 0;var a=r(0),u=r(5),s=r(4),c=r(2);function l(e,t){for(var r=t.map((function(e){return t.map((function(e){return 0}))})),n=0;n<t.length;n++){r[n][n]=1;for(var o=n+1;o<t.length;o++)r[n][o]=r[o][n]=(0,a.cramersV)(e,t[n],t[o])}return r}function f(e,t){for(var r=t.map((function(e){return t.map((function(e){return 0}))})),n=0;n<t.length;n++){r[n][n]=1;for(var o=n+1;o<t.length;o++){var i=(0,a.pearsonCC)(e,t[n],t[o]);r[o][n]=r[n][o]=i}}return r}function h(e,t,r,n){void 0===r&&(r=u.CramersVThreshold);var o=l(e,t);return s.Cluster.kruskal({matrix:o,measures:t,groupMaxSize:n||Math.round(t.length/4),threshold:r})}function d(e,t,r,u){var s,l,f=[],d=h(e,t,r);try{for(var p=n(d),y=p.next();!y.done;y=p.next()){var v=y.value,m=(0,a.getCombination)(v,1,u||c.CHANNEL.maxDimensionNumber);f.push.apply(f,i([],o(m),!1))}}catch(g){s={error:g}}finally{try{y&&!y.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return f}t.getDimCorrelationMatrix=l,t.getMeaCorrelationMatrix=f,t.getDimClusterGroups=h,t.getDimSetsBasedOnClusterGroups=d,t.getMeaSetsBasedOnClusterGroups=function(e,t,r,n){void 0===n&&(n=3);var o=f(e,t);return s.Cluster.kruskal({matrix:o,measures:t,groupMaxSize:n||Math.round(t.length/3),threshold:r||u.PearsonCorrelation.strong})},t.subspaceSearching=function(e,t,r){return void 0===r&&(r=!0),r?d(e,t):(0,a.getCombination)(t)},t.getRelatedVertices=function(e,t,r,n){for(var o=t.map((function(e){return r.includes(e)})),i=[],a=[],u=0;u<e.length;u++)if(o[u])for(var s=0;s<e[u].length;s++)o[s]||i.push([e[u][s],[u,s]]);for(i.sort((function(e,t){return t[0]-e[0]})),u=0;u<i.length;u++){var c=i[u][1][1];o[c]||(o[c]=!0,a.push({field:t[c],corValue:i[u][0]}))}return a.slice(0,n||a.length)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUniformDistribution=void 0;var n=r(3);t.isUniformDistribution=function(e,t){return(0,n.memberCount)(e,t).every((function(e){return 1===e[1]}))}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.groupFields=t.getAllFieldsEntropy=t.getFloatFieldEntropy=t.getFieldEntropy=t.getAllFieldsDistribution=t.getFieldDistribution=t.getAllFieldTypes=t.getFieldType=void 0;var o=r(3),i=r(0),a=r(15),u=r(2),s=u.BIN_NUM_FOR_ANALYTIC;function c(e,t){return(0,o.isFieldTime)(e,t)?"temporal":(0,o.isFieldContinous)(e,t)?(0,o.memberCount)(e,t).length>s?"quantitative":"ordinal":((0,o.isFieldCategory)(e,t),"nominal")}function l(e,t){return(0,o.memberCount)(e,t).map((function(e){return{memberName:e[0],count:e[1]}}))}function f(e,t){var r=(0,o.memberCount)(e,t),n=r.map((function(e){return e[1]})),a=(0,i.normalize)(n);return{fieldName:t,entropy:(0,i.entropy)(a),maxEntropy:Math.log2(r.length)}}t.getFieldType=c,t.getAllFieldTypes=function(e,t){var r,o,i=[];try{for(var a=n(t),u=a.next();!u.done;u=a.next()){var s=u.value;i.push({name:s,type:c(e,s)})}}catch(l){r={error:l}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},t.getFieldDistribution=l,t.getAllFieldsDistribution=function(e,t){var r,o,i=[];try{for(var a=n(t),u=a.next();!u.done;u=a.next()){var s=u.value;i.push({fieldName:s,distribution:l(e,s)})}}catch(c){r={error:c}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},t.getFieldEntropy=f,t.getFloatFieldEntropy=function(e,t){for(var r=-1/0,n=1/0,o=0;o<e.length;o++)r=Math.max(r,e[o][t]),n=Math.min(n,e[o][t]);var a=(r-n)/u.BIN_NUM_FOR_ANALYTIC,s=new Array(u.BIN_NUM_FOR_ANALYTIC+1).fill(0);for(o=0;o<e.length;o++){var c=e[o][t];s[Math.floor((c-n)/a)]++}s[u.BIN_NUM_FOR_ANALYTIC-1]+=s[u.BIN_NUM_FOR_ANALYTIC];var l=(0,i.normalize)(s.slice(0,u.BIN_NUM_FOR_ANALYTIC));return{fieldName:t,entropy:(0,i.entropy)(l),maxEntropy:Math.log2(u.BIN_NUM_FOR_ANALYTIC)}},t.getAllFieldsEntropy=function(e,t){var r,o,i=[];try{for(var a=n(t),u=a.next();!u.done;u=a.next()){var s=u.value;i.push(f(e,s))}}catch(c){r={error:c}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},t.groupFields=function(e,t){var r,i,u=(0,o.deepcopy)(e),c=[];try{for(var l=n(t),f=l.next();!f.done;f=l.next()){var h=f.value,d="".concat(h.name,"(group)");"quantitative"===h.type&&(0,o.memberCount)(e,h.name).length>2*s?(0,a.isUniformDistribution)(e,h.name)||(u=(0,o.groupContinousField)({dataSource:u,field:h.name,newField:d,groupNumber:8}),c.push({name:d,type:"ordinal"})):("ordinal"===h.type||"nominal"===h.type)&&(0,o.memberCount)(e,h.name).length>s&&((0,a.isUniformDistribution)(e,h.name)||(u=(0,o.groupCategoryField)({dataSource:u,field:h.name,newField:d,groupNumber:8}),c.push({name:d,type:h.type})))}}catch(p){r={error:p}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return{groupedData:u,fields:t,newFields:c}}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeBy=t.gini=t.entropy=t.normalize=t.getCombination=t.mapPositive=t.linearMapPositive=void 0,t.linearMapPositive=function(e){var t=Math.min.apply(Math,o([],n(e),!1));return e.map((function(e){return e-t+1}))},t.mapPositive=function(e){return e.map((function(e){return Math.abs(e)})).filter((function(e){return 0!==e}))},t.getCombination=function(e,t,r){void 0===t&&(t=1),void 0===r&&(r=e.length);for(var i=[],a=function t(r,a,u){a.length!==u?r>=e.length||(t(r+1,o(o([],n(a),!1),[e[r]],!1),u),t(r+1,a,u)):i.push(o([],n(a),!1))},u=t;u<=r;u++)a(0,[],u);return i},t.normalize=function(e){var t,r,n=0;try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var u=a.value;n+=u}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return e.map((function(e){return e/n}))};t.entropy=function(e){var t,r,n=0;try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var u=a.value;n+=u*Math.log2(u)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return-n};t.gini=function(e){var t,r,n=0;try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var u=a.value;n+=u*(1-u)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},t.getRangeBy=function(e,t){var r,n,o=-1/0,a=1/0;try{for(var u=i(e),s=u.next();!s.done;s=u.next()){var c=s.value;o=Math.max(c[t],o),a=Math.min(c[t],a)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return[a,o]}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.KNN=void 0;var i=function(e){function t(t){var r=e.call(this,t)||this,n=t.K;return r.K=n,r.normalize(),r}return n(t,e),t.prototype.getNeighbors=function(e,t,r){void 0===r&&(r=[]),r.length!==t.length&&t.forEach((function(e){r.push(1)}));for(var n=[],o=[],i=[],a=[],u=new Set(this.dimensions),s=0;s<t.length;s++)u.has(t[s])?(n.push(t[s]),i.push(r[s])):(o.push(t[s]),a.push(r[s]));var c=[];this.normalizedDataSource.forEach((function(t,r){var u=0;o.forEach((function(r,n){u+=Math.pow((t[r]-e[r])*a[n],2)})),n.forEach((function(r,n){t[r]!==e[r]&&(u+=Math.pow(i[n],2))})),c.push({dis:u,index:r})})),c.sort((function(e,t){return e.dis-t.dis}));var l=[],f=Math.min(this.K,c.length);for(s=0;s<f;s++)l.push(this.normalizedDataSource[c[s].index]);return l},t.prototype.getTargetValue=function(e,t){var r=this,n=[];return e.forEach((function(e){var i,a,u=new Map;t.forEach((function(t){u.has(t[e])||u.set(t[e],0),u.set(t[e],u.get(t[e])+1)}));var s=0,c=0;try{for(var l=o(u),f=l.next();!f.done;f=l.next()){var h=f.value;h[1]>s&&(s=h[1],c=h[0])}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}var d=r.dimensions.indexOf(e);d>-1?n.push(r.valueParser[d][c]):n.push(c)})),n},t}(function(){function e(e){var t=e.dataSource,r=e.dimensions,n=e.measures;this.dataSource=t,this.dimensions=r,this.measures=n}return e.prototype.normalize=function(){var e=this;return this.normalizedDataSource=[],this.valueSets=[],this.valueParser=[],this.ranges=[],this.dimensions.forEach((function(t){e.valueSets.push(new Map),e.valueParser.push([])})),this.measures.forEach((function(){e.ranges.push([1/0,-1/0])})),this.dataSource.forEach((function(t){e.dimensions.forEach((function(r,n){var o=(t[r]||"others").toString();e.valueSets[n].has(o)||(e.valueSets[n].set(o,e.valueSets[n].size),e.valueParser[n].push(o))})),e.measures.forEach((function(r,n){var o=t[r];"number"===typeof o&&(e.ranges[n][0]=Math.min(e.ranges[n][0],o),e.ranges[n][1]=Math.max(e.ranges[n][1],o))}))})),this.dataSource.forEach((function(t){var r=e.normalizeRecord(t);e.normalizedDataSource.push(r)})),this.normalizedDataSource},e.prototype.normalizeRecord=function(e){var t=this,r={};return this.measures.forEach((function(n,o){r[n]=(e[n]-t.ranges[o][0])/(t.ranges[o][1]-t.ranges[o][0])})),this.dimensions.forEach((function(n,o){var i=(e[n]||"others").toString();r[n]=t.valueSets[o].get(i)})),r},e}());t.KNN=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniformSampling=t.reservoirSampling=void 0,t.reservoirSampling=function(e,t){if(void 0===t&&(t=500),e.length<=t)return e;for(var r=e.slice(0,t),n=e.length,o=t+1;o<n;o++){var i=Math.round(Math.random()*o);i<t&&(r[i]=e[o])}return r},t.uniformSampling=function(e,t){for(var r=function(e,t){if(0===e)return[];for(var r=2147483647,n=[t],o=1;o<e;o++)n.push((1103515245*n[o-1]+12345)%r);return n.map((function(e){return e/r}))}(t,2147483647*Math.random()),n=[],o=0;o<t;o++){var i=Math.floor(r[o]*t)%t;n.push(e[i])}return n}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(1);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,r){"use strict";var n=r(1),o=r(61),i=r(62),a=r(21),u=r(63),s=r(66),c=r(67),l=r(24),f=r(9),h=r(10);e.exports=function(e){return new Promise((function(t,r){var d,p=e.data,y=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}n.isFormData(p)&&delete y["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(b+":"+w)}var _=u(e.baseURL,e.url);function S(){if(g){var n="getAllResponseHeaders"in g?s(g.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};o((function(e){t(e),m()}),(function(e){r(e),m()}),i),g=null}}if(g.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(S)},g.onabort=function(){g&&(r(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var M=(e.withCredentials||c(_))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;M&&(y[e.xsrfHeaderName]=M)}"setRequestHeader"in g&&n.forEach(y,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete y[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),v&&"json"!==v&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(r(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},function(e,t,r){"use strict";var n=r(22);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function u(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function s(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var c={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);n.isUndefined(o)&&t!==s||(r[e]=o)})),r}},function(e,t){e.exports={version:"0.22.0"}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},u=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cube=void 0;var s=r(7),c=r(0),l=r(72),f=r(87),h="_join_",d=["max","min","sum","mean","count","dist"],p="_cuboids",y=function(){function e(e){var t=this;this.storageName=p,this.storageManageMode=s.ICubeStorageManageMode.LocalMix,this.cuboidInMemorySizeLimit=1e3,this.recordPerformace=!1,this.cuboidOrderLimit=4;var r=e.dimensions,n=e.measures,o=e.dataSource,i=e.ops,a=void 0===i?d:i,u=e.storageName,c=void 0===u?p:u,l=e.cubeStorageManageMode,h=void 0===l?s.ICubeStorageManageMode.LocalMix:l,y=e.cuboidOrderLimit,v=void 0===y?4:y;this.dimensions=r,this.measures=n,this.dataSource=o,this.ops=a,this.cuboidOrderLimit=v,this.dimOrder=new Map,this._performance=new Map,r.forEach((function(e,r){t.dimOrder.set(e,r)})),this.cuboids=new Map,this.ranges=new Map,this.storageName=c,this.storageManageMode=h,"undefined"===typeof e.storage?(this.storage=new f.VIStorage(c),this.storage.init()):this.storage=e.storage}return e.prototype.sortDimension=function(e){var t=this,r=a([],i(e),!1);return r.sort((function(e,r){return t.dimOrder.get(e)-t.dimOrder.get(r)})),r},e.prototype.getCuboidKey=function(e){return this.sortDimension(e).join(h)},e.prototype.getCuboid=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i,a;return o(this,(function(o){switch(o.label){case 0:return this.recordPerformace?(t=performance.now(),[4,this._getCuboid(e)]):[3,2];case 1:return r=o.sent(),n=performance.now(),i=this.sortDimension(e),a=i.join(h),this._performance.has(a)||this._performance.set(a,[]),this._performance.get(a).push(n-t),[2,r];case 2:return[2,this._getCuboid(e)]}}))}))},e.prototype.showPerformance=function(){return a([],i(this._performance.entries()),!1)},e.prototype._getCuboid=function(e){return n(this,void 0,void 0,(function(){var t,r,n,s,c,f,d,p,y,v,m,g,b,w,_,S,M,x,O,E,D,I,T;return o(this,(function(o){switch(o.label){case 0:if(t=this.sortDimension(e),r=t.join(h),this.cuboids.has(r))return[2,this.cuboids.get(r)];n=new Set(e),s=[],c=[];try{for(f=u(this.dimensions),d=f.next();!d.done;d=f.next())p=d.value,n.has(p)||(y=this.sortDimension(a(a([],i(t),!1),[p],!1)),v=y.join(h),this.cuboids.has(v)?s.push(v):c.push(v))}catch(C){E={error:C}}finally{try{d&&!d.done&&(D=f.return)&&D.call(f)}finally{if(E)throw E.error}}if(m=1/0,g=this.dimensions.join(h),s.length>0)try{for(b=u(s),w=b.next();!w.done;w=b.next())_=w.value,(S=this.cuboids.get(_)).size<m&&(m=S.size,g=_)}catch(N){I={error:N}}finally{try{w&&!w.done&&(T=b.return)&&T.call(b)}finally{if(I)throw I.error}}else c.length>0&&(g=c[0]);return[4,this.getCuboid(g.split(h))];case 1:return M=o.sent(),x=this.getCuboidStorageMode(M.size),[4,(O=new l.Cuboid({dimensions:e,measures:this.measures,ops:this.ops,ranges:this.ranges,storage:this.storage,storageMode:x})).computeFromCuboid(M)];case 2:return o.sent(),this.cuboids.set(r,O),[2,O]}}))}))},e.prototype.getNearstExistParent=function(e){return n(this,void 0,void 0,(function(){var t,r,n,s,c,l,f,h,d;return o(this,(function(o){t=new Set(e),r=null,n=[];try{for(s=u(this.dimensions),c=s.next();!c.done;c=s.next())if(l=c.value,!t.has(l)&&(n=a(a([],i(e),!1),[l],!1),f=this.getCuboidKey(n),this.cuboids.has(f))){r=n;break}}catch(p){h={error:p}}finally{try{c&&!c.done&&(d=s.return)&&d.call(s)}finally{if(h)throw h.error}}return null!==r?[2,this.getCuboid(r)]:0!==n.length?[2,this.getNearstExistParent(n)]:[2,this.getBaseCuboid()]}))}))},e.prototype.computeRanges=function(){var e,t,r=this.measures,n=this.dataSource;try{for(var o=u(r),i=o.next();!i.done;i=o.next()){var a=i.value;this.ranges.set(a,(0,c.getRangeBy)(n,a))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.buildCuboidOnCluster=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i;return o(this,(function(o){switch(o.label){case 0:return t=this.sortDimension(this.dimensions).join(h),r=this.cuboids.get(t),n=this.getCuboidStorageMode(r.statSize),[4,(i=new l.Cuboid({dimensions:e,measures:this.measures,ops:this.ops,ranges:this.ranges,storage:this.storage,storageMode:n})).computeFromCuboid(r)];case 1:return o.sent(),this.cuboids.set(e.join(h),i),[2]}}))}))},e.prototype.getCuboidStorageMode=function(e){return this.storageManageMode===s.ICubeStorageManageMode.LocalCache?s.IStorageMode.LocalCache:this.storageManageMode===s.ICubeStorageManageMode.LocalDisk?s.IStorageMode.LocalDisk:e<=this.cuboidInMemorySizeLimit?s.IStorageMode.LocalCache:s.IStorageMode.LocalDisk},e.prototype.buildBaseCuboid=function(){return n(this,void 0,void 0,(function(){var e,t;return o(this,(function(r){switch(r.label){case 0:return e=this.getCuboidStorageMode(this.dataSource.length),this.computeRanges(),[4,(t=new l.Cuboid({dimensions:this.dimensions,measures:this.measures,ops:this.ops,ranges:this.ranges,storage:this.storage,storageMode:e})).setData(this.dataSource)];case 1:return r.sent(),this.cuboids.set(this.dimensions.join(h),t),[2,t]}}))}))},e.prototype.loadCuboid=function(e,t){return n(this,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:return[4,(r=new l.Cuboid({dimensions:e.split(h),measures:this.measures,ops:this.ops,ranges:this.ranges,storage:this.storage})).setState(t)];case 1:return n.sent(),this.cuboids.set(e,r),[2]}}))}))},e.prototype.exportCuboids=function(){return{}},e.prototype.getBaseCuboid=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){return e=this.dimensions.join(h),this.cuboids.has(e)?[2,this.cuboids.get(e)]:[2,this.buildBaseCuboid()]}))}))},Object.defineProperty(e.prototype,"cuboidSize",{get:function(){return this.cuboids.size},enumerable:!1,configurable:!0}),e}();t.Cube=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataGraph=void 0;var n=r(0),o=r(14),i=r(5),a=r(3),u=function(){function e(e,t){this.DIMENSION_CORRELATION_THRESHOLD=i.CramersVThreshold,this.MEASURE_CORRELATION_THRESHOLD=i.PearsonCorrelation.strong,this.dimensions=e,this.measures=t}return e.prototype.computeGraph=function(e,t,r){for(var n=t.map((function(e){return t.map((function(){return 0}))})),o=0;o<t.length;o++){n[o][o]=1;for(var i=o+1;i<t.length;i++)n[o][i]=n[i][o]=r(e,t[o],t[i])}return n},e.prototype.computeDGraph=function(e,t){return void 0===t&&(t=n.cramersV),this.DG=this.computeGraph(e,this.dimensions,t),this.DG},e.prototype.computeMGraph=function(e,t){return void 0===t&&(t=n.pearsonCC),this.MG=this.computeGraph(e,this.measures,t),this.MG},e.prototype.clusterDGraph=function(e,t){for(var r=this.dimensions,n=this.DIMENSION_CORRELATION_THRESHOLD,o=t||n,i=this.DG,u=[],s=0;s<r.length;s++){for(var c=[],l=0;l<r.length;l++)i[s][l]>=o&&c.push(r[l]);u.push(c)}var f=[],h=function(e){for(var t=[],r=!0,n=0;n<f.length;n++)(0,a.subset2theOther)(u[e],f[n])&&(u[e].length>f[n].length?t.push(n):r=!1);t.length>0&&(f=f.filter((function(e,r){return!t.includes(r)}))),r&&f.push(u[e])};for(s=0;s<u.length;s++)h(s);return this.DClusters=f,f},e.prototype.clusterMGraph=function(e,t){var r=this.measures,n=this.MEASURE_CORRELATION_THRESHOLD;return this.MClusters=(0,o.getMeaSetsBasedOnClusterGroups)(e,r,t||n),this.MClusters},e}();t.DataGraph=u},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.InsightWorkerCollection=void 0;var i=r(31),a=r(32),u=r(7),s=r(77),c=function(){function e(){this.workers=new Map}return e.prototype.register=function(e,t){if(this.workers.has(e))throw new Error("There has been a worker named: ".concat(e," already."));this.workers.set(e,[!0,t])},e.prototype.enable=function(e,t){if(!this.workers.has(e))throw new Error('Intention Worker "'.concat(e,'" does not exist.'));var r=this.workers.get(e);r[0]=t,this.workers.set(e,r)},e.prototype.each=function(e){var t,r;try{for(var i=n(this.workers),a=i.next();!a.done;a=i.next()){var u=o(a.value,2),s=u[0],c=u[1];c[0]&&e(c[1],s)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.init=function(t){void 0===t&&(t={withDefaultIWorkers:!0});var r=t.withDefaultIWorkers,n=void 0===r||r;return e.colletion||(e.colletion=new e,n&&(e.colletion.register(u.DefaultIWorker.outlier,i.IForestOutlierWorker),e.colletion.register(u.DefaultIWorker.cluster,s.KNNClusterWorker),e.colletion.register(u.DefaultIWorker.trend,a.LRTrendWorker))),Object.values(u.DefaultIWorker).forEach((function(t){e.colletion.enable(t,n)})),e.colletion},e}();t.InsightWorkerCollection=c},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.IForestOutlierWorker=void 0;var i=r(4);t.IForestOutlierWorker=function(e,t,r){return n(void 0,void 0,void 0,(function(){var n,a,u,s,c,l;return o(this,(function(o){for((n=new i.Outier.IsolationForest([],r,e)).buildIsolationForest(),a=n.estimateOutierScore(),u=0,s=0,c=0;c<a.length;c++)a[c]>s&&(s=a[c],u=c);return l={},t.concat(r).forEach((function(t){l[t]=e[u][t]})),[2,{dimensions:t,measures:r,significance:s,description:l}]}))}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},u=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.LRTrendWorker=void 0;var s=r(0);t.LRTrendWorker=function(e,t,r){return n(void 0,void 0,void 0,(function(){var n,c,l,f,h,d,p,y;return o(this,(function(o){if(1!==t.length)return[2,null];(n=a([],i(e),!1)).sort((function(e,r){return e[t[0]]>r[t[0]]?1:e[t[0]]===r[t[0]]?0:-1})),c=0;try{for(l=u(r),f=l.next();!f.done;f=l.next())h=f.value,(d=new s.oneDLinearRegression(n,t[0],h)).normalizeDimensions(t),c+=d.significance()}catch(v){p={error:v}}finally{try{f&&!f.done&&(y=l.return)&&y.call(l)}finally{if(p)throw p.error}}return c/=r.length,[2,{dimensions:t,measures:r,significance:c}]}))}))}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GroupIntention=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getTargetValuePercent=function(e,t,r){var n=[];return e.forEach((function(e,o){var i=0;r.forEach((function(r){r[e]===t[e]&&i++})),n.push(i/r.length)})),n},t.prototype.getSignificance=function(e,t){var r=this,n=0;return this.normalizedDataSource.forEach((function(o){var i=r.getNeighbors(o,e),a=r.getTargetValuePercent(t,o,i),u=0;a.forEach((function(e){u+=e})),u/=a.length,n+=u})),n/=this.normalizedDataSource.length},t}(r(18).KNN);t.GroupIntention=o},function(e,t,r){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,n=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},u=function(e){return function(t){this[e]=+t}},s=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],c=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var r,n=i.meridiem;if(n){for(var o=1;o<=24;o+=1)if(e.indexOf(n(o,0,t))>-1){r=o>12;break}}else r=e===(t?"pm":"PM");return r},f={A:[o,function(e){this.afternoon=l(e,!1)}],a:[o,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[n,u("seconds")],ss:[n,u("seconds")],m:[n,u("minutes")],mm:[n,u("minutes")],H:[n,u("hours")],h:[n,u("hours")],HH:[n,u("hours")],hh:[n,u("hours")],D:[n,u("day")],DD:[r,u("day")],Do:[o,function(e){var t=i.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],M:[n,u("month")],MM:[r,u("month")],MMM:[o,function(e){var t=c("months"),r=(c("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[o,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(e){this.year=a(e)}],YYYY:[/\d{4}/,u("year")],Z:s,ZZ:s};function h(r){var n,o;n=r,o=i&&i.formats;for(var a=(r=n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,n){var i=n&&n.toUpperCase();return r||o[n]||e[n]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,r){return t||r.slice(1)}))}))).match(t),u=a.length,s=0;s<u;s+=1){var c=a[s],l=f[c],h=l&&l[0],d=l&&l[1];a[s]=d?{regex:h,parser:d}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,n=0;r<u;r+=1){var o=a[r];if("string"==typeof o)n+=o.length;else{var i=o.regex,s=o.parser,c=e.substr(n),l=i.exec(c)[0];s.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var n=t.prototype,o=n.parse;n.parse=function(e){var t=e.date,n=e.utc,a=e.args;this.$u=n;var u=a[1];if("string"==typeof u){var s=!0===a[2],c=!0===a[3],l=s||c,f=a[2];c&&(f=a[2]),i=this.$locale(),!s&&f&&(i=r.Ls[f]),this.$d=function(e,t,r){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var n=h(t)(e),o=n.year,i=n.month,a=n.day,u=n.hours,s=n.minutes,c=n.seconds,l=n.milliseconds,f=n.zone,d=new Date,p=a||(o||i?1:d.getDate()),y=o||d.getFullYear(),v=0;o&&!i||(v=i>0?i-1:d.getMonth());var m=u||0,g=s||0,b=c||0,w=l||0;return f?new Date(Date.UTC(y,v,p,m,g,b,w+60*f.offset*1e3)):r?new Date(Date.UTC(y,v,p,m,g,b,w)):new Date(y,v,p,m,g,b,w)}catch(e){return new Date("")}}(t,u,n),this.init(),f&&!0!==f&&(this.$L=this.locale(f).$L),l&&t!=this.format(u)&&(this.$d=new Date("")),i={}}else if(u instanceof Array)for(var d=u.length,p=1;p<=d;p+=1){a[1]=u[p-1];var y=r.apply(this,a);if(y.isValid()){this.$d=y.$d,this.$L=y.$L,this.init();break}p===d&&(this.$d=new Date(""))}else o.call(this,e)}}}()},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.isFieldUnique=t.DKL=t.JOIN_SYMBOL=t.isFieldNumeric=t.isFieldTime=t.isFieldContinous=t.isFieldCategory=t.aggregate=t.groupContinousField=t.groupCategoryField=t.memberCount=t.copyData=t.deepcopy=t.subset2theOther=void 0;t.JOIN_SYMBOL="_";t.deepcopy=function(e){return JSON.parse(JSON.stringify(e))},t.copyData=function(e){return e.map((function(e){return n({},e)}))},t.isFieldCategory=function(e,t){return e.every((function(e){return"string"===typeof e[t]||"undefined"===typeof e[t]||null===e[t]}))},t.isFieldContinous=function(e,t){return e.every((function(e){return!isNaN(+e[t])||"undefined"===typeof e[t]||null===e[t]}))},t.isFieldNumeric=function(e,t){return e.every((function(e){return!isNaN(e[t])||"undefined"===typeof e[t]||null===e[t]}))};var u=[/^[0-9]{2,4}[-/][0-9]{1,2}([-/][0-9]{1,2})?$/,/^[0-9]{1,2}[-/][0-9]{1,2}[-/][0-9]{2,4}$/,/^[1-2][0-9]{3}[0-9]{2}[0-9]{2}$/,/^[0-9]{2,4}[-/][0-9]{1,2}[-/][0-9]{1,2} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}$/];function s(e,t){var r,n,u=new Map;try{for(var s=o(e),c=s.next();!c.done;c=s.next()){var l=c.value[t];u.has(l)||u.set(l,0),u.set(l,u.get(l)+1)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a([],i(u.entries()),!1)}t.isFieldTime=function(e,t){return e.every((function(e){return!isNaN(Number(e[t]))&&Number(e[t])>=1800&&Number(e[t])<=2200||("string"===typeof e[t]&&u.some((function(r){return r.test(e[t])}))||"undefined"===typeof e[t]||null===e[t])}))},t.aggregate=function(e){var t,r,u,s,c,l,f,h,d,p=e.dataSource,y=e.fields,v=e.bys,m=(e.method,[]);try{for(var g=o(v),b=g.next();!b.done;b=g.next()){var w=b.value,_=new Map,S=function(e){var t=JSON.stringify(y.map((function(t){return e[t]})));_.has(t)||_.set(t,0),_.set(t,_.get(t)+e[w])};try{for(var M=(u=void 0,o(p)),x=M.next();!x.done;x=M.next()){S(P=x.value)}}catch(L){u={error:L}}finally{try{x&&!x.done&&(s=M.return)&&s.call(M)}finally{if(u)throw u.error}}try{for(var O=(c=void 0,o(_)),E=O.next();!E.done;E=O.next()){for(var D=i(E.value,2),I=D[0],T=D[1],C=((f={index:I})[w]=T,f),N=JSON.parse(I),j=0;j<y.length;j++)C[y[j]]=N[j];m.push(C)}}catch(R){c={error:R}}finally{try{E&&!E.done&&(l=O.return)&&l.call(O)}finally{if(c)throw c.error}}}}catch(z){t={error:z}}finally{try{b&&!b.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}var A=new Map;try{for(var k=o(m),F=k.next();!F.done;F=k.next()){var P=F.value;A.has(P.index)||A.set(P.index,{}),A.set(P.index,n(n({},A.get(P.index)),P))}}catch(q){h={error:q}}finally{try{F&&!F.done&&(d=k.return)&&d.call(k)}finally{if(h)throw h.error}}return a([],i(A.values()),!1)},t.memberCount=s,t.groupContinousField=function(e){for(var t=e.dataSource,r=e.field,n=e.newField,o=void 0===n?"".concat(r,"(con-group)"):n,u=e.groupNumber,s=t.map((function(e){return e[r]})),c=Math.max.apply(Math,a([],i(s),!1)),l=Math.min.apply(Math,a([],i(s),!1)),f=(c-l)/u,h=[],d=0;d<u;d++){var p=l+d*f,y=l+(d+1)*f;h.push([p,y])}h[0][0]=-1/0,h[h.length-1][1]=1/0;var v=Math.max(1,Math.log10(Math.abs(l))-Math.log10(f))+1,m=function(e){var n=t[e],i=h.findIndex((function(e){return e[0]<=n[r]&&n[r]<e[1]})),a=h[i];n[o]="undefined"!==typeof a?"".concat(i+1,":[").concat(Number(a[0].toPrecision(v)),", ").concat(Number(a[1].toPrecision(v)),")"):"null"};for(d=0;d<t.length;d++)m(d);return t},t.groupCategoryField=function(e){var t,r,i=e.dataSource,a=e.field,u=e.newField,c=void 0===u?"".concat(a,"(cat-group)"):u,l=e.groupNumber,f=s(i,a);f.sort((function(e,t){return t[1]-e[1]}));var h=f.map((function(e){return e[1]}));l=f.length;for(var d=h.length-2;d>=0;d--)h[d]=h[d+1]+h[d];for(d=0;d<f.length-2;d++)if(5*f[d][1]>=h[d+1]&&f[d+1][1]/5<h[d+2]){l=d+2;break}if(l===f.length)return i.map((function(e){var t;return n(n({},e),((t={})[c]=e[a],t))}));var p=new Set;for(d=l-1;d<f.length;d++)p.add(f[d][0]);try{for(var y=o(i),v=y.next();!v.done;v=y.next()){var m=v.value;p.has(m[a])?m[c]="others":m[c]=m[a]}}catch(g){t={error:g}}finally{try{v&&!v.done&&(r=y.return)&&r.call(y)}finally{if(t)throw t.error}}return i},t.DKL=function(e,t){for(var r=0,n=Math.max(e.length,t.length),o=0;o<n;o++){var i=e[o]||0,a=t[o]||0;r+=i*Math.log2(i/a)}return r},t.isFieldUnique=function(e,t){for(var r=new Set,n=0,o=e.length,i=0;i<o;i++)void 0!==e[i][t]&&null!==e[i][t]&&""!==e[i][t]&&(n++,r.add(e[i][t]));return r.size===n},t.subset2theOther=function(e,t){var r,n,i=e.length>t.length?t:e,a=e.length>t.length?new Set(e):new Set(t);try{for(var u=o(i),s=u.next();!s.done;s=u.next()){var c=s.value;if(!a.has(c))return!1}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return!0}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3);var i={interval:[0,10],line:[11,1/0],area:[11,1/0],point:[0,1e3],path:[0,100],density:[1001,1/0]};function a(e,t){for(var r=t.length-1;r>=0;r--)if(t[r].type===e&&!t[r].choosen)return t[r];return!1}t.default=function(e,t,r,u){var s=function(e){for(var t={},r={position:2,color:1,size:1,shape:1,opacity:1,facets:2,page:1,filter:1,highFacets:1e3},o=e.map((function(e){return n(n({},e),{choosen:!1})})),i=[["quantitative",["position","size","color","highFacets","opacity","page","filter"]],["temporal",["position","page","filter"]],["ordinal",["position","color","opacity","facets","size","page","filter","highFacets"]],["nominal",["position","color","facets","shape","page","filter","hightFacets"]]],u=o.length,s=0;s<i.length&&u>0;s++)for(var c=i[s][0],l=i[s][1],f=0;f<l.length&&u>0;f++)for(var h=l[f],d=void 0;r[h]>0&&(d=a(c,o));)"undefined"===typeof t[h]&&(t[h]=[]),t[h].push(d.name),r[h]--,u--,d.choosen=!0;return t}(e.sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[3]})));if(s.position&&2===s.position.length)if(r.includes(s.position[0])&&u.includes(s.position[1])||r.includes(s.position[1])&&u.includes(s.position[0])){var c=r.includes(s.position[0])?0:1,l=s.position[c],f=s.position[(c+1)%2];s.position=[l,f];var h=(0,o.memberCount)(t,l);s.geomType=["interval","line","area"].filter((function(e){return h.length>=i[e][0]&&h.length<=i[e][1]}));var d=e.find((function(e){return e[0]===s.position[0]}))[3],p=e.find((function(e){return e[0]===s.position[1]}))[3];"nominal"!==d.type&&"nominal"!==p.type||(s.geomType=["interval"])}else s.geomType=["point","density"].filter((function(e){return t.length>=i[e][0]&&t.length<=i[e][1]}));return{schema:s,aggData:t}}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.dropNullColumn=t.useMode=t.dropNull=t.simpleClean=void 0;var a=r(3);function u(e){return["",null,void 0].includes(e)}t.dropNullColumn=function(e,t){var r,o,i=t.map((function(){return!1}));try{for(var a=n(e),u=a.next();!u.done;u=a.next())for(var s=u.value,c=0;c<t.length;c++){var l=t[c];"undefined"!==typeof s[l]&&""!==s[l]&&null!==s[l]&&(i[c]=!0)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}var f=t.filter((function(e,t){return i[t]}));return{fields:f,dataSource:e.map((function(e){var t,r,o={};try{for(var i=n(f),a=i.next();!a.done;a=i.next()){var u=a.value;o[u]=e[u]}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o}))}},t.dropNull=function(e,t,r){var o,i,a,u,s,c,l=[];try{for(var f=n(e),h=f.next();!h.done;h=f.next()){var d=h.value,p=!0;try{for(var y=(a=void 0,n(t)),v=y.next();!v.done;v=y.next()){var m=v.value;"undefined"!==typeof d[m]&&""!==d[m]&&null!==d[m]||(p=!1)}}catch(w){a={error:w}}finally{try{v&&!v.done&&(u=y.return)&&u.call(y)}finally{if(a)throw a.error}}try{for(var g=(s=void 0,n(r)),b=g.next();!b.done;b=g.next()){"number"!==typeof d[b.value]&&(p=!1)}}catch(_){s={error:_}}finally{try{b&&!b.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}p&&l.push(d)}}catch(S){o={error:S}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}return l},t.useMode=function(e,t){var r,s,c,l,f,h,d,p,y,v,m,g,b=new Map,w=new Map;try{for(var _=n(t),S=_.next();!S.done;S=_.next()){var M=S.value;b.set(M,new Map),w.set(M,0)}}catch(G){r={error:G}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}try{for(var x=n(e),O=x.next();!O.done;O=x.next()){var E=O.value;try{for(var D=(f=void 0,n(t)),I=D.next();!I.done;I=D.next()){M=I.value;var T=b.get(M);u(E[M])||(T.has(E[M])||T.set(E[M],0),T.set(E[M],T.get(E[M])+1))}}catch(V){f={error:V}}finally{try{I&&!I.done&&(h=D.return)&&h.call(D)}finally{if(f)throw f.error}}}}catch(Y){c={error:Y}}finally{try{O&&!O.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}try{for(var C=n(b.keys()),N=C.next();!N.done;N=C.next()){for(var j=N.value,A=(T=b.get(j),i([],o(T.entries()),!1)),k=0,F=0,P=0;P<A.length;P++){var L=A[P];L[1]>k&&(k=L[1],F=P)}w.set(j,A[F][0])}}catch($){d={error:$}}finally{try{N&&!N.done&&(p=C.return)&&p.call(C)}finally{if(d)throw d.error}}var R=(0,a.deepcopy)(e);try{for(var z=n(R),q=z.next();!q.done;q=z.next()){E=q.value;try{for(var B=(m=void 0,n(t)),U=B.next();!U.done;U=B.next()){u(E[M=U.value])&&(E[M]=w.get(M))}}catch(H){m={error:H}}finally{try{U&&!U.done&&(g=B.return)&&g.call(B)}finally{if(m)throw m.error}}}}catch(W){y={error:W}}finally{try{q&&!q.done&&(v=z.return)&&v.call(z)}finally{if(y)throw y.error}}return R},t.simpleClean=function(e,t,r){var o,i,s,c,l,f,h=(0,a.deepcopy)(e);try{for(var d=n(e),p=d.next();!p.done;p=d.next()){var y=p.value;try{for(var v=(s=void 0,n(t)),m=v.next();!m.done;m=v.next()){var g=m.value;u(y[g])&&(y[g]="null")}}catch(S){s={error:S}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}try{for(var b=(l=void 0,n(r)),w=b.next();!w.done;w=b.next()){var _=w.value;u(y[_])&&(y[_]=0)}}catch(M){l={error:M}}finally{try{w&&!w.done&&(f=b.return)&&f.call(b)}finally{if(l)throw l.error}}}}catch(x){o={error:x}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return h}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function i(e,t,r){var i,a,u,s,c,l,f,h,d,p,y,v;if("undefined"===typeof e||"undefined"===typeof t||"undefined"===typeof r)return 0;var m=new Map,g=new Map,b=0;try{for(var w=n(t),_=w.next();!_.done;_=w.next()){var S=_.value;m.set(S,0)}}catch(G){i={error:G}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var M=n(r),x=M.next();!x.done;x=M.next()){var O=x.value;g.set(O,0)}}catch(V){u={error:V}}finally{try{x&&!x.done&&(s=M.return)&&s.call(M)}finally{if(u)throw u.error}}try{for(var E=n(e),D=E.next();!D.done;D=E.next()){var I=o(D.value,2),T=(S=I[0],I[1]);try{for(var C=(f=void 0,n(T)),N=C.next();!N.done;N=C.next()){var j=o(N.value,2),A=(O=j[0],j[1]);m.set(S,m.get(S)+A),g.set(O,g.get(O)+A),b+=A}}catch(Y){f={error:Y}}finally{try{N&&!N.done&&(h=C.return)&&h.call(C)}finally{if(f)throw f.error}}}}catch($){c={error:$}}finally{try{D&&!D.done&&(l=E.return)&&l.call(E)}finally{if(c)throw c.error}}var k=0;try{for(var F=n(e),P=F.next();!P.done;P=F.next()){var L=o(P.value,2);S=L[0],T=L[1];try{for(var R=(y=void 0,n(T)),z=R.next();!z.done;z=R.next()){var q=o(z.value,2),B=(O=q[0],q[1]),U=m.get(S)*g.get(O)/b;k+=Math.pow(B-U,2)/U}}catch(H){y={error:H}}finally{try{z&&!z.done&&(v=R.return)&&v.call(R)}finally{if(y)throw y.error}}}}catch(W){d={error:W}}finally{try{P&&!P.done&&(p=F.return)&&p.call(F)}finally{if(d)throw d.error}}return k}Object.defineProperty(t,"__esModule",{value:!0}),t.pearsonCC=t.chiSquaredFromDataSource=t.cramersV=t.chiSquared=void 0,t.chiSquared=i;t.cramersV=function(e,t,r){for(var n=new Set,o=new Set,a=new Map,u=e.length,s=0;s<u;s++){var c=e[s];n.add(c[t]),o.add(c[r]),a.has(c[t])||a.set(c[t],new Map);var l=a.get(c[t]);l.has(c[r])||l.set(c[r],0),l.set(c[r],l.get(c[r])+1)}var f=i(a,n,o);return Math.sqrt(f/(e.length*Math.min(n.size-1,o.size-1)))},t.chiSquaredFromDataSource=function(e,t,r){for(var n=new Set,o=new Set,a=new Map,u=e.length,s=0;s<u;s++){var c=e[s];n.add(c[t]),o.add(c[r]),a.has(c[t])||a.set(c[t],new Map);var l=a.get(c[t]);l.has(c[r])||l.set(c[r],0),l.set(c[r],l.get(c[r])+1)}return i(a,n,o)};function a(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r];return t}t.pearsonCC=function(e,t,r){var n=a(e.map((function(e){return e[t]})))/e.length,o=a(e.map((function(e){return e[r]})))/e.length;return a(e.map((function(e){return(e[t]-n)*(e[r]-o)})))/Math.sqrt(a(e.map((function(e){return Math.pow(e[t]-n,2)})))*a(e.map((function(e){return Math.pow(e[r]-o,2)}))))}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.oneDLinearRegression=void 0;var o=function(){function e(e,t,r){this.dataSource=e,this.X=t,this.Y=r,this.normalizedDataSource=e}return e.prototype.normalizeDimensions=function(e){var t=this;return this.normalizedDataSource=[],this.valueSets=[],e.forEach((function(){t.valueSets.push(new Map)})),this.dataSource.forEach((function(r){e.forEach((function(e,n){var o=(r[e]||"others").toString();t.valueSets[n].has(o)||t.valueSets[n].set(o,t.valueSets[n].size)}))})),this.dataSource.forEach((function(r){var n=t.normalizeRecord(r,e);t.normalizedDataSource.push(n)})),this.normalizedDataSource},e.prototype.normalizeRecord=function(e,t){var r=this,n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),t.forEach((function(t,o){var i=(e[t]||"others").toString();n[t]=r.valueSets[o].get(i)})),n},e.prototype.mean=function(){var e=this,t=0,r=0;return 0===this.normalizedDataSource.length||(this.normalizedDataSource.forEach((function(n,o){t+=n[e.X],r+=n[e.Y]})),t/=this.normalizedDataSource.length,r/=this.normalizedDataSource.length),[t,r]},e.prototype.getRegressionEquation=function(){var e=this;if(0===this.normalizedDataSource.length)return[0,0];var t,r=n(this.mean(),2),o=r[0],i=r[1],a=0,u=0;return this.normalizedDataSource.forEach((function(t){a+=(t[e.X]-o)*(t[e.Y]-i),u+=Math.pow(t[e.X]-o,2)})),[i-o*(t=a/u),t]},e.prototype.r_squared=function(){var e=this,t=n(this.mean(),2)[1],r=n(this.getRegressionEquation(),2),o=r[0],i=r[1],a=0,u=0;return this.normalizedDataSource.forEach((function(r){var n=r[e.X],s=r[e.Y],c=n*i+o;a+=Math.pow(c-t,2),u+=Math.pow(s-t,2)})),a/u},e.prototype.cumulativeLogisticDistribution=function(e){return 1/(1+Math.pow(Math.E,-(e-.2)/2))},e.prototype.pValue=function(){var e=n(this.getRegressionEquation(),2)[1],t=this.cumulativeLogisticDistribution(Math.abs(e));return t>.5?2*(1-t):2*t},e.prototype.significance=function(){return this.r_squared()*(1-this.pValue())},e}();t.oneDLinearRegression=o},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.stdAggregateFromCuboid=t.getAggHashKey=t.stdAggregate=t.simpleAggregate=t.groupByDev=t.encodeRowsByValueMap=t.getValueMapList=t.groupBy=t.getAggregator=t.SFMapper=void 0;var a=r(12),u=r(12),s="_@_";function c(e){return t.SFMapper[e]||a.sum}function l(e,t){var r,n,i=new Map,a=function(e){var r=t.map((function(t){return e[t]})).join(s);i.has(r)||i.set(r,[]),i.get(r).push(e)};try{for(var u=o(e),c=u.next();!c.done;c=u.next()){a(c.value)}}catch(l){r={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i}t.SFMapper={sum:a.sum,max:a.max,mean:a.mean,min:a.min,count:function(e){return e.length}},t.getAggregator=c,t.groupBy=l,t.getValueMapList=function(e,t){for(var r=[],n=[],o=0;o<t.length;o++){for(var i=new Map,a=[],u=0,s=0;s<e.length;s++)i.has(e[s][t[o]])||(a.push(e[s][t[o]]),i.set(e[s][t[o]],u),u++);n.push(a),r.push(i)}return r},t.encodeRowsByValueMap=function(e,t,r){return e.map((function(e){var o=n({},e);return t.forEach((function(t,n){o[t]=r[n].get(e[t])})),o}))},t.groupByDev=function(e,t,r){var n,i,a=new Map,u=function(e){var n=t.map((function(t,n){return r[n].get(e[t])})).join(s);a.has(n)||a.set(n,[]),a.get(n).push(e)};try{for(var c=o(e),l=c.next();!l.done;l=c.next()){u(l.value)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return a},t.simpleAggregate=function(e){var t,r,n=e.dataSource,a=e.dimensions,u=e.measures,f=e.ops,h=l(n,a),d=[],p=function(e,t){var r={};u.forEach((function(e,n){var o=c(f[n]);r[e]=o(t.map((function(t){return t[e]})))}));var n=e.split(s);a.forEach((function(e,t){r[e]=n[t]})),d.push(r)};try{for(var y=o(h),v=y.next();!v.done;v=y.next()){var m=i(v.value,2);p(m[0],m[1])}}catch(g){t={error:g}}finally{try{v&&!v.done&&(r=y.return)&&r.call(y)}finally{if(t)throw t.error}}return d},t.stdAggregate=function(e){var t,r,n=e.dataSource,a=e.dimensions,u=e.measures,f=e.ops,h=l(n,a),d=[],p=function(e,t){var r={groupDict:{},stat:{}};u.forEach((function(e,n){r.stat[e]={},f.forEach((function(n){var o=c(n);r.stat[e][n]=o(t.map((function(t){return t[e]})))}))}));var n=e.split(s);a.forEach((function(e,t){r.groupDict[e]=n[t]})),d.push(r)};try{for(var y=o(h),v=y.next();!v.done;v=y.next()){var m=i(v.value,2);p(m[0],m[1])}}catch(g){t={error:g}}finally{try{v&&!v.done&&(r=y.return)&&r.call(y)}finally{if(t)throw t.error}}return d},t.getAggHashKey=function(e){return e.join(s)},t.stdAggregateFromCuboid=function(e){var t,r,n=e.cuboidState,a=e.dimensions,l=e.measures,f=e.ops,h=function(e,t){var r,n,i=new Map,a=function(e){var r=t.map((function(t){return e.groupDict[t]})).join(s);i.has(r)||i.set(r,[]),i.get(r).push(e)};try{for(var u=o(e),c=u.next();!c.done;c=u.next())a(c.value)}catch(l){r={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i}(n,a),d=[],p=f.filter((function(e){return!["sum","count","mean","dist"].includes(e)})),y=p.map((function(e){return c(e)})),v=function(e,t){for(var r={groupDict:{},stat:{}},n=function(e){var n=l[e];r.stat[n]={},y.forEach((function(e,o){var i=p[o];r.stat[n][i]=e(t.map((function(e){return e.stat[n][i]})))})),r.stat[n].sum=(0,u.sumByCol)(t,n,"sum"),r.stat[n].count=(0,u.sumByCol)(t,n,"count"),r.stat[n].mean=r.stat[n].sum/r.stat[n].count,r.stat[n].dist=(0,u.distMergeBy)(t,n,"dist")},o=0;o<l.length;o++)n(o);for(var i=e.split(s),c=0;c<a.length;c++)r.groupDict[a[c]]=i[c];d.push(r)};try{for(var m=o(h),g=m.next();!g.done;g=m.next()){var b=i(g.value,2);v(b[0],b[1])}}catch(w){t={error:w}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}return d}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.generalMatMic=t.matrixBinShareRange=t.initRanges=t.incSim=t.normalizeScatter=t.pureGeneralConditionH=t.pureGeneralMic=t.generalMic=t.mic=t.rangeNormilize=t.binMapShareRange=t.binMap=t.binShareRange=t.bin=t.w2dis=t.l2Dis2=t.l1Dis2=t.l1Dis=t.firstWDis=void 0;var a=r(17);function u(e,t){for(var r=0,n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)r+=Math.pow(e[n][o]-t[n][o],2);return r/2}t.firstWDis=function(e,t){},t.l1Dis=function(e,t){for(var r=0,n=Math.min(e.length,t.length),o=0;o<n;o++)r+=Math.abs(e[o]-t[o]);return r/2},t.l1Dis2=function(e,t){for(var r=0,n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)r+=Math.abs(e[n][o]-t[n][o]);return r/2},t.l2Dis2=u,t.w2dis=function(){};var s=16;function c(e,t,r){for(var n=(r-t)/s,o=new Array(17).fill(0),i=0;i<e.length;i++){o[Math.floor((e[i]-t)/n)%17]++}return o[15]+=o[16],o.slice(0,s)}function l(e){for(var t=0,r=[],n=0;n<e.length;n++)t+=e[n];for(n=0;n<e.length;n++)r.push(e[n]/t);return r}function f(e){for(var t=-1/0,r=-1/0,n=1/0,o=1/0,i=0;i<e.length;i++)t=Math.max(e[i][0],t),r=Math.max(e[i][1],r),n=Math.min(e[i][0],n),o=Math.min(e[i][1],o);var a=(t-n)/s,u=(r-o)/s,c=new Array(17).fill(0).map((function(){return new Array(17).fill(0)}));for(i=0;i<e.length;i++){var l=Math.floor((e[i][0]-n)/a),f=Math.floor((e[i][1]-o)/u);c[l][f]++}for(i=0;i<=s;i++)c[i][15]+=c[i][16],c[15][i]+=c[16][i];var h=new Array(s).fill(0).map((function(){return new Array(s).fill(0)}));for(i=0;i<s;i++)for(var d=0;d<s;d++)h[i][d]=c[i][d]/e.length;return h}function h(e,t){for(var r=[],i=function(t){r.push([Math.min.apply(Math,o([],n(e.map((function(e){return e[t]}))),!1)),Math.max.apply(Math,o([],n(e.map((function(e){return e[t]}))),!1))])},a=0;a<t;a++)i(a);return r}t.bin=function(e){for(var t=Math.max.apply(Math,o([],n(e),!1)),r=Math.min.apply(Math,o([],n(e),!1)),i=(t-r)/s,a=new Array(17).fill(0),u=0;u<e.length;u++){a[Math.floor((e[u]-r)/i)%17]++}return a[15]+=a[16],a.slice(0,s)},t.binShareRange=c,t.binMap=function(e){for(var t=Math.max.apply(Math,o([],n(e),!1)),r=Math.min.apply(Math,o([],n(e),!1)),i=(t-r)/s,a=[],u=0;u<e.length;u++){var c=Math.floor((e[u]-r)/i);c===s&&(c=15),a.push(c)}return a},t.binMapShareRange=function(e,t,r){for(var n=(r-t)/s,o=[],i=0;i<e.length;i++){var a=Math.floor((e[i]-t)/n);a===s&&(a=15),o.push(a)}return o},t.rangeNormilize=l,t.mic=function(e,t){for(var r=0,i=Math.min.apply(Math,o([],n(t),!1)),u=Math.max.apply(Math,o([],n(t),!1)),f=(0,a.entropy)(l(c(t,i,u).filter((function(e){return e>0})))),h=function(n){var o=t.filter((function(t,r){return e[r]===n})),s=c(o,i,u).filter((function(e){return e>0})),f=(0,a.entropy)(l(s)),h=o.length/t.length;r+=h*f},d=0;d<s;d++)h(d);return(f-r)/Math.log2(s)},t.generalMic=function(e,t){for(var r=0,i=Math.min.apply(Math,o([],n(t),!1)),u=Math.max.apply(Math,o([],n(t),!1)),f=(0,a.entropy)(l(c(t,i,u).filter((function(e){return e>0})))),h=new Set(e),d=o([],n(h),!1),p=[],y=function(r){var n=t.filter((function(t,n){return e[n]===d[r]})),o=c(n,i,u);p.push({freq:n.length,bins:o})},v=0;v<d.length;v++)y(v);p.sort((function(e,t){return t.freq-e.freq}));var m={freq:0,bins:new Array(s).fill(0)};for(v=0;v<p.length;v++){var g=p[v],b=g.bins,w=g.freq;if(v<15){var _=(0,a.entropy)(l(b.filter((function(e){return e>0}))));r+=w/t.length*_}else{m.freq+=w;for(var S=0;S<s;S++)m.bins[S]+=b[S]}}if(m.freq>0){b=m.bins,w=m.freq,_=(0,a.entropy)(l(b.filter((function(e){return e>0}))));r+=w/t.length*_}return(f-r)/Math.log2(Math.min(s,d.length))},t.pureGeneralMic=function(e,t){for(var r=0,i=Math.min.apply(Math,o([],n(t),!1)),u=Math.max.apply(Math,o([],n(t),!1)),s=(0,a.entropy)(l(c(t,i,u).filter((function(e){return e>0})))),f=new Set(e),h=o([],n(f),!1),d=[],p=function(r){var n=t.filter((function(t,n){return e[n]===h[r]})),o=c(n,i,u);d.push({freq:n.length,bins:o})},y=0;y<h.length;y++)p(y);for(y=0;y<d.length;y++){var v=d[y],m=v.bins,g=v.freq,b=(0,a.entropy)(l(m.filter((function(e){return e>0}))));r+=g/t.length*b}return s-r},t.pureGeneralConditionH=function(e,t){for(var r=0,i=Math.min.apply(Math,o([],n(t),!1)),u=Math.max.apply(Math,o([],n(t),!1)),f=((0,a.entropy)(l(c(t,i,u).filter((function(e){return e>0})))),new Set(e)),h=o([],n(f),!1),d=[],p=function(r){var n=t.filter((function(t,n){return e[n]===h[r]})),o=c(n,i,u);d.push({freq:n.length,bins:o})},y=0;y<h.length;y++)p(y);d.sort((function(e,t){return t.freq-e.freq}));var v={freq:0,bins:new Array(s).fill(0)};for(y=0;y<d.length;y++){var m=d[y],g=m.bins,b=m.freq;if(y<15){var w=(0,a.entropy)(l(g.filter((function(e){return e>0}))));r+=b/t.length*w}else{v.freq+=b;for(var _=0;_<s;_++)v.bins[_]+=g[_]}}if(v.freq>0){g=v.bins,b=v.freq,w=(0,a.entropy)(l(g.filter((function(e){return e>0}))));r+=b/t.length*w}return r},t.normalizeScatter=f,t.incSim=function(e,t,r){for(var o,a,c,l,h=u(f(t),f(r)),d=new Map,p=0;p<e.length;p++){if(!d.has(e[p])){var y={X:[],Y:[]};d.set(e[p],y)}null===(c=d.get(e[p]))||void 0===c||c.X.push(t[p]),null===(l=d.get(e[p]))||void 0===l||l.Y.push(r[p])}var v=0;try{for(var m=i(d.entries()),g=m.next();!g.done;g=m.next()){var b=(y=n(g.value,2)[1]).X.length/t.length;0!==b&&(y.X.length<Math.pow(s,2)?v+=b:v+=b*u(f(y.X),f(y.Y)))}}catch(w){o={error:w}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}return h-v},t.initRanges=h;function d(e,t){for(var r=new Array(9).fill(0).map((function(){return new Array(9).fill(0)})),n=(t[0][1]-t[0][0])/8,o=(t[1][1]-t[1][0])/8,i=0;i<e.length;i++){var a=Math.floor((e[i][0]-t[0][0])/n);r[Math.floor((e[i][1]-t[1][0])/o)][a]++}for(i=0;i<9;i++)r[i][7]+=r[i][8];for(i=0;i<8;i++)r[7][i]+=r[8][i];return r.slice(0,8).map((function(e){return e.slice(0,8)}))}t.matrixBinShareRange=d,t.generalMatMic=function(e,t){for(var r=0,i=h(t,2),u=(0,a.entropy)(l(d(t,i).flatMap((function(e){return e})).filter((function(e){return e>0})))),s=new Set(e),c=o([],n(s),!1),f=[],p=function(r){var n=t.filter((function(t,n){return e[n]===c[r]})),o=d(n,i).flatMap((function(e){return e}));f.push({freq:n.length,bins:o})},y=0;y<c.length;y++)p(y);f.sort((function(e,t){return t.freq-e.freq}));var v={freq:0,bins:new Array(64).fill(0)};for(y=0;y<f.length;y++){var m=f[y],g=m.bins,b=m.freq;if(y<15){var w=(0,a.entropy)(l(g.filter((function(e){return e>0}))));r+=b/t.length*w}else{v.freq+=b;for(var _=0;_<64;_++)v.bins[_]+=g[_]}}if(v.freq>0){g=v.bins,b=v.freq,w=(0,a.entropy)(l(g.filter((function(e){return e>0}))));r+=b/t.length*w}return(u-r)/Math.log2(c.length)}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.cramersV=t.getDashBoardView=t.getDashBoardSubspace=t.getEntropyMatrix=void 0;var a=r(4),u=r(0),s=r(0);Object.defineProperty(t,"cramersV",{enumerable:!0,get:function(){return s.cramersV}});var c=r(5);function l(e,t,r,o){for(var i,a,c=[],l=0;l<e.length;l++){var f=e[l];c.push([]);var h=(0,u.stdAggregate)({dimensions:f,measures:t,dataSource:r,ops:t.map((function(e){return o||"sum"}))}),d=function(e){var t=h.map((function(t){return t[e]})),r=(0,u.normalize)((0,s.mapPositive)(t)),n=(0,u.entropy)(r);c[l].push(n)};try{for(var p=(i=void 0,n(t)),y=p.next();!y.done;y=p.next()){d(y.value)}}catch(v){i={error:v}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}return c}function f(e){var t=0,r=e.length,n=1/0,o=-1;for(t=0;t<r;t++)e[t]<n&&(n=e[t],o=t);return o}t.getEntropyMatrix=l,t.getDashBoardSubspace=function(e,t,r,u){for(var f,h,d,p,y,v,m=r.map((function(e){return r.map((function(e){return 0}))})),g=0;g<r.length;g++){m[g][g]=1;for(var b=g+1;b<r.length;b++){var w=(0,s.pearsonCC)(e,r[g],r[b]);m[b][g]=m[g][b]=w}}var _=a.Cluster.kruskal({matrix:m,measures:r,groupMaxSize:Math.round(r.length/6),threshold:c.PearsonCorrelation.weak}),S=t.map((function(e){return t.map((function(e){return 0}))}));for(g=0;g<t.length;g++){S[g][g]=1;for(b=g+1;b<t.length;b++)S[g][b]=S[b][g]=(0,s.cramersV)(e,t[g],t[b])}var M=new Set;try{for(var x=n(u),O=x.next();!O.done;O=x.next()){var E=O.value;try{for(var D=(d=void 0,n(E[0])),I=D.next();!I.done;I=D.next()){var T=I.value;M.add(T)}}catch(F){d={error:F}}finally{try{I&&!I.done&&(p=D.return)&&p.call(D)}finally{if(d)throw d.error}}}}catch(P){f={error:P}}finally{try{O&&!O.done&&(h=x.return)&&h.call(x)}finally{if(f)throw f.error}}var C=i([],o(M),!1),N=[],j=function(n){for(var o=n.map((function(e){return n.map((function(e){return 0}))})),i=0;i<n.length;i++)for(var a=r.indexOf(n[i]),u=0;u<n.length;u++){var s=r.indexOf(n[u]);o[i][u]=m[a][s]}var c=C.map((function(e){return C.map((function(e){return 0}))}));for(i=0;i<C.length;i++){var f=t.indexOf(C[i]);for(u=0;u<C.length;u++){var h=t.indexOf(C[u]);c[i][u]=S[f][h]}}N.push({dimensions:C,measures:n,correlationMatrix:o,dimensionCorrelationMatrix:c,entropyMatrix:l(C.map((function(e){return[e]})),n,e)})};try{for(var A=n(_),k=A.next();!k.done;k=A.next()){j(k.value)}}catch(L){y={error:L}}finally{try{k&&!k.done&&(v=A.return)&&v.call(A)}finally{if(y)throw y.error}}return N},t.getDashBoardView=function(e,t){var r,o,i=e.dimensions,u=e.measures,s=e.entropyMatrix,h=e.dimensionCorrelationMatrix,d=[],p=a.Cluster.kruskal({matrix:e.correlationMatrix,measures:u,groupMaxSize:Math.round(u.length/3),threshold:c.PearsonCorrelation.strong}),y=function(e){var t=e.map((function(e){return u.indexOf(e)})),r=i.map((function(e,r){var o,i,a=0;try{for(var u=(o=void 0,n(t)),c=u.next();!c.done;c=u.next()){var l=c.value;a+=s[r][l]}}catch(f){o={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return a})),o=i[f(r)];d.push({type:"target",dimensions:[o],measures:e})};try{for(var v=n(p),m=v.next();!m.done;m=v.next()){y(m.value)}}catch(S){r={error:S}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}for(var g=a.Cluster.kruskal({matrix:h,measures:i,groupMaxSize:2,limitSize:!0,threshold:c.CramersVThreshold}),b=l(g,u,t),w=0;w<g.length;w++){var _=u[f(b[w])];d.push({type:"feature",dimensions:g[w],measures:[_]})}return d}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.kruskalWithFullMST=t.kruskal=void 0;var a=i(r(44));t.kruskal=a.default,Object.defineProperty(t,"kruskalWithFullMST",{enumerable:!0,get:function(){return a.kruskalMST}})},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};function a(e){for(var t=[],r=0;r<e.length;r++)for(var n=r+1;n<e[r].length;n++)t.push([[r,n],Math.abs(e[r][n])]);return t}function u(e,t){return e[t]===t?t:e[t]=u(e,e[t])}function s(e,t,r){var n=u(e,t),o=u(e,r);e[n]=o,u(e,t),u(e,r)}function c(e,t,r){return e[r]===r?r:(e[r]=c(e,t,e[r]),t[r]=t[e[r]],e[r])}function l(e,t,r,n){var o=c(e,t,r),i=c(e,t,n),a=t[o],u=t[i];e[o]=i,t[o]=t[i]=a+u,c(e,t,r),c(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.kruskalMST=t.kruskalMSTWithLimitSize=void 0,t.kruskalMSTWithLimitSize=function(e,t){var r,o;void 0===t&&(t=4);var i=a(e);i.sort((function(e,t){return t[1]-e[1]}));var f=[],h=e.map((function(e,t){return t})),d=e.map((function(e,t){return t})),p=e.map((function(){return 1}));try{for(var y=n(i),v=y.next();!v.done;v=y.next()){var m=v.value;if(c(h,p,m[0][0])!==c(h,p,m[0][1])){if(p[m[0][0]]+p[m[0][1]]>t){u(d,m[0][0])!==u(d,m[0][1])&&(f.push([m[0],m[1],!0]),s(d,m[0][0],m[0][1]));continue}l(h,p,m[0][0],m[0][1]),f.push([m[0],m[1],!1])}for(var g=0;g<h.length;g++)h[g]=c(h,p,g),d[g]=u(d,g);if(1===new Set(h).size)break}}catch(b){r={error:b}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}return{edgesInMST:f,groups:h}},t.kruskalMST=function(e,t,r){var c,l;void 0===t&&(t=4),void 0===r&&(r=0);var f=a(e);f.sort((function(e,t){return t[1]-e[1]}));var h=[],d=e.map((function(e,t){return t})),p=i([],o(d),!1),y=!1;try{for(var v=n(f),m=v.next();!m.done;m=v.next()){var g=m.value;u(d,g[0][0])!==u(d,g[0][1])&&(s(d,g[0][0],g[0][1]),h.push([g[0],g[1],y]));for(var b=0;b<d.length;b++)d[b]=u(d,b);var w=new Set(d);if(w.size<=t||g[1]<r?y=!0:p=i([],o(d),!1),1===w.size)break}}catch(_){c={error:_}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(c)throw c.error}}return{edgesInMST:h,groups:p}},t.default=function(e){var t,r,o,i=e.matrix,f=e.measures,h=(e.method,e.groupMaxSize),d=void 0===h?4:h,p=e.limitSize,y=void 0!==p&&p,v=e.threshold,m=void 0===v?0:v;o=y?function(e,t){var r,o,i=a(e);i.sort((function(e,t){return t[1]-e[1]}));var u=e.map((function(e,t){return t})),s=e.map((function(){return 1}));try{for(var f=n(i),h=f.next();!h.done;h=f.next()){var d=h.value;if(c(u,s,d[0][0])!==c(u,s,d[0][1])){if(s[d[0][0]]+s[d[0][1]]>t)continue;l(u,s,d[0][0],d[0][1])}for(var p=0;p<u.length;p++)u[p]=c(u,s,p);if(1===new Set(u).size)break}}catch(v){r={error:v}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var y=new Map;for(p=0;p<u.length;p++)y.has(u[p])||y.set(u[p],[]),y.get(u[p]).push(p);return y}(i,d):function(e,t,r){var o,i;void 0===r&&(r=0);var c=a(e);c.sort((function(e,t){return t[1]-e[1]}));var l=e.map((function(e,t){return t}));try{for(var f=n(c),h=f.next();!h.done;h=f.next()){var d=h.value;u(l,d[0][0])!==u(l,d[0][1])&&s(l,d[0][0],d[0][1]);for(var p=0;p<l.length;p++)l[p]=u(l,p);if(new Set(l).size<=t||d[1]<r)break}}catch(v){o={error:v}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}var y=new Map;for(p=0;p<l.length;p++)y.has(l[p])||y.set(l[p],[]),y.get(l[p]).push(p);return y}(i,d,m);var g=[];try{for(var b=n(o.values()),w=b.next();!w.done;w=b.next()){var _=w.value;g.push(_.map((function(e){return f[e]})))}}catch(S){t={error:S}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(t)throw t.error}}return g}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.IsolationForest=void 0;var o=r(19),i=r(2),a=function(){function e(e,t,r,n,o){void 0===n&&(n=100),void 0===o&&(o=256),this.dimensions=e,this.measures=t,this.dataSource=r,r.length<o?(this.treeNumber=Math.max(1,Math.ceil(o/50)),this.sampleSize=Math.max(2,Math.floor(r.length/2))):(this.treeNumber=n,this.sampleSize=o),this.limitHeight=Math.ceil(Math.log2(this.sampleSize)),this.iForest=[],this.normalizeDimensions()}return e.prototype.normalizeDimensions=function(){var e=this;return this.normalizedDataSource=[],this.valueSets=[],this.ranges=[],this.dimensions.forEach((function(){e.valueSets.push(new Map)})),this.measures.forEach((function(){e.ranges.push([1/0,-1/0])})),this.dataSource.forEach((function(t){e.dimensions.forEach((function(r,n){var o=(t[r]||"others").toString();e.valueSets[n].has(o)||e.valueSets[n].set(o,e.valueSets[n].size)})),e.measures.forEach((function(r,n){var o=t[r];"number"===typeof o&&(e.ranges[n][0]=Math.min(e.ranges[n][0],o),e.ranges[n][1]=Math.max(e.ranges[n][1],o))}))})),this.dataSource.forEach((function(t){var r=e.normalizeRecord(t);e.normalizedDataSource.push(r)})),this.normalizedDataSource},e.prototype.normalizeRecord=function(e){var t=this,r={};return this.measures.forEach((function(t){r[t]=e[t]})),this.dimensions.forEach((function(n,o){var i=(e[n]||"others").toString();r[n]=t.valueSets[o].get(i)})),r},e.prototype.buildIsolationTree=function(e,t){var r,o;if(t>=this.limitHeight||e.length<=1)return null;var i=Math.random(),a=this.measures[0]||this.dimensions[0],u=this.dimensions.length,s=this.measures.length,c=0;if(i>=u/(u+s)){var l=Math.floor(Math.random()*s)%s;a=this.measures[l],c=this.ranges[l][0]+(this.ranges[l][1]-this.ranges[l][0])*Math.random()}else{l=Math.floor(Math.random()*u)%u;a=this.dimensions[l],c=Math.floor(this.valueSets[l].size*Math.random())%this.valueSets[l].size}var f=[],h=[];try{for(var d=n(e),p=d.next();!p.done;p=d.next()){var y=p.value;y[a]<c?f.push(y):h.push(y)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var v={field:a,value:c,size:e.length};return v.left=this.buildIsolationTree(f,t+1),v.right=this.buildIsolationTree(h,t+1),v},e.prototype.AFS=function(e){return e>2?2*(Math.log(e-1)+i.EULER)-2*(e-1)/e:2===e?1:0},e.prototype.getPathLength=function(e,t,r,n){return null===t?r+this.AFS(n):e[t.field]<t.value?this.getPathLength(e,t.left,r+1,t.size):this.getPathLength(e,t.right,r+1,t.size)},e.prototype.buildIsolationForest=function(){this.iForest=[];for(var e=0;e<this.treeNumber;e++){var t=(0,o.uniformSampling)(this.normalizedDataSource,this.sampleSize),r=this.buildIsolationTree(t,0);this.iForest.push(r)}return this.iForest},e.prototype.estimateOutierScore=function(){var e=this;return this.recordScoreList=[],this.normalizedDataSource.forEach((function(t){var r,n=0;e.iForest.forEach((function(r){n+=e.getPathLength(t,r,0,e.sampleSize)})),n/=e.iForest.length,r=Math.pow(2,-n/e.AFS(e.sampleSize)),e.recordScoreList.push(r)})),this.recordScoreList},e}();t.IsolationForest=a},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(47),t)},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ClickHouseEngine=void 0;var u=r(48),s=r(2),c=r(49),l=r(50),f=r(0),h=r(51),d=r(52),p="bin_";var y=function(){function e(){this.rawFields=[],this.fields=[],this.dataViewName=null,this.dataGraph=null,this.dataViewMetas=[],this.insightSpaces=[],this.dbMetas=[],this.features={size:0},this.DIMENSION_NUM_IN_VIEW={MAX:3,MIN:1},this.MEASURE_NUM_IN_VIEW={MAX:3,MIN:1},this.utils=new d.CHUtils,this.statistics=new l.CHStatistics(this.utils)}return Object.defineProperty(e.prototype,"dimensions",{get:function(){return this.fields.filter((function(e){return"dimension"===e.analyticType})).map((function(e){return e.key}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"measures",{get:function(){return this.fields.filter((function(e){return"measure"===e.analyticType})).map((function(e){return e.key}))},enumerable:!1,configurable:!0}),e.prototype.setRawFields=function(e){this.rawFields=e},e.prototype.query=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.utils.query(e)]}))}))},e.prototype.queryw=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.utils.queryw(e)]}))}))},e.prototype.loadData=function(e){return o(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return[4,this.query("SELECT * from ".concat(e,";"))];case 1:return t=n.sent(),[4,this.getFieldMetas(e)];case 2:return r=n.sent(),this.dbMetas=r,[2,(0,u.parseTable)(t,r)]}}))}))},e.prototype.getFieldMetas=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,this.query("DESC ".concat(e))];case 1:return[2,(t=r.sent()).substr(0,t.length-1).split("\n").map((function(e){var t=e.split("\t");return{fid:t[0],dataType:t[1]}}))]}}))}))},e.prototype.buildFieldsSummary=function(e){return o(this,void 0,void 0,(function(){var t,r,n,o,a,s,c,l,f,h,d;return i(this,(function(i){switch(i.label){case 0:return[4,this.getFieldMetas(e)];case 1:return t=i.sent(),this.dbMetas=t,[4,this.query("SELECT ".concat(t.map((function(e){return"uniq(`".concat(e.fid,"`)")})).join(",")," FROM ").concat(e,";"))];case 2:return r=i.sent(),n=r.split("\t").map((function(e){return parseInt(e)})),a=parseInt,[4,this.query("SELECT COUNT(*) FROM ".concat(e,";"))];case 3:o=a.apply(void 0,[i.sent()]),this.features.size=o,s=[],c=0,i.label=4;case 4:return c<t.length?(l=Math.log2(n[c]),f=1/0,n[c]!==o?[3,5]:(f=l,[3,7])):[3,9];case 5:return[4,this.query("with frequency_list as (SELECT COUNT(*) as frequency FROM ".concat(e," GROUP BY `").concat(t[c].fid,"`),\n                total as (select sum(frequency) as total from frequency_list),\n                pb_list as (select (frequency_list.frequency / total.total) as pb from frequency_list, total) \n                SELECT SUM(-pb * log2(pb)) FROM pb_list"))];case 6:h=i.sent(),f=Number(h),i.label=7;case 7:d=(0,u.dbDataType2DataType)(t[c].dataType),s.push({key:t[c].fid,name:t[c].fid,analyticType:(0,u.inferAnalyticTypeFromDataType)(d),semanticType:(0,u.inferSemanticTypeFromDataType)(d),dataType:d,features:{entropy:f,maxEntropy:l,unique:n[c],size:o}}),i.label=8;case 8:return c++,[3,4];case 9:return[2,s]}}))}))},e.prototype.uvsView=function(e){return o(this,void 0,void 0,(function(){var t,r,o,a,u,s,c;return i(this,(function(i){switch(i.label){case 0:return t="test_view",0!==this.rawFields.length?[3,2]:(r=this,[4,this.buildFieldsSummary(e)]);case 1:r.rawFields=i.sent(),i.label=2;case 2:return[4,this.featureTransform(e,t)];case 3:for(o=i.sent(),a=[],u=function(e){var t=s.rawFields[e];if("dimension"===t.analyticType&&("quantitative"===t.semanticType&&t.features.unique>50))return(r=o.find((function(e){return e.key==="".concat(p)})))&&a.push(n(n({},r),{features:n({},r.features)})),"continue";if("quantitative"===t.semanticType){var r=o.find((function(e){return e.key==="".concat(p).concat(t.key)})),i=n(n({},t),{features:n({},t.features)});r&&(i.features.entropy=r.features.entropy,i.features.maxEntropy=r.features.maxEntropy),a.push(i)}else a.push(n(n({},t),{features:n({},t.features)}))},s=this,c=0;c<this.rawFields.length;c++)u(c);return this.fields=a,[2,a]}}))}))},e.prototype.getContinuousRanges=function(e){return o(this,void 0,void 0,(function(){var t,r,n,o,a,u;return i(this,(function(i){switch(i.label){case 0:return t=this.rawFields.filter((function(e){return"quantitative"===e.semanticType})),r=t.map((function(e){return"min(`".concat(e.key,"`),max(`").concat(e.key,"`)")})),[4,this.query("SELECT ".concat(r.join(",")," FROM ").concat(e,";"))];case 1:for(n=i.sent(),o=[],a=n.substring(0,n.length-1).split("\t").map((function(e){return Number(e)})),u=0;u<t.length;u++)o.push({fid:t[u].key,range:[a[2*u],a[2*u+1]]});return[2,o]}}))}))},e.prototype.binContinuousFields=function(e,t){return o(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,this.getContinuousRanges(e)];case 1:return r=n.sent(),[2,r.map((function(e){var r=function(e,t){for(var r=[],n=(e[1]-e[0])/t,o=0;o<t;o++)r.push([e[0]+o*n,e[0]+(o+1)*n]);return r}(e.range,t),n="case ";n+="when `".concat(e.fid,"` < ").concat(r[0][1]," then '(-Infinity, ").concat(r[0][1],")'\n");for(var o=1;o<r.length-1;o++)n+="when `".concat(e.fid,"` >= ").concat(r[o][0]," and `").concat(e.fid,"` < ").concat(r[o][1]," then '[").concat(r[o][0],", ").concat(r[o][1],")'\n");return n+="when `".concat(e.fid,"` >= ").concat(r[r.length-1][0]," then '[").concat(r[r.length-1][0],", Infinity)' end\n"),n+="as `".concat(p).concat(e.fid,"`")}))]}}))}))},e.prototype.featureTransform=function(e,t){return o(this,void 0,void 0,(function(){var r,n;return i(this,(function(o){switch(o.label){case 0:return[4,this.binContinuousFields(e,s.DEFAULT_BIN_NUM)];case 1:return r=o.sent(),[4,this.queryw("DROP VIEW IF EXISTS ".concat(t,";"))];case 2:return o.sent(),[4,this.queryw("CREATE VIEW IF NOT EXISTS ".concat(t," AS SELECT *, ").concat(r.join(",")," FROM ").concat(e,";"))];case 3:return o.sent(),[4,this.buildFieldsSummary(t)];case 4:return n=o.sent(),this.dataViewName=t,[2,n]}}))}))},e.prototype.buildDataGraph=function(){return o(this,void 0,void 0,(function(){var e,t,r,n,o;return i(this,(function(i){switch(i.label){case 0:return t=(e=this).dimensions,r=e.measures,n=e.dataViewName,o=e.statistics,this.dataGraph=new c.CHDataGraph(n,t,r),[4,this.dataGraph.computeDGraph(o.cramersV)];case 1:return i.sent(),[4,this.dataGraph.computeMGraph(o.pearsonCC)];case 2:return i.sent(),[2]}}))}))},e.prototype.clusterFields=function(){return this.dataGraph.clusterDGraph(),this.dataGraph.clusterMGraph(),this},e.prototype.buildSubspaces=function(e,t){var r,n,o,i,u,s;void 0===e&&(e=this.DIMENSION_NUM_IN_VIEW),void 0===t&&(t=this.MEASURE_NUM_IN_VIEW);var c=this.dataGraph.DClusters,h=this.dataGraph.MClusters,d=(0,l.getCombinationFromClusterGroups)(h,t),p=[];try{for(var y=a(c),v=y.next();!v.done;v=y.next()){var m=v.value,g=(0,f.getCombination)(m,e.MIN,e.MAX);try{for(var b=(o=void 0,a(g)),w=b.next();!w.done;w=b.next()){var _=w.value;try{for(var S=(u=void 0,a(d)),M=S.next();!M.done;M=S.next()){var x=M.value;p.push({dimensions:_,measures:x})}}catch(O){u={error:O}}finally{try{M&&!M.done&&(s=S.return)&&s.call(S)}finally{if(u)throw u.error}}}}catch(E){o={error:E}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}}}catch(D){r={error:D}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}}return this.dataViewMetas=p,this},e.prototype.getSpaceImpurity=function(e,t,r){return o(this,void 0,void 0,(function(){var n,o,a,u;return i(this,(function(i){switch(i.label){case 0:return[4,this.query("with agg_view as (select count(*) as values_count, ".concat(r.map((function(e){return"sum(`".concat(e,"`) as `sum_").concat(e,"`")})).join(",")," from ").concat(e," group by ").concat(t.map((function(e){return"`".concat(e,"`")})).join(","),"),\n            abs_sum as (select sum(values_count) as abssum_values_count, ").concat(r.map((function(e){return"sum(abs(`sum_".concat(e,"`)) as `abssum_sum_").concat(e,"`")})).join(",")," from agg_view),\n            pb_view as (select agg_view.values_count / abs_sum.abssum_values_count as pb_count,\n                ").concat(r.map((function(e){return"abs(`sum_".concat(e,"`) / `abssum_sum_").concat(e,"` as `pb_").concat(e,"`")})).join(","),"\n                from agg_view, abs_sum),\n            safe_value as (select if(pb_count = 0, 0, -pb_count * log2(pb_count)) as safe_count, ").concat(r.map((function(e){return"if(`pb_".concat(e,"` = 0, 0, -`pb_").concat(e,"` * log2(`pb_").concat(e,"`)) as `safe_").concat(e,"`")})).join(",")," from pb_view)\n            select sum(safe_count), ").concat(r.map((function(e){return"sum(`safe_".concat(e,"`)")})).join(",")," from safe_value\n        "))];case 1:for(n=i.sent(),o=n.slice(0,-1).split("\t").map((function(e){return Number(e)})),a=0,u=1;u<o.length;u++)a+=o[u];return[2,a]}}))}))},e.prototype.fastInsightRecommand=function(e){return void 0===e&&(e=this.dataViewMetas),o(this,void 0,void 0,(function(){var t,r,n,o,u,s,c,l,f,h;return i(this,(function(i){switch(i.label){case 0:t=[],i.label=1;case 1:i.trys.push([1,6,7,8]),r=a(e),n=r.next(),i.label=2;case 2:return n.done?[3,5]:(o=n.value,u=o.dimensions,s=o.measures,[4,this.getSpaceImpurity(this.dataViewName,u,s)]);case 3:c=i.sent(),t.push({dimensions:u,measures:s,impurity:c,score:c,significance:1}),i.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return l=i.sent(),f={error:l},[3,8];case 7:try{n&&!n.done&&(h=r.return)&&h.call(r)}finally{if(f)throw f.error}return[7];case 8:return t.sort((function(e,t){return e.score-t.score})),this.insightSpaces=t,[2,t]}}))}))},e.prototype.getFieldInfoInVis=function(e){return o(this,void 0,void 0,(function(){var t,r,o,u,s,c,l,f,h,d,p,y,v,m,g,b,w,_,S;return i(this,(function(M){switch(M.label){case 0:t=[],r=e.dimensions,o=e.measures,u=function(e){var r,a;return i(this,(function(i){switch(i.label){case 0:return[4,s.statistics.getSpaceImpurity(s.dataViewName,[e],o)];case 1:return r=i.sent(),(a=s.fields.find((function(t){return t.key===e})))&&t.push(n(n({},a),{impurity:r})),[2]}}))},s=this,M.label=1;case 1:M.trys.push([1,6,7,8]),c=a(r),l=c.next(),M.label=2;case 2:return l.done?[3,5]:(f=l.value,[5,u(f)]);case 3:M.sent(),M.label=4;case 4:return l=c.next(),[3,2];case 5:return[3,8];case 6:return h=M.sent(),b={error:h},[3,8];case 7:try{l&&!l.done&&(w=c.return)&&w.call(c)}finally{if(b)throw b.error}return[7];case 8:d=function(e){var o,a;return i(this,(function(i){switch(i.label){case 0:return[4,p.statistics.getSpaceImpurity(p.dataViewName,r,[e])];case 1:return o=i.sent(),(a=p.fields.find((function(t){return t.key===e})))&&t.push(n(n({},a),{impurity:o})),[2]}}))},p=this,M.label=9;case 9:M.trys.push([9,14,15,16]),y=a(o),v=y.next(),M.label=10;case 10:return v.done?[3,13]:(m=v.value,[5,d(m)]);case 11:M.sent(),M.label=12;case 12:return v=y.next(),[3,10];case 13:return[3,16];case 14:return g=M.sent(),_={error:g},[3,16];case 15:try{v&&!v.done&&(S=y.return)&&S.call(y)}finally{if(_)throw _.error}return[7];case 16:return[2,t]}}))}))},e.prototype.queryAggDataView=function(e,t,r,n){return o(this,void 0,void 0,(function(){var o,a,s,c=this;return i(this,(function(i){switch(i.label){case 0:return o=e.concat(t).map((function(e){return c.dbMetas.find((function(t){return t.fid===e}))})).filter((function(e){return Boolean(e)})),a="select ".concat(e.map((function(e){return"`".concat(e,"`")})).join(","),", ").concat(t.map((function(e,t){return"".concat(r[t],"(`").concat(e,"`) as `").concat(e,"`")})).join(",")," from ").concat(this.dataViewName," group by ").concat(e.map((function(e){return"`".concat(e,"`")})).join(",")),"number"===typeof n&&(a+=" limit ".concat(n)),[4,this.query(a)];case 1:return s=i.sent(),[2,(0,u.parseTable)(s,o)]}}))}))},e.prototype.queryDataView=function(e,t,r){return o(this,void 0,void 0,(function(){var n,o,a,s=this;return i(this,(function(i){switch(i.label){case 0:return n=e.concat(t).map((function(e){return s.dbMetas.find((function(t){return t.fid===e}))})).filter((function(e){return Boolean(e)})),o="select ".concat(e.concat(t).map((function(e){return"`".concat(e,"`")})).join(",")," from ").concat(this.dataViewName),"number"===typeof r&&(o+=" limit ".concat(r)),[4,this.query(o)];case 1:return a=i.sent(),[2,(0,u.parseTable)(a,n)]}}))}))},e.prototype.specification=function(e){return o(this,void 0,void 0,(function(){var t,r,o,a,u;return i(this,(function(i){switch(i.label){case 0:return t=e.dimensions,r=e.measures,[4,this.getFieldInfoInVis(e)];case 1:return o=i.sent(),[4,this.queryAggDataView(t,r,r.map((function(){return"sum"})))];case 2:return a=i.sent(),u=(0,h.pureSpec)(o),[2,n(n({},u),{detailSize:this.features.size,dataView:a})]}}))}))},e.prototype.destroyView=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.queryw("drop view if exists ".concat(this.dataViewName))];case 1:return e.sent(),[2]}}))}))},e}();t.ClickHouseEngine=y},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.parseTable=t.parseCell=t.inferAnalyticTypeFromDataType=t.inferSemanticTypeFromDataType=t.dbDataType2DataType=void 0;var o={Int8:"integer",Int16:"integer",Int32:"integer",Int64:"integer",UInt8:"integer",UInt16:"integer",UInt32:"number",UInt64:"number",Float32:"number",Float64:"number",BOOLEAN:"boolean",String:"string"},i={number:"quantitative",integer:"quantitative",boolean:"nominal",date:"temporal",string:"nominal"},a={number:"measure",integer:"measure",boolean:"dimension",date:"dimension",string:"dimension"};function u(e,t){switch(t){case"Int8":case"Int16":case"Int32":case"Int64":case"UInt8":case"UInt16":case"UInt32":case"UInt64":return parseInt(e);case"Float32":case"Float64":return Number(e);default:return e}}t.dbDataType2DataType=function(e){return o[e]||"string"},t.inferSemanticTypeFromDataType=function(e){return i[e]},t.inferAnalyticTypeFromDataType=function(e){return a[e]},t.parseCell=u,t.parseTable=function(e,t){var r,o,i=[],a=e.substring(0,e.length-1).split("\n");try{for(var s=n(a),c=s.next();!c.done;c=s.next()){for(var l=c.value,f={},h=l.split(/[\t]/),d=0;d<t.length;d++)f[t[d].fid]=u(h[d],t[d].dataType);i.push(f)}}catch(p){r={error:p}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CHDataGraph=void 0;var i=r(5),a=r(4),u=function(){function e(e,t,r){this.DIMENSION_CORRELATION_THRESHOLD=i.CramersVThreshold,this.MEASURE_CORRELATION_THRESHOLD=i.PearsonCorrelation.strong,this.SOFT_MAX_DIM_IN_VIEW=4,this.SOFT_MAX_MEA_IN_VIEW=3,this.dimensions=[],this.measures=[],this.viewName=e,this.dimensions=t,this.measures=r}return e.prototype.computeGraph=function(e,t){return n(this,void 0,void 0,(function(){var r,n,i,a,u,s,c,l;return o(this,(function(o){switch(o.label){case 0:r=this.viewName,n=e.map((function(){return e.map((function(){return 0}))})),i=0,o.label=1;case 1:if(!(i<e.length))return[3,6];a=0,o.label=2;case 2:return a<e.length?(u=n[i],s=a,c=n[a],l=i,[4,t(r,e[i],e[a])]):[3,5];case 3:u[s]=c[l]=o.sent(),o.label=4;case 4:return a++,[3,2];case 5:return i++,[3,1];case 6:return[2,n]}}))}))},e.prototype.computeDGraph=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=this,[4,this.computeGraph(this.dimensions,e)];case 1:return t.DG=r.sent(),[2,this.DG]}}))}))},e.prototype.computeMGraph=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=this,[4,this.computeGraph(this.measures,e)];case 1:return t.MG=r.sent(),[2,this.MG]}}))}))},e.prototype.clusterDGraph=function(e){var t=this,r=t.DG,n=t.dimensions,o=t.SOFT_MAX_DIM_IN_VIEW,i=t.DIMENSION_CORRELATION_THRESHOLD,u="number"===typeof e?e:i;return this.DClusters=a.Cluster.kruskal({matrix:r,measures:n,groupMaxSize:Math.round(n.length/o),threshold:u}),this.DClusters},e.prototype.clusterMGraph=function(e){var t=this,r=t.MG,n=t.measures,o=t.MEASURE_CORRELATION_THRESHOLD,i=t.SOFT_MAX_MEA_IN_VIEW,u="number"===typeof e?e:o;return this.MClusters=a.Cluster.kruskal({matrix:r,measures:n,groupMaxSize:Math.round(n.length/i),threshold:u}),this.MClusters},e}();t.CHDataGraph=u},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CHStatistics=t.getCombinationFromClusterGroups=void 0;var s=r(0);t.getCombinationFromClusterGroups=function(e,t){var r,n,o=[];try{for(var c=i(e),l=c.next();!l.done;l=c.next()){var f=l.value,h=(0,s.getCombination)(f,t.MIN,t.MAX);o.push.apply(o,u([],a(h),!1))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o};var c=function(){function e(e){var t=this;this.chiSquared=function(e,r,i){return n(t,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.utils.query("with col1Totals as (select `".concat(r,"` as col1, count(*) as values_count from ").concat(e," group by `").concat(r,"`),\n            col2Totals as (select `").concat(i,"` as col2, count(*) as values_count from ").concat(e," group by `").concat(i,"`),\n            total as (select count(*) as values_count from ").concat(e,"),\n            colPairs as (select `").concat(r,"` as col1, `").concat(i,"` as col2, count(*) as values_count from ").concat(e," group by `").concat(r,"`, `").concat(i,"`)\n            select sum(value) from (select pow(col1Totals.values_count * (col2Totals.values_count / total.values_count) - colPairs.values_count, 2) / (col1Totals.values_count * (col2Totals.values_count / total.values_count)) as value\n            from colPairs, total \n            inner join col1Totals on colPairs.col1 = col1Totals.col1\n            inner join col2Totals on colPairs.col2 = col2Totals.col2);\n        "))];case 1:return t=n.sent(),[2,Number(t)]}}))}))},this.cramersV=function(e,r,i){return n(t,void 0,void 0,(function(){var t,n,a;return o(this,(function(o){switch(o.label){case 0:return[4,this.chiSquared(e,r,i)];case 1:return t=o.sent(),[4,this.utils.query("select count(*), uniq(`".concat(r,"`), uniq(`").concat(i,"`) from ").concat(e))];case 2:return n=o.sent(),a=n.slice(0,-1).split("\t").map((function(e){return parseInt(e)})),[2,Math.sqrt(t/(a[0]*Math.min(a[1]-1,a[2]-1)))]}}))}))},this.pearsonCC=function(e,r,i){return n(t,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.utils.query("select corr(`".concat(r,"`, `").concat(i,"`) from ").concat(e))];case 1:return t=n.sent(),[2,Number(t)]}}))}))},this.getSpaceImpurity=function(e,r,i){return n(t,void 0,void 0,(function(){var t,n,a,u;return o(this,(function(o){switch(o.label){case 0:return[4,this.utils.query("with agg_view as (select count(*) as values_count, ".concat(i.map((function(e){return"sum(`".concat(e,"`) as `sum_").concat(e,"`")})).join(",")," from ").concat(e," group by ").concat(r.map((function(e){return"`".concat(e,"`")})).join(","),"),\n            abs_sum as (select sum(values_count) as abssum_values_count, ").concat(i.map((function(e){return"sum(abs(`sum_".concat(e,"`)) as `abssum_sum_").concat(e,"`")})).join(",")," from agg_view),\n            pb_view as (select agg_view.values_count / abs_sum.abssum_values_count as pb_count,\n                ").concat(i.map((function(e){return"abs(`sum_".concat(e,"`) / `abssum_sum_").concat(e,"` as `pb_").concat(e,"`")})).join(","),"\n                from agg_view, abs_sum),\n            safe_value as (select if(pb_count = 0, 0, -pb_count * log2(pb_count)) as safe_count, ").concat(i.map((function(e){return"if(`pb_".concat(e,"` = 0, 0, -`pb_").concat(e,"` * log2(`pb_").concat(e,"`)) as `safe_").concat(e,"`")})).join(",")," from pb_view)\n            select sum(safe_count), ").concat(i.map((function(e){return"sum(`safe_".concat(e,"`)")})).join(",")," from safe_value\n        "))];case 1:for(t=o.sent(),n=t.slice(0,-1).split("\t").map((function(e){return Number(e)})),a=0,u=1;u<n.length;u++)a+=n[u];return[2,a]}}))}))},this.utils=e}return e.prototype.getCombinationFromClusterGroups=function(e,t){var r,n,o=[];try{for(var c=i(e),l=c.next();!l.done;l=c.next()){var f=l.value,h=(0,s.getCombination)(f,t.MIN,t.MAX);o.push.apply(o,u([],a(h),!1))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o},e}();t.CHStatistics=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pureSpec=void 0;var n=r(13);t.pureSpec=function(e,t){void 0===t&&(t=10);var r=e.sort((function(e,t){return e.impurity-t.impurity})),o=(0,n.encoding)(r),i=new Set(e.filter((function(e){return"dimension"===e.analyticType})).map((function(e){return e.key}))),a=new Set(e.filter((function(e){return"measure"===e.analyticType})).map((function(e){return e.key})));if(o.position&&2===o.position.length)if(i.has(o.position[0])&&a.has(o.position[1])||i.has(o.position[1])&&a.has(o.position[0])){var u=i.has(o.position[0])?0:1,s=o.position[u],c=o.position[(u+1)%2];o.position=[s,c];var l=e.find((function(e){return e.key===s})),f=l?l.features.unique:0;o.geomType=["interval","line","area"].filter((function(e){return f>=n.geomTypes[e][0]&&f<=n.geomTypes[e][1]})),"nominal"===l.semanticType&&(o.geomType=["interval"])}else o.geomType=["point","density"].filter((function(e){return t>=n.geomTypes[e][0]&&t<=n.geomTypes[e][1]}));return{schema:o}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CHUtils=t.setCHConfig=t.getCHConfig=t.CLICKHOUSE_CONFIG=void 0;var a=i(r(53));t.CLICKHOUSE_CONFIG={protocol:"http",host:"localhost",port:8123,path:""},t.getCHConfig=function(){return t.CLICKHOUSE_CONFIG},t.setCHConfig=function(e){Object.keys(e).forEach((function(r){t.CLICKHOUSE_CONFIG[r]=e[r]}))};var u=function(){function e(e){this.config=e||{protocol:"http",host:"localhost",port:8123,path:""}}return e.prototype.getCHConfig=function(){return this.config},e.prototype.setCHConfig=function(e){var t=this;Object.keys(e).forEach((function(r){t.config[r]=e[r]}))},e.prototype.query=function(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this.config,[4,(0,a.default)("".concat(t.protocol,"://").concat(t.host,":").concat(t.port).concat(t.path,"?query=").concat(e))];case 1:return[2,n.sent().data];case 2:throw r=n.sent(),new Error("[SQL Error] ".concat(e,".\n").concat(r.toString()));case 3:return[2]}}))}))},e.prototype.queryw=function(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this.config,[4,(0,a.default)({url:"".concat(t.protocol,"://").concat(t.host,":").concat(t.port).concat(t.path),method:"post",params:{query:e}})];case 1:return[2,n.sent().data];case 2:throw r=n.sent(),new Error("[SQL Error] ".concat(e,".\n").concat(r.toString()));case 3:return[2]}}))}))},e}();t.CHUtils=u},function(e,t,r){e.exports=r(54)},function(e,t,r){"use strict";var n=r(1),o=r(20),i=r(55),a=r(26);var u=function e(t){var r=new i(t),u=o(i.prototype.request,r);return n.extend(u,i.prototype,r),n.extend(u,r),u.create=function(r){return e(a(t,r))},u}(r(9));u.Axios=i,u.Cancel=r(10),u.CancelToken=r(69),u.isCancel=r(25),u.VERSION=r(27).version,u.all=function(e){return Promise.all(e)},u.spread=r(70),u.isAxiosError=r(71),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";var n=r(1),o=r(21),i=r(56),a=r(57),u=r(26),s=r(68),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!n){var l=[a,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var f=e;r.length;){var h=r.shift(),d=r.shift();try{f=h(f)}catch(p){d(p);break}}try{o=a(f)}catch(p){return Promise.reject(p)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=u(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(u(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(u(n||{},{method:e,url:t,data:r}))}})),e.exports=l},function(e,t,r){"use strict";var n=r(1);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(1),o=r(58),i=r(25),a=r(9),u=r(10);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(1),o=r(9);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(24);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(64),o=r(65);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(27).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!i[n]&&(i[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var u=e[i],s=void 0===u||a(u,i,e);if(!0!==s)throw new TypeError("option "+i+" must be "+s)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},function(e,t,r){"use strict";var n=r(10);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cuboid=void 0;var a=r(7),u=r(0),s=r(12),c=["max","min","sum","mean","count","dist"],l=function(){function e(e){this.cached=!1,this.statSize=0,this.storageMode=a.IStorageMode.LocalDisk;var t=e.dimensions,r=e.measures,n=e.ops,o=void 0===n?c:n,i=e.ranges,u=e.storage,s=e.storageMode,l=void 0===s?a.IStorageMode.LocalDisk:s;this.dimensions=t,this.measures=r,this.ops=o,this._state=[],this.cached=!1,this.ranges=i,this.storageMode=l,this.sto=u}return e.prototype.cacheState=function(e){this.cached=!0,this._state=e},e.prototype.clearState=function(){this.storageMode===a.IStorageMode.LocalDisk&&(this.cached=!1,this._state=[])},e.prototype.getState=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=[],this.storageMode!==a.IStorageMode.LocalDisk?[3,2]:this.cached?[2,this._state]:[4,this.sto.getItem(this.dimensions.join("-"))];case 1:return e=t.sent()||[],[3,3];case 2:e=this._state,t.label=3;case 3:return this.statSize=e.length,[2,e]}}))}))},e.prototype.loadStateInCache=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.storageMode!==a.IStorageMode.LocalDisk?[3,2]:(e=this,[4,this.sto.getItem(this.dimensions.join("-"))]);case 1:e._state=t.sent()||[],t.label=2;case 2:return this.cached=!0,[2]}}))}))},e.prototype.setState=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.statSize=e.length,this.storageMode!==a.IStorageMode.LocalDisk?[3,2]:[4,this.sto.setItem(this.dimensions.join("-"),e)];case 1:return t.sent(),[3,3];case 2:this._state=e,t.label=3;case 3:return[2]}}))}))},e.prototype.setData=function(e){return n(this,void 0,void 0,(function(){var t,r,n,a,c,l,f,h,d,p,y,v;return o(this,(function(o){switch(o.label){case 0:t=(0,u.stdAggregate)({dimensions:this.dimensions,measures:this.measures,ops:this.ops,dataSource:e}),n=(r=this).dimensions,a=r.measures,c=r.ranges,l=(0,u.groupBy)(e,n),f=function(e){var t,r,o=(0,u.getAggHashKey)(n.map((function(t){return e.groupDict[t]}))),f=l.get(o),h=function(t){var r=c.get(t);e.stat[t].dist=(0,s.dist)(f.map((function(e){return e[t]})),r)};try{for(var d=(t=void 0,i(a)),p=d.next();!p.done;p=d.next()){h(p.value)}}catch(y){t={error:y}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}};try{for(h=i(t),d=h.next();!d.done;d=h.next())p=d.value,f(p)}catch(m){y={error:m}}finally{try{d&&!d.done&&(v=h.return)&&v.call(h)}finally{if(y)throw y.error}}return[4,this.setState(t)];case 1:return o.sent(),[2,t]}}))}))},e.prototype.computeFromCuboid=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i,a,s;return o(this,(function(o){switch(o.label){case 0:return r=(t=this).ops,n=t.measures,i=t.dimensions,[4,e.getState()];case 1:return a=o.sent(),s=(0,u.stdAggregateFromCuboid)({dimensions:i,measures:n,ops:r,cuboidState:a}),[4,this.setState(s)];case 2:return o.sent(),[2,s]}}))}))},Object.defineProperty(e.prototype,"size",{get:function(){return this.statSize},enumerable:!1,configurable:!0}),e.prototype.getAggregatedRows=function(e,t){return n(this,void 0,void 0,(function(){var r,n,a,u,s,c,l,f,h,d,p,y,v,m,g,b,w;return o(this,(function(o){switch(o.label){case 0:return r=[],n=this.dimensions,[4,this.getState()];case 1:a=o.sent();try{for(u=i(a),s=u.next();!s.done;s=u.next()){c=s.value,l={};try{for(b=void 0,f=i(n),h=f.next();!h.done;h=f.next())d=h.value,l[d]=c.groupDict[d]}catch(_){b={error:_}}finally{try{h&&!h.done&&(w=f.return)&&w.call(f)}finally{if(b)throw b.error}}for(p=0;p<e.length;p++)y=e[p],v=t[p],l[y]=c.stat[y][v];r.push(l)}}catch(S){m={error:S}}finally{try{s&&!s.done&&(g=u.return)&&g.call(u)}finally{if(m)throw m.error}}return[2,r]}}))}))},e.prototype.getRawState=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.getState()]}))}))},e}();t.Cuboid=l},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VegaLite=void 0,t.VegaLite=i(r(75))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.labDistVis=t.geomTypeMap=void 0;var u=r(0),s=r(3);t.geomTypeMap={interval:"boxplot",line:"line",point:"point",density:"point"};var c={quantitative:["y","x","size","opacity","color"],ordinal:["y","x","opacity","color","size","shape"],nominal:["y","x","color","row","column","opacity","size","shape"],temporal:["y","x","size","color","opacity","shape"]},l={dimension:["row","column"],measure:["repeat"]};function f(e,t){var r,n,o=new Set(e),i=new Set(t);if(o.size!==i.size)return!1;try{for(var u=a(o),s=u.next();!s.done;s=u.next()){var c=s.value;if(!i.has(c))return!1}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return!0}t.labDistVis=function(e){for(var t=e.pattern,r=e.dataSource,a=(0,s.deepcopy)(t.fields),h=a.filter((function(e){return"measure"===e.analyticType})),d=a.filter((function(e){return"dimension"===e.analyticType})),p=function(e){var t=0,n=r.map((function(t){return t[h[e].fid]})),o=(0,u.binMap)(n);if(h.length>1){for(var i=function(n){if(n===e)return"continue";var i=r.map((function(e){return e[h[n].fid]}));t+=(0,u.mic)(o,i)},a=0;a<h.length;a++)i(a);t/=h.length-1}else t=Math.log2(16)-(0,u.entropy)((0,u.rangeNormilize)((0,u.bin)(n).filter((function(e){return e>0}))));h[e].features.entropy=t},y=0;y<h.length;y++)p(y);var v=function(e){for(var t=r.map((function(t){return t[d[e].fid]})),n=0,o=function(e){var o=r.map((function(t){return t[h[e].fid]})),i=(0,u.pureGeneralMic)(t,o);n+=i},i=0;i<h.length;i++)o(i);n/=h.length,d[e].features.originEntropy=d[e].features.entropy,d[e].features.entropy=n};for(y=0;y<d.length;y++)v(y);var m=new Set,g=function(e){var t=[],r=[],o=1===e.length,i=e.filter((function(e){return"measure"===e.analyticType})).filter((function(e){return"nominal"===e.semanticType||"ordinal"===e.semanticType})).length>0;if(o||i)t.push({fid:"__tmp_stat_id_unique",semanticType:"quantitative",analyticType:"measure",features:{entropy:1/0,maxEntropy:1/0,unique:1e3},distribution:[]}),r.push({aggregate:"count"}),e.filter((function(e){return"quantitative"===e.semanticType})).forEach((function(e){t.push(n({},e)),r.push({field:e.fid,title:e.name||e.fid,semanticType:e.semanticType,bin:!0})}));else{var a=e.filter((function(e){return"measure"===e.analyticType}));1===a.length&&(a.forEach((function(e){t.push(n({},e)),r.push({field:e.fid,semanticType:e.semanticType,title:"mean(".concat(e.name||e.fid,")"),aggregate:"mean"})})),e.filter((function(e){return"dimension"===e.analyticType&&"quantitative"===e.semanticType})).forEach((function(e){t.push(n({},e)),r.push({field:e.fid,title:e.name||e.fid,semanticType:e.semanticType,bin:!0})})))}var u=e.filter((function(e){return!t.find((function(t){return t.fid===e.fid}))}));return{statFields:t,distFields:u,statEncodes:r}}(a),b=g.statFields,w=g.distFields,_=g.statEncodes,S=function(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n=[]);var a=i(i([],o(t),!1),o(r),!1).sort((function(e,t){return t.features.entropy-e.features.entropy})).slice(0,2).map((function(e){return e.semanticType}));if(n.find((function(e){return"count"===e.aggregate})))return"bar";if(1===e.filter((function(e){return"measure"===e.analyticType})).length){if(f(a,["nominal","nominal"]))return"text";if(f(a,["nominal","quantitative"]))return"bar";if(f(a,["ordinal","quantitative"]))return"point";if(f(a,["nominal","ordinal"]))return"point";if(f(a,["nominal","temporal"]))return"point";if(f(a,["quantitative","quantitative"]))return"circle";if(f(a,["temporal","quantitative"]))return"line"}else{if(f(a,["nominal","nominal"]))return"square";if(f(a,["nominal","quantitative"]))return"tick";if(f(a,["ordinal","quantitative"]))return"point";if(f(a,["nominal","ordinal"]))return"tick";if(f(a,["quantitative","quantitative"]))return"circle";if(f(a,["nominal","temporal"]))return"point"}return"point"}(a,b,w,_);!function(e,t){"bar"===e&&(t.add("size"),t.add("shape"))}(S,m);var M=function(e){var t=e.fields,r=e.usedChannels,n=void 0===r?new Set:r,a=e.statFields,u=void 0===a?[]:a,s=e.statEncodes,f=void 0===s?[]:s,h=i([],o(t),!1),d={},p=null,y=0;h.sort((function(e,t){return t.features.entropy-e.features.entropy})),u.sort((function(e,t){return t.features.entropy-e.features.entropy}));for(var v=i(i([],o(u),!1),o(h),!1).sort((function(e,t){return t.features.entropy-e.features.entropy})),m=function(e){var t=c[v[e].semanticType],r=!1,o=u.findIndex((function(t){return t.fid===v[e].fid})),i=h.findIndex((function(t){return t.fid===v[e].fid}));if(o>-1){for(var a=0;a<t.length;a++)if(!n.has(t[a])){d[t[a]]=f[o],n.add(t[a]),r=!0;break}r||"dimension"===(p=u[o].analyticType)&&y<l[p].length&&(d[l[p][y]]=f[o],y++)}else{for(a=0;a<t.length;a++)if(!n.has(t[a])){d[t[a]]={field:h[i].fid,type:h[i].semanticType,title:h[i].name||h[i].fid},"temporal"===h[i].semanticType&&"color"===t[a]&&(d[t[a]].scale={scheme:"viridis"}),n.add(t[a]),r=!0;break}r||"dimension"===(p=h[i].analyticType)&&y<l[p].length&&(d[l[p][y]]={field:h[i].fid,type:h[i].semanticType},y++)}},g=0;g<v.length;g++)m(g);return d}({fields:w,usedChannels:m,statFields:b,statEncodes:_});return function(e){if(e.x&&"temporal"!==e.x.type&&e.y&&"temporal"===e.y.type){var t=e.x;e.x=e.y,e.y=t}}(M),{data:{name:"dataSource"},mark:{type:S,opacity:"circle"===S?.56:.88},encoding:M}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encoding=t.geomTypes=t.VISUAL_CHANNELS=t.VIEngine=t.InsightWorkerCollection=t.DataGraph=void 0;var n=r(29);Object.defineProperty(t,"DataGraph",{enumerable:!0,get:function(){return n.DataGraph}});var o=r(30);Object.defineProperty(t,"InsightWorkerCollection",{enumerable:!0,get:function(){return o.InsightWorkerCollection}});var i=r(81);Object.defineProperty(t,"VIEngine",{enumerable:!0,get:function(){return i.VIEngine}});var a=r(85);Object.defineProperty(t,"VISUAL_CHANNELS",{enumerable:!0,get:function(){return a.VISUAL_CHANNELS}});var u=r(13);Object.defineProperty(t,"geomTypes",{enumerable:!0,get:function(){return u.geomTypes}}),Object.defineProperty(t,"encoding",{enumerable:!0,get:function(){return u.encoding}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Subspace=t.subspaceSearching=t.insightExtraction=void 0;var u=i(r(14));t.Subspace=u;var s=r(78);Object.defineProperty(t,"insightExtraction",{enumerable:!0,get:function(){return s.insightExtraction}}),Object.defineProperty(t,"subspaceSearching",{enumerable:!0,get:function(){return s.subspaceSearching}}),a(r(79),t),a(r(31),t),a(r(32),t),a(r(80),t)},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.insightExtraction=t.subspaceSearching=t.getDimSetsBasedOnClusterGroups=void 0;var a=r(0),u=r(0),s=r(5),c=r(4),l=r(2);function f(e,t){var r,a,f=[],h=function(e,t){for(var r=t.map((function(e){return t.map((function(e){return 0}))})),n=0;n<t.length;n++){r[n][n]=1;for(var o=n+1;o<t.length;o++)r[n][o]=r[o][n]=(0,u.cramersV)(e,t[n],t[o])}return r}(e,t),d=c.Cluster.kruskal({matrix:h,measures:t,groupMaxSize:Math.round(t.length/4),threshold:s.CramersVThreshold});try{for(var p=n(d),y=p.next();!y.done;y=p.next()){var v=y.value,m=(0,u.getCombination)(v,1,l.CHANNEL.maxDimensionNumber);f.push.apply(f,i([],o(m),!1))}}catch(g){r={error:g}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}return f}function h(e,t,r){return void 0===r&&(r=!0),r?f(e,t):(0,u.getCombination)(t)}t.getDimSetsBasedOnClusterGroups=f,t.subspaceSearching=h,t.insightExtraction=function(e,t,r,o){var i,s,c,l;void 0===o&&(o="sum");var f=[],d=h(e,t,!0);try{for(var p=n(d),y=p.next();!y.done;y=p.next()){var v=y.value,m={},g=(0,a.stdAggregate)({dimensions:t,measures:r,dataSource:e,ops:r.map((function(e){return o||"sum"}))}),b=function(e){var t=g.map((function(t){return t[e]})),r=(0,a.normalize)((0,u.mapPositive)(t)),n=(0,a.entropy)(r);m[e]=n};try{for(var w=(c=void 0,n(r)),_=w.next();!_.done;_=w.next()){b(_.value)}}catch(E){c={error:E}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}for(var S=r.map((function(e){return r.map((function(e){return 0}))})),M=0;M<r.length;M++){S[M][M]=1;for(var x=M+1;x<r.length;x++){var O=(0,u.pearsonCC)(g,r[M],r[x]);S[x][M]=S[M][x]=O}}f.push([v,m,S])}}catch(D){i={error:D}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}return f}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getVisSpaces=t.getIntentionSpaces=t.IntentionWorkerCollection=t.getGroupIntentionSpace=t.getTrendIntentionSpace=t.getOutlierIntentionSpace=t.getGeneralIntentionSpace=void 0;var s=r(7),c=r(14),l=r(5),f=r(4),h=r(0),d=r(2),p=r(0),y=r(0),v=r(33);function m(e,t){var r,n;void 0===t&&(t=d.CHANNEL.maxDimensionNumber);var o=[];try{for(var s=i(e),c=s.next();!c.done;c=s.next()){var l=c.value,f=(0,h.getCombination)(l,1,t);o.push.apply(o,u([],a(f),!1))}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}t.getGeneralIntentionSpace=function(e,t,r){return n(this,void 0,void 0,(function(){var n,a,u,s,c,l,f,d;return o(this,(function(o){n=0,a=0,u=function(t){var r=e.map((function(e){return e[t]})),o=(0,p.normalize)((0,h.mapPositive)(r)),i=(0,p.entropy)(o);n+=i,a+=i/Math.log2(r.length)};try{for(s=i(r),c=s.next();!c.done;c=s.next())l=c.value,u(l)}catch(y){f={error:y}}finally{try{c&&!c.done&&(d=s.return)&&d.call(s)}finally{if(f)throw f.error}}return n/=r.length,a/=r.length,[2,{dimensions:t,measures:r,type:"default_general",score:n,impurity:n,significance:a=1-a,order:"asc"}]}))}))};t.getOutlierIntentionSpace=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i,a,u,s,c;return o(this,(function(o){for((n=new f.Outier.IsolationForest([],r,e)).buildIsolationForest(),i=n.estimateOutierScore(),a=0,u=0,s=0;s<i.length;s++)i[s]>u&&(u=i[s],a=s);return c={},t.concat(r).forEach((function(t){c[t]=e[a][t]})),[2,{dimensions:t,measures:r,score:u,significance:u,order:"desc",description:c}]}))}))};t.getTrendIntentionSpace=function(e,t,r){return n(this,void 0,void 0,(function(){var n,s,c,l,f,h,d,p;return o(this,(function(o){if(1!==t.length)return[2,null];(n=u([],a(e),!1)).sort((function(e,r){return e[t[0]]>r[t[0]]?1:e[t[0]]===r[t[0]]?0:e[t[0]]<r[t[0]]?-1:void 0})),s=0;try{for(c=i(r),l=c.next();!l.done;l=c.next())f=l.value,(h=new y.oneDLinearRegression(n,t[0],f)).normalizeDimensions(t),s+=h.significance()}catch(v){d={error:v}}finally{try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}}return s/=r.length,[2,{dimensions:t,measures:r,score:s,significance:s,order:"desc"}]}))}))};t.getGroupIntentionSpace=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){return t.length<2?[2,null]:(0,i=new v.GroupIntention({dataSource:e,dimensions:t,measures:r,K:8}),n=i.getSignificance(r.concat(t.slice(0,-1)),t.slice(-1)),[2,{dimensions:t,measures:r,score:n,significance:n,order:"desc"}])}))}))};var g=function(){function e(){this.workers=new Map}return e.prototype.register=function(e,t){if(this.workers.has(e))throw new Error("There has been a worker named: ".concat(e," already."));this.workers.set(e,[!0,t])},e.prototype.enable=function(e,t){if(!this.workers.has(e))throw new Error('Intention Worker "'.concat(e,'" does not exist.'));var r=this.workers.get(e);r[0]=t,this.workers.set(e,r)},e.prototype.each=function(e){var t,r;try{for(var n=i(this.workers),o=n.next();!o.done;o=n.next()){var u=a(o.value,2),s=u[0],c=u[1];c[0]&&e(c[1],s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.init=function(r){void 0===r&&(r={withDefaultIWorkers:!0});var n=r.withDefaultIWorkers,o=void 0===n||n;for(var i in e.colletion||(e.colletion=new e,o&&(e.colletion.register(s.DefaultIWorker.outlier,t.getOutlierIntentionSpace),e.colletion.register(s.DefaultIWorker.cluster,t.getGroupIntentionSpace),e.colletion.register(s.DefaultIWorker.trend,t.getTrendIntentionSpace))),s.DefaultIWorker)e.colletion.enable(s.DefaultIWorker[i],o);return e.colletion},e}();function b(e,r,a){return n(this,void 0,void 0,(function(){var u,s,c,l,f,h,d,p,y=this;return o(this,(function(v){switch(v.label){case 0:u=[],s=function(r){var i,s,c,l,f;return o(this,(function(h){switch(h.label){case 0:return i=r.dimensions,s=r.measures,c=i.join("=;="),e.has(c)?(l=e.get(c),[4,(0,t.getGeneralIntentionSpace)(l,i,s)]):[3,2];case 1:f=h.sent(),a.each((function(e,t){return n(y,void 0,void 0,(function(){var r,n;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e(l,i,s)];case 1:return null!==(r=o.sent())&&(r.type=t,r.impurity=f.impurity,u.push(r)),[3,3];case 2:return n=o.sent(),console.error("worker failed",{dimensions:i,measures:s,aggData:l},n),[3,3];case 3:return[2]}}))}))})),h.label=2;case 2:return[2]}}))},v.label=1;case 1:v.trys.push([1,6,7,8]),c=i(r),l=c.next(),v.label=2;case 2:return l.done?[3,5]:(f=l.value,[5,s(f)]);case 3:v.sent(),v.label=4;case 4:return l=c.next(),[3,2];case 5:return[3,8];case 6:return h=v.sent(),d={error:h},[3,8];case 7:try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}return[7];case 8:return[2,u]}}))}))}t.IntentionWorkerCollection=g,t.getIntentionSpaces=b,t.getVisSpaces=function(e){return n(this,void 0,void 0,(function(){var t,r,n,a,u,s,f,d,p,y,v,w,_,S,M,x,O,E,D,I,T,C,N,j,A,k,F,P,L;return o(this,(function(o){switch(o.label){case 0:t=e.dataSource,r=e.dimensions,n=e.measures,a=e.collection,u=e.dimension_correlation_threshold,s=void 0===u?l.CramersVThreshold:u,f=e.measure_correlation_threshold,d=void 0===f?l.PearsonCorrelation.strong:f,p=e.max_dimension_num_in_view,y=void 0===p?3:p,v=e.max_measure_num_in_view,w=void 0===v?3:v,_=r,S=(0,c.getDimClusterGroups)(t,_,s),M=m(S,y),x=(0,c.getMeaSetsBasedOnClusterGroups)(t,n,d),O=m(x,w),E=function(e,t){var r,n,o,a,u=[];try{for(var s=i(e),c=s.next();!c.done;c=s.next()){var l=c.value;try{for(var f=(o=void 0,i(t)),h=f.next();!h.done;h=f.next()){var d=h.value;u.push({dimensions:l,measures:d})}}catch(p){o={error:p}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return u}(M,O),D=new Map,I=(new Date).getTime();try{for(T=i(M),C=T.next();!C.done;C=T.next())N=C.value,j=N.join("=;="),A=(0,h.stdAggregate)({dimensions:N,measures:n,dataSource:t,ops:n.map((function(e){return"sum"}))}),D.set(j,A)}catch(R){P={error:R}}finally{try{C&&!C.done&&(L=T.return)&&L.call(T)}finally{if(P)throw P.error}}return k=(new Date).getTime(),console.log("cube cost",k-I),D.set("*",t),F=a||g.init(),[4,b(D,E,F)];case 1:return[2,o.sent()]}}))}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.KNNClusterWorker=void 0;var i=r(33);t.KNNClusterWorker=function(e,t,r){return n(void 0,void 0,void 0,(function(){var n,a;return o(this,(function(o){return t.length<2?[2,null]:(0,a=new i.GroupIntention({dataSource:e,dimensions:t,measures:r,K:8}),n=a.getSignificance(r.concat(t.slice(0,-1)),t.slice(-1)),[2,{dimensions:t,measures:r,significance:n}])}))}))}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.VIEngine=void 0;var c=r(82),l=r(29),f=r(28),h=r(0),d=r(30),p=r(13),y=r(3),v=r(83),m=r(2),g=r(84),b=function(){function e(){this.env="browser",this._dimensions=[],this._measures=[],this.cubeStorageName="_cuboids",this.minDistEvalSampleSize=80,this.DIMENSION_NUM_IN_VIEW={MAX:3,MIN:1},this.MEASURE_NUM_IN_VIEW={MAX:3,MIN:1},this.cube=null,this.aggregators=["max","min","sum","mean","count","dist"],this.workerCollection=d.InsightWorkerCollection.init()}return e.prototype.serialize=function(){var e=this,t=e.fields,r=e.dataGraph,n=e.subSpaces,o=e.insightSpaces,i=e.dataSource,a=e.rawDataSource,u=e.cube;return{storage:{version:m.VERSION,fields:t,dataGraph:{MClusters:r.MClusters,DClusters:r.DClusters,DG:r.DG,MG:r.MG},subSpaces:n,insightSpaces:o},dataStorage:{version:m.VERSION,dataSource:{raw:a,view:i},cuboids:u.exportCuboids()}}},e.prototype.deSerialize=function(e,t){var r=this;this.fields=e.fields,"undefined"!==typeof this.fieldDictonary&&null!==this.fieldDictonary?this.fieldDictonary.clear():this.fieldDictonary=new Map,e.fields.forEach((function(e){r.fieldDictonary.set(e.key,e)}));var n=this.dimensions,o=this.measures;if(this.dataGraph=new l.DataGraph(n,o),this.dataGraph.DG=e.dataGraph.DG,this.dataGraph.MG=e.dataGraph.MG,this.dataGraph.DClusters=e.dataGraph.DClusters,this.dataGraph.MClusters=e.dataGraph.MClusters,this.subSpaces=e.subSpaces,this.insightSpaces=e.insightSpaces,t){var i=this.aggregators;this.rawDataSource=t.dataSource.raw,this.dataSource=t.dataSource.view,this.cube=new f.Cube({dataSource:t.dataSource.view,dimensions:n,measures:o,ops:i}),Object.keys(t.cuboids).forEach((function(e){r.cube.loadCuboid(e,t.cuboids[e])}))}},e.prototype.setFields=function(e){this._mutFields=e,this.dataSource=(0,y.copyData)(this.rawDataSource);var t=e.map((function(e){return e.key})),r=(0,c.getFieldsSummary)(t,this.dataSource),o=r.fields;r.dictonary;this.rawFields=o.map((function(t,r){var o=n({},t);return"?"!==e[r].dataType&&(o.dataType=e[r].dataType),"?"!==e[r].semanticType&&(o.semanticType=e[r].semanticType),"?"!==e[r].analyticType&&(o.analyticType=e[r].analyticType),o}))},e.prototype.setData=function(e){return this.rawDataSource=e,this.dataSource=(0,y.copyData)(e),this},Object.defineProperty(e.prototype,"dimensions",{get:function(){return this.fields.filter((function(e){return"dimension"===e.analyticType})).map((function(e){return e.key}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"measures",{get:function(){return this.fields.filter((function(e){return"measure"===e.analyticType})).map((function(e){return e.key}))},enumerable:!1,configurable:!0}),e.prototype.buildfieldsSummary=function(){var e=this.fields.map((function(e){return e.key})),t=(0,c.getFieldsSummary)(e,this.dataSource),r=t.fields,n=t.dictonary;return this.fields=r,this.fieldDictonary=n,this},e.prototype.univarSelection=function(e,t){void 0===e&&(e="auto"),void 0===t&&(t=1);for(var r=this.rawFields,n=this.rawDataSource,o=[],i=[],a=0;a<r.length;a++){var u=r[a],s=u.key;if("dimension"===u.analyticType)if("quantitative"===u.semanticType&&u.features.unique>50);else if(("nominal"===u.semanticType||"ordinal"===u.semanticType)&&u.features.unique>m.DOMMAIN_SIZE_THRESHOLD_MAYBE_DROP&&n.length/u.features.unique<this.minDistEvalSampleSize)continue;i.push(a),o.push(s)}var l=(0,c.getFieldsSummary)(o,this.dataSource),f=l.fields,h=l.dictonary;if(f.forEach((function(e,t){var n=i[t];e.semanticType=r[n].semanticType,e.dataType=r[n].dataType,e.analyticType=r[n].analyticType})),this.fields="auto"===e?(0,v.autoFieldSelect)(f):(0,v.fieldSelectByPercent)(f,t),-1===this.fields.findIndex((function(e){return"dimension"===e.analyticType}))){var d=f.filter((function(e){return"dimension"===e.analyticType}));d.length>0&&(d.sort((function(e,t){return e.features.entropy-t.features.entropy})),this.fields.push(d[0]))}this.fieldDictonary=h},e.prototype.buildGraph=function(){return this.dataGraph=new l.DataGraph(this.dimensions,this.measures),this.dataGraph.computeDGraph(this.dataSource),this.dataGraph.computeMGraph(this.dataSource),this},e.prototype.buildCube=function(e){return o(this,void 0,void 0,(function(){var t,r,n,o,a,u,s;return i(this,(function(i){switch(i.label){case 0:return r=(t=this).measures,n=t.dataSource,o=t.dataGraph,a=t.dimensions,u=t.aggregators,[4,(s=e||new f.Cube({dimensions:a,measures:r,dataSource:n,ops:u})).buildBaseCuboid()];case 1:return i.sent(),[4,Promise.all(o.DClusters.map((function(e){return s.buildCuboidOnCluster(e)})))];case 2:return i.sent(),this.cube=s,[2,this]}}))}))},e.prototype.clusterFields=function(){return this.dataGraph.clusterDGraph(this.dataSource),this.dataGraph.clusterMGraph(this.dataSource),this},e.getCombinationFromClusterGroups=function(e,t){var r,n,o=[];try{for(var i=a(e),c=i.next();!c.done;c=i.next()){var l=c.value,f=(0,h.getCombination)(l,t.MIN,t.MAX);o.push.apply(o,s([],u(f),!1))}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},e.prototype.buildSubspaces=function(t,r){var n,o,i,u,s,c;void 0===t&&(t=this.DIMENSION_NUM_IN_VIEW),void 0===r&&(r=this.MEASURE_NUM_IN_VIEW);var l=this.dataGraph.DClusters,f=this.dataGraph.MClusters,d=e.getCombinationFromClusterGroups(f,r),p=[];try{for(var y=a(l),v=y.next();!v.done;v=y.next()){var m=v.value,g=(0,h.getCombination)(m,t.MIN,t.MAX);try{for(var b=(i=void 0,a(g)),w=b.next();!w.done;w=b.next()){var _=w.value;try{for(var S=(s=void 0,a(d)),M=S.next();!M.done;M=S.next()){var x=M.value;p.push({dimensions:_,measures:x})}}catch(O){s={error:O}}finally{try{M&&!M.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}}}catch(E){i={error:E}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(i)throw i.error}}}}catch(D){n={error:D}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}return this.subSpaces=p,this},e.getSpaceImpurity=function(e,t,r){var n,o,i=0,u=function(t){var r=e.map((function(e){return e[t]})),n=(0,h.normalize)((0,h.mapPositive)(r)),o=(0,h.entropy)(n);i+=o};try{for(var s=a(r),c=s.next();!c.done;c=s.next()){u(c.value)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i/=r.length},e.prototype.exploreViewsPOC=function(e){return void 0===e&&(e=this.subSpaces),o(this,void 0,void 0,(function(){var t,r,n,o,u,s,c,l,f,h;return i(this,(function(i){t=this,r=[];try{for(n=a(e),o=n.next();!o.done;o=n.next())u=o.value,s=u.dimensions,c=u.measures,l=(0,g.viewStrength)(t.dataSource,s,c),r.push({impurity:l,significance:1,dimensions:s,measures:c})}catch(d){f={error:d}}finally{try{o&&!o.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return r.sort((function(e,t){return(t.impurity||0)-(e.impurity||0)})),[2,r]}))}))},e.prototype.exploreViews=function(e){return void 0===e&&(e=this.subSpaces),o(this,void 0,void 0,(function(){var t,r,n,o,u,s,c,l,f,h,d,p;return i(this,(function(y){switch(y.label){case 0:return r=(t=this).measures,n=t.fieldDictonary,t.dataSource,o=[],[4,t.cube.getCuboid([])];case 1:return[4,y.sent().getAggregatedRows(r,r.map((function(){return"dist"})))];case 2:u=y.sent(),s=function(e){var r,s,c,l,f,h,d,p,y,v,b,w;return i(this,(function(i){switch(i.label){case 0:return r=e.dimensions,s=e.measures,[4,t.cube.getCuboid(r)];case 1:return[4,(c=i.sent()).loadStateInCache()];case 2:return i.sent(),[4,c.getAggregatedRows(s,s.map((function(){return"dist"})))];case 3:return l=i.sent(),[4,c.getAggregatedRows(s,s.map((function(){return"count"})))];case 4:f=i.sent(),c.clearState(),h=0,d=function(e){var t=0;u.length>0&&(t=(0,g.entropyAcc)(u[0][e].filter((function(e){return e>0}))));var r=0,o=n.get(e).features.size,i=l.map((function(t,r){return{freq:f[r][e],dist:t[e]}}));i.sort((function(e,t){return t.freq-e.freq}));for(var a=0;a<i.length&&!(a>=m.DEFAULT_BIN_NUM-1);a++){var s=(0,g.entropyAcc)(i[a].dist.filter((function(e){return e>0})));r+=i[a].freq/o*s}var c=new Array(m.DEFAULT_BIN_NUM).fill(0),d=0;for(a=m.DEFAULT_BIN_NUM-1;a<i.length;a++){for(var p=0;p<c.length;p++)c[p]+=i[a].dist[p];d+=i[a].freq}d>0&&(r+=d/o*(0,g.entropyAcc)(c.filter((function(e){return e>0})))),h+=(t-r)/Math.log2(Math.min(m.DEFAULT_BIN_NUM,i.length))};try{for(b=void 0,p=a(s),y=p.next();!y.done;y=p.next())v=y.value,d(v)}catch(_){b={error:_}}finally{try{y&&!y.done&&(w=p.return)&&w.call(p)}finally{if(b)throw b.error}}return h/=s.length,o.push({dimensions:r,measures:s,significance:1,score:h,impurity:h}),[2]}}))},y.label=3;case 3:y.trys.push([3,8,9,10]),c=a(e),l=c.next(),y.label=4;case 4:return l.done?[3,7]:(f=l.value,[5,s(f)]);case 5:y.sent(),y.label=6;case 6:return l=c.next(),[3,4];case 7:return[3,10];case 8:return h=y.sent(),d={error:h},[3,10];case 9:try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}return[7];case 10:return o.sort((function(e,t){return Number(t.impurity)-Number(e.impurity)})),[2,o]}}))}))},e.prototype.searchPointInterests=function(e){},e.prototype.insightExtraction=function(t){return void 0===t&&(t=this.subSpaces),o(this,void 0,void 0,(function(){var r,n,u,s,c,l,f,h,d,p,y=this;return i(this,(function(v){switch(v.label){case 0:r=this,n=[],u=function(t){var a,u,c,l,f;return i(this,(function(h){switch(h.label){case 0:return a=t.dimensions,u=t.measures,[4,r.cube.getCuboid(a)];case 1:return[4,h.sent().getAggregatedRows(u,u.map((function(){return"sum"})))];case 2:return c=h.sent(),l=e.getSpaceImpurity(c,a,u),f=[],s.workerCollection.each((function(e,t){f.push(function(e,t){return o(y,void 0,void 0,(function(){var o,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e(c,a,u,r.fieldDictonary,r)];case 1:return null!==(o=i.sent())&&(o.type=t,o.impurity=l,n.push(o)),[3,3];case 2:return s=i.sent(),console.error("worker failed",{dimensions:a,measures:u,aggData:c},s),[3,3];case 3:return[2]}}))}))}(e,"".concat(t)))})),[4,Promise.all(f)];case 3:return h.sent(),[2]}}))},s=this,v.label=1;case 1:v.trys.push([1,6,7,8]),c=a(t),l=c.next(),v.label=2;case 2:return l.done?[3,5]:(f=l.value,[5,u(f)]);case 3:v.sent(),v.label=4;case 4:return l=c.next(),[3,2];case 5:return[3,8];case 6:return h=v.sent(),d={error:h},[3,8];case 7:try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(d)throw d.error}return[7];case 8:return r.insightSpaces=n,this.setInsightScores(),this.insightSpaces.sort((function(e,t){return(e.score||0)-(t.score||0)})),[2,this.insightSpaces]}}))}))},e.prototype.setInsightScores=function(){return this.insightSpaces.forEach((function(e){e.score=Number(e.impurity)/e.significance})),this},e.prototype.getFieldInfoInVis=function(e){return o(this,void 0,void 0,(function(){var t,r,o,u,s,c,l,f,d,p,y,v,m;return i(this,(function(g){switch(g.label){case 0:t=[],r=this.cube,o=this.fieldDictonary,u=e.dimensions,s=e.measures,c=function(e){var a,u;return i(this,(function(i){switch(i.label){case 0:return[4,r.getCuboid([e])];case 1:return[4,i.sent().getAggregatedRows(s,s.map((function(){return"sum"})))];case 2:return a=i.sent(),u=0,s.forEach((function(e){var t=a.map((function(t){return t[e]})),r=(0,h.normalize)((0,h.mapPositive)(t)),n=(0,h.entropy)(r);u+=n})),t.push(n(n({},o.get(e)),{impurity:u})),[2]}}))},g.label=1;case 1:g.trys.push([1,6,7,8]),l=a(u),f=l.next(),g.label=2;case 2:return f.done?[3,5]:(d=f.value,[5,c(d)]);case 3:g.sent(),g.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return p=g.sent(),v={error:p},[3,8];case 7:try{f&&!f.done&&(m=l.return)&&m.call(l)}finally{if(v)throw v.error}return[7];case 8:return[4,r.getCuboid(u)];case 9:return[4,g.sent().getAggregatedRows(s,s.map((function(){return"sum"})))];case 10:return y=g.sent(),s.forEach((function(e){var r=y.map((function(t){return t[e]})),i=(0,h.normalize)((0,h.mapPositive)(r)),a=(0,h.entropy)(i);t.push(n(n({},o.get(e)),{impurity:a}))})),[2,t]}}))}))},e.prototype.getFieldInfoInVisBeta=function(e){return o(this,void 0,void 0,(function(){var t,r,o,a,u,s,c,l;return i(this,(function(i){switch(i.label){case 0:return t=[],r=this.cube,o=this.fieldDictonary,a=e.dimensions,u=e.measures,a.forEach((function(e){var r=o.get(e);t.push(n(n({},r),{impurity:r.features.entropy}))})),[4,r.getCuboid(a)];case 1:return[4,(s=i.sent()).getAggregatedRows(u,u.map((function(){return"dist"})))];case 2:return c=i.sent(),[4,s.getAggregatedRows(u,u.map((function(){return"count"})))];case 3:return l=i.sent(),u.forEach((function(e){var r=0,i=o.get(e).features.size,a=c.map((function(t,r){return{freq:l[r][e],dist:t[e]}}));a.sort((function(e,t){return t.freq-e.freq}));for(var u=0;u<a.length&&!(u>=m.DEFAULT_BIN_NUM-1);u++){var s=(0,g.entropyAcc)(a[u].dist.filter((function(e){return e>0})));r+=a[u].freq/i*s}var f=new Array(m.DEFAULT_BIN_NUM).fill(0),h=0;for(u=m.DEFAULT_BIN_NUM-1;u<a.length;u++){for(var d=0;d<f.length;d++)f[d]+=a[u].dist[d];h+=a[u].freq}h>0&&(r+=h/i*(0,g.entropyAcc)(f.filter((function(e){return e>0}))));var p=o.get(e);t.push(n(n({},p),{impurity:r}))})),[2,t]}}))}))},e.prototype.specification=function(e){return o(this,void 0,void 0,(function(){var t,r,n,o;return i(this,(function(i){switch(i.label){case 0:return t=e.dimensions,r=e.measures,[4,this.getFieldInfoInVisBeta(e)];case 1:return n=i.sent(),[4,this.cube.getCuboid(t)];case 2:return[4,i.sent().getAggregatedRows(r,r.map((function(){return"sum"})))];case 3:return o=i.sent(),[2,(0,p.specification)(n,o)]}}))}))},e}();t.VIEngine=b},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldsSummary=t.inferDataType=void 0;var a=r(16),u=r(2),s={boolean:function(e){return"true"===e||"false"===e||!0===e||!1===e},integer:function(e){return s.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)},date:function(e){return!isNaN(Date.parse(e))}};function c(e){var t,r,o,i=["boolean","integer","number","date"];try{for(var a=n(e),u=a.next();!u.done;u=a.next()){for(var c=u.value,l=0;l<i.length;++l)null==(o=c)||o!==o||s[i[l]](c)||(i.splice(l,1),l-=1);if(0===i.length)return"string"}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i[0]}t.inferDataType=c,t.getFieldsSummary=function(e,t){var r,s,l=[],f=new Map,h=function(e){var r=new Map;t.forEach((function(t){r.has(t[e])||r.set(t[e],0),r.set(t[e],r.get(t[e])+1)}));var n,s=c(i([],o(r.keys()),!1)),h=(0,a.getFieldType)(t,e),d=Math.log2(r.size),p=d,y="dimension",v=!1;"integer"!==s&&"number"!==s||"ordinal"===h||(y="measure",r.size>u.BIN_NUM_FOR_ANALYTIC&&(p=(n=(0,a.getFloatFieldEntropy)(t,e)).entropy,d=n.maxEntropy,v=!0));v||(p=(n=(0,a.getFieldEntropy)(t,e)).entropy,d=n.maxEntropy);var m={key:e,analyticType:y,semanticType:h,dataType:s,features:{unique:r.size,size:t.length,entropy:p,maxEntropy:d}};l.push(m),f.set(m.key,m)};try{for(var d=n(e),p=d.next();!p.done;p=d.next()){h(p.value)}}catch(y){r={error:y}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return{fields:l,dictonary:f}}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.fieldSelectByPercent=t.autoFieldSelect=void 0;var i=Math.round(Math.pow(75,2)/500);t.autoFieldSelect=function(e){var t=e.length,r=o([],n(e),!1);return r.sort((function(e,t){return e.features.entropy-t.features.entropy})),t<25?r:t<500?r.slice(0,Math.round(Math.sqrt(i*(t-25))+25)):r.slice(0,100)},t.fieldSelectByPercent=function(e,t){var r=e.length,i=o([],n(e),!1);return i.sort((function(e,t){return e.features.entropy-t.features.entropy})),i.slice(0,Math.round(r*t))}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.viewStrength=t.meaImp=t.entropyAcc=void 0;function a(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];var n=Math.log2(t),o=0;for(r=0;r<e.length;r++)o+=e[r]*(Math.log2(e[r])-n)/t;return-o}function u(e,t,r,o){var i,u,s=r,c=(o-s)/8,l=new Array(9).fill(0);try{for(var f=n(e),h=f.next();!h.done;h=f.next()){var d=h.value;l[Math.floor((d[t]-s)/c)]++}}catch(p){i={error:p}}finally{try{h&&!h.done&&(u=f.return)&&u.call(f)}finally{if(i)throw i.error}}return l[7]+=l[8],a(l.slice(0,8).filter((function(e){return e>0})))}t.entropyAcc=a,t.meaImp=u,t.viewStrength=function(e,t,r){var a,s,c,l,f,h=new Map,d=function(e){var r=t.map((function(t){return e[t]})).join("_");h.has(r)||h.set(r,[]),null===(f=h.get(r))||void 0===f||f.push(e)};try{for(var p=n(e),y=p.next();!y.done;y=p.next()){d(y.value)}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}var v=0,m=function(t){var r=Math.min.apply(Math,i([],o(e.map((function(e){return e[t]}))),!1)),n=Math.max.apply(Math,i([],o(e.map((function(e){return e[t]}))),!1)),a=u(e,t,r,n),s=0,c=[],l=i([],o(h.entries()),!1);l.sort((function(e,t){return t[1].length-e[1].length}));for(var f=0;f<l.length&&!(f>=7);f++){var d=l[f][1];s+=(p=d.length/e.length)*(y=u(d,t,r,n)),c.push([p,y])}var p,y,m=[];for(f=7;f<l.length;f++)m.push.apply(m,i([],o(l[f][1]),!1));m.length>0&&(s+=(p=m.length/e.length)*(y=u(m,t,r,n)));v+=m.length>0?(a-s)/Math.log2(8):(a-s)/Math.log2(h.size)};try{for(var g=n(r),b=g.next();!b.done;b=g.next()){m(b.value)}}catch(_){c={error:_}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}return v/r.length}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VISUAL_CHANNELS=void 0,t.VISUAL_CHANNELS={x:{name:"x",exclusiveChannels:["angle","radius"]},y:{name:"y",exclusiveChannels:["angle","radius"]},angle:{name:"angle",exclusiveChannels:["x","y"]},color:{name:"color",exclusiveChannels:["shape","opacity"]},highFacets:{name:"highFacets",exclusiveChannels:[]},opacity:{name:"opacity",exclusiveChannels:["color"]}}},function(e,t,r){"use strict";r.r(t);var n={};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}r.r(n),r.d(n,"transNumber",(function(){return l})),r.d(n,"fieldMeta2fieldSummary",(function(){return f})),r.d(n,"fieldSummary2fieldMeta",(function(){return h})),r.d(n,"meta2fieldScores",(function(){return d})),r.d(n,"formatTimeField",(function(){return v}));var a=r(11),u=r.n(a),s=r(34),c=r.n(s);function l(e){return isNaN(e)?null:Number(e)}function f(e){return e.map((function(e){return{fieldName:e.fid,entropy:e.features.entropy,maxEntropy:e.features.maxEntropy,type:e.semanticType,distribution:e.distribution}}))}function h(e){var t=e.summary,r=e.analyticTypes,n=e.semanticTypes,o=e.geoRoles;return"undefined"===typeof r&&console.warn("You are using analytic types infered from semantic type, it may not be safe."),t.map((function(e,t){var i=e.type;n&&"?"!==n[t]&&(i=n[t]);var a="none";return o&&o[t]&&(a=o[t]),{fid:e.fieldName,geoRole:a,features:{maxEntropy:e.maxEntropy,entropy:e.entropy,unique:e.distribution.length},semanticType:i,analyticType:r?r[t]:g(i),distribution:e.distribution,disable:!1}}))}function d(e){return e.map((function(e){return[e.fid,e.features.entropy,e.features.maxEntropy,{name:e.fid,type:e.semanticType}]}))}u.a.extend(c.a);var p={"DD-MM-YYYY":/^[0-9]{1,2}[-/][0-9]{1,2}[-/][0-9]{2,4}$/,YYYYMMDD:/^[0-9]{4}[0-9]{2}[0-9]{2}$/};function y(e){if(p["DD-MM-YYYY"].test(e)){var t=u()(e,"DD-MM-YYYY");return t.isValid()?t.format("YYYY-MM-DD"):null}if(p.YYYYMMDD.test(e)){var r=u()(e,"DD-MM-YYYY");return r.isValid()?r.format("YYYYMMDD"):null}return e}function v(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],o=0;o<t.length;o++)"string"===typeof n[t[o]]&&(n[t[o]]=y(n[t[o]]));return e}var m=r(6);function g(e){switch(e){case"quantitative":return"measure";default:return"dimension"}}function b(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=m.Cleaner.dropNull,_=m.Cleaner.simpleClean,S=m.Cleaner.useMode;function M(e,t,r,n){switch(n){case"dropNull":return w(e,t,r);case"useMode":return S(e,t.concat(r));case"simpleClean":return _(e,t,r);case"none":default:return function(e){return b(e)}(e)}}function x(e,t,r){var o=t.filter((function(e){return"dimension"===e.analyticType})).map((function(e){return e.fid})),i=t.filter((function(e){return"measure"===e.analyticType})).map((function(e){return e.fid}));return M(function(e,t){return e.map((function(e){var r={};return t.forEach((function(t){r[t.fid]=e[t.fid],"dimension"===t.analyticType&&("temporal"!==t.semanticType&&"nominal"!==t.semanticType||(r[t.fid]=String(e[t.fid]))),"quantitative"===t.semanticType?r[t.fid]=n.transNumber(e[t.fid]):"ordinal"!==t.semanticType||isNaN(Number(e[t.fid]))||(r[t.fid]=n.transNumber(e[t.fid]))})),r}))}(e,t),o,i,r)}var O;self.addEventListener("message",(O=e=>{try{const{dataSource:t,method:r,fields:n}=e.data,o=x(t,n,r);self.postMessage({success:!0,data:o})}catch(t){self.postMessage({success:!1,message:`[clean data]${t}\n${t.stack}`})}},function(e){var t=(new Date).getTime();try{O(e)}finally{var r=(new Date).getTime()-t;console.log("Task [".concat(O.name,"] cost ").concat(r," ms."))}}),!1)},function(e,t,r){"use strict";r.r(t),r.d(t,"VIStorage",(function(){return u}));var n=r(8),o=r.n(n),i=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},u=function(){function e(e){this.TMP_FILE_SAFE_TAIL="_.json",this.workSpaceName="visual-insights-work-space",this.storageName=e}return e.prototype.init=function(){o.a.createInstance({name:this.workSpaceName,storeName:this.storageName}).clear()},e.prototype.destroy=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,o.a.dropInstance({name:this.workSpaceName,storeName:this.storageName})]}))}))},e.prototype.getItem=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,o.a.createInstance({name:this.workSpaceName,storeName:this.storageName}).getItem(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.setItem=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,o.a.createInstance({name:this.workSpaceName,storeName:this.storageName}).setItem(e,t)];case 1:return r.sent(),[2]}}))}))},e}()}]);