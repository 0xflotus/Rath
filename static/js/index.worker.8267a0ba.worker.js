!function(r){var t={};function n(e){if(t[e])return t[e].exports;var a=t[e]={i:e,l:!1,exports:{}};return r[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=r,n.c=t,n.d=function(r,t,e){n.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:e})},n.r=function(r){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,t){if(1&t&&(r=n(r)),8&t)return r;if(4&t&&"object"===typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var a in r)n.d(e,a,function(t){return r[t]}.bind(null,a));return e},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,"a",t),t},n.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},n.p="./",n(n.s=1)}([function(r,t,n){!function(r){"use strict";function t(r){if(0===r.length)return 0;for(var t,n=r[0],e=0,a=1;a<r.length;a++)t=n+r[a],Math.abs(n)>=Math.abs(r[a])?e+=n-t+r[a]:e+=r[a]-t+n,n=t;return n+e}function n(r){if(0===r.length)throw new Error("mean requires at least one data point");return t(r)/r.length}function e(r,t){var e,a,i=n(r),o=0;if(2===t)for(a=0;a<r.length;a++)o+=(e=r[a]-i)*e;else for(a=0;a<r.length;a++)o+=Math.pow(r[a]-i,t);return o}function a(r){if(0===r.length)throw new Error("variance requires at least one data point");return e(r,2)/r.length}function i(r){if(1===r.length)return 0;var t=a(r);return Math.sqrt(t)}function o(r){if(0===r.length)throw new Error("mode requires at least one data point");if(1===r.length)return r[0];for(var t=r[0],n=NaN,e=0,a=1,i=1;i<r.length+1;i++)r[i]!==t?(a>e&&(e=a,n=t),a=1,t=r[i]):a++;return n}function u(r){return r.slice().sort((function(r,t){return r-t}))}function f(r){if(0===r.length)throw new Error("min requires at least one data point");for(var t=r[0],n=1;n<r.length;n++)r[n]<t&&(t=r[n]);return t}function l(r){if(0===r.length)throw new Error("max requires at least one data point");for(var t=r[0],n=1;n<r.length;n++)r[n]>t&&(t=r[n]);return t}function h(r){for(var t=0,n=0;n<r.length;n++)t+=r[n];return t}function s(r,t){var n=r.length*t;if(0===r.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?r[r.length-1]:0===t?r[0]:n%1!=0?r[Math.ceil(n)-1]:r.length%2==0?(r[n-1]+r[n])/2:r[n]}function c(r,t,n,e){for(n=n||0,e=e||r.length-1;e>n;){if(e-n>600){var a=e-n+1,i=t-n+1,o=Math.log(a),u=.5*Math.exp(2*o/3),f=.5*Math.sqrt(o*u*(a-u)/a);i-a/2<0&&(f*=-1),c(r,t,Math.max(n,Math.floor(t-i*u/a+f)),Math.min(e,Math.floor(t+(a-i)*u/a+f)))}var l=r[t],h=n,s=e;for(v(r,n,t),r[e]>l&&v(r,n,e);h<s;){for(v(r,h,s),h++,s--;r[h]<l;)h++;for(;r[s]>l;)s--}r[n]===l?v(r,n,s):v(r,++s,e),s<=t&&(n=s+1),t<=s&&(e=s-1)}}function v(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function p(r,t){var n=r.slice();if(Array.isArray(t)){!function(r,t){for(var n=[0],e=0;e<t.length;e++)n.push(m(r.length,t[e]));n.push(r.length-1),n.sort(d);for(var a=[0,n.length-1];a.length;){var i=Math.ceil(a.pop()),o=Math.floor(a.pop());if(!(i-o<=1)){var u=Math.floor((o+i)/2);g(r,n[u],Math.floor(n[o]),Math.ceil(n[i])),a.push(o,u,u,i)}}}(n,t);for(var e=[],a=0;a<t.length;a++)e[a]=s(n,t[a]);return e}return g(n,m(n.length,t),0,n.length-1),s(n,t)}function g(r,t,n,e){t%1==0?c(r,t,n,e):(c(r,t=Math.floor(t),n,e),c(r,t+1,t+1,e))}function d(r,t){return r-t}function m(r,t){var n=r*t;return 1===t?r-1:0===t?0:n%1!=0?Math.ceil(n)-1:r%2==0?n-.5:n}function w(r,t){if(t<r[0])return 0;if(t>r[r.length-1])return 1;var n=function(r,t){for(var n=0,e=0,a=r.length;e<a;)t<=r[n=e+a>>>1]?a=n:e=-~n;return e}(r,t);if(r[n]!==t)return n/r.length;n++;var e=function(r,t){for(var n=0,e=0,a=r.length;e<a;)t>=r[n=e+a>>>1]?e=-~n:a=n;return e}(r,t);if(e===n)return n/r.length;var a=e-n+1;return a*(e+n)/2/a/r.length}function M(r){var t=p(r,.75),n=p(r,.25);if("number"==typeof t&&"number"==typeof n)return t-n}function y(r){return+p(r,.5)}function b(r){for(var t=y(r),n=[],e=0;e<r.length;e++)n.push(Math.abs(r[e]-t));return y(n)}function q(r,t){t=t||Math.random;for(var n,e,a=r.length;a>0;)e=Math.floor(t()*a--),n=r[a],r[a]=r[e],r[e]=n;return r}function S(r,t){return q(r.slice(),t)}function E(r,t,n){return S(r,n).slice(0,t)}function A(r,t){for(var n=[],e=0;e<r;e++){for(var a=[],i=0;i<t;i++)a.push(0);n.push(a)}return n}function x(r){for(var t,n=0,e=0;e<r.length;e++)0!==e&&r[e]===t||(t=r[e],n++);return n}function k(r,t,n,e){var a;if(r>0){var i=(n[t]-n[r-1])/(t-r+1);a=e[t]-e[r-1]-(t-r+1)*i*i}else a=e[t]-n[t]*n[t]/(t+1);return a<0?0:a}function P(r,t,n,e,a,i,o){if(!(r>t)){var u=Math.floor((r+t)/2);e[n][u]=e[n-1][u-1],a[n][u]=u;var f=n;r>n&&(f=Math.max(f,a[n][r-1]||0)),f=Math.max(f,a[n-1][u]||0);var l,h,s,c=u-1;t<e[0].length-1&&(c=Math.min(c,a[n][t+1]||0));for(var v=c;v>=f&&!((l=k(v,u,i,o))+e[n-1][f-1]>=e[n][u]);--v)(h=k(f,u,i,o)+e[n-1][f-1])<e[n][u]&&(e[n][u]=h,a[n][u]=f),f++,(s=l+e[n-1][v-1])<e[n][u]&&(e[n][u]=s,a[n][u]=v);P(r,u-1,n,e,a,i,o),P(u+1,t,n,e,a,i,o)}}function T(r,t){if(r.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(r.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=n(r),a=n(t),i=0,o=0;o<r.length;o++)i+=(r[o]-e)*(t[o]-a);return i/(r.length-1)}function I(r){if(r.length<2)throw new Error("sampleVariance requires at least two data points");return e(r,2)/(r.length-1)}function _(r){var t=I(r);return Math.sqrt(t)}function O(r,t){return T(r,t)/_(r)/_(t)}function j(r,t,n,e){return(r*t+n*e)/(t+e)}function C(r){if(0===r.length)throw new Error("meanSimple requires at least one data point");return h(r)/r.length}function F(r){if(0===r.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,n=0;n<r.length;n++)t+=Math.pow(r[n],2);return Math.sqrt(t/r.length)}var N=function(){this.totalCount=0,this.data={}};N.prototype.train=function(r,t){for(var n in this.data[t]||(this.data[t]={}),r){var e=r[n];void 0===this.data[t][n]&&(this.data[t][n]={}),void 0===this.data[t][n][e]&&(this.data[t][n][e]=0),this.data[t][n][e]++}this.totalCount++},N.prototype.score=function(r){var t,n={};for(var e in r){var a=r[e];for(t in this.data)n[t]={},this.data[t][e]?n[t][e+"_"+a]=(this.data[t][e][a]||0)/this.totalCount:n[t][e+"_"+a]=0}var i={};for(t in n)for(var o in i[t]=0,n[t])i[t]+=n[t][o];return i};var R=function(){this.weights=[],this.bias=0};R.prototype.predict=function(r){if(r.length!==this.weights.length)return null;for(var t=0,n=0;n<this.weights.length;n++)t+=this.weights[n]*r[n];return(t+=this.bias)>0?1:0},R.prototype.train=function(r,t){if(0!==t&&1!==t)return null;r.length!==this.weights.length&&(this.weights=r,this.bias=1);var n=this.predict(r);if("number"==typeof n&&n!==t){for(var e=t-n,a=0;a<this.weights.length;a++)this.weights[a]+=e*r[a];this.bias+=e}return this};var D=1e-4;function V(r){if(r<0)throw new Error("factorial requires a non-negative value");if(Math.floor(r)!==r)throw new Error("factorial requires an integer input");for(var t=1,n=2;n<=r;n++)t*=n;return t}var X=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],L=Math.log(Math.sqrt(2*Math.PI)),U={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},z=Math.sqrt(2*Math.PI),B={gaussian:function(r){return Math.exp(-.5*r*r)/z}},H={nrd:function(r){var t=_(r),n=M(r);return"number"==typeof n&&(t=Math.min(t,n/1.34)),1.06*t*Math.pow(r.length,-.2)}};function W(r,t,n){var e,a;if(void 0===t)e=B.gaussian;else if("string"==typeof t){if(!B[t])throw new Error('Unknown kernel "'+t+'"');e=B[t]}else e=t;if(void 0===n)a=H.nrd(r);else if("string"==typeof n){if(!H[n])throw new Error('Unknown bandwidth method "'+n+'"');a=H[n](r)}else a=n;return function(t){var n=0,i=0;for(n=0;n<r.length;n++)i+=e((t-r[n])/a);return i/a/r.length}}var Y=Math.sqrt(2*Math.PI);function K(r){for(var t=r,n=r,e=1;e<15;e++)t+=n*=r*r/(2*e+1);return Math.round(1e4*(.5+t/Y*Math.exp(-r*r/2)))/1e4}for(var $=[],G=0;G<=3.09;G+=.01)$.push(K(G));function Z(r){var t=1/(1+.5*Math.abs(r)),n=t*Math.exp(-r*r+((((((((.17087277*t-.82215223)*t+1.48851587)*t-1.13520398)*t+.27886807)*t-.18628806)*t+.09678418)*t+.37409196)*t+1.00002368)*t-1.26551223);return r>=0?1-n:n-1}function J(r){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-r*r)/2,2)-Math.log(1-r*r)/t)-(2/(Math.PI*t)+Math.log(1-r*r)/2));return r>=0?n:-n}function Q(r){if("number"==typeof r)return r<0?-1:0===r?0:1;throw new TypeError("not a number")}function rr(r,t){for(var n=0,e=0;e<r.length;e++){var a=r[e]-t[e];n+=a*a}return Math.sqrt(n)}function tr(r,t){return r.map((function(r){for(var n=Number.MAX_VALUE,e=-1,a=0;a<t.length;a++){var i=rr(r,t[a]);i<n&&(n=i,e=a)}return e}))}function nr(r,t,n){for(var e=r[0].length,a=A(n,e),i=Array(n).fill(0),o=r.length,u=0;u<o;u++){for(var f=r[u],l=t[u],h=a[l],s=0;s<e;s++)h[s]+=f[s];i[l]+=1}for(var c=0;c<n;c++){if(0===i[c])throw new Error("Centroid "+c+" has no friends");for(var v=a[c],p=0;p<e;p++)v[p]/=i[c]}return a}function er(r,t){for(var n=0,e=0;e<r.length;e++)n+=rr(r[e],t[e]);return n}function ar(r,t){if(r.length!==t.length)throw new Error("must have exactly as many labels as points");for(var n=function(r){for(var t=1+l(r),n=Array(t),e=0;e<r.length;e++){var a=r[e];void 0===n[a]&&(n[a]=[]),n[a].push(e)}return n}(t),e=function(r){for(var t=r.length,n=A(t,t),e=0;e<t;e++)for(var a=0;a<e;a++)n[e][a]=rr(r[e],r[a]),n[a][e]=n[e][a];return n}(r),a=[],i=0;i<r.length;i++){var o=0;if(n[t[i]].length>1){var u=or(i,n[t[i]],e),f=ir(i,t,n,e);o=(f-u)/Math.max(u,f)}a.push(o)}return a}function ir(r,t,n,e){for(var a=t[r],i=Number.MAX_VALUE,o=0;o<n.length;o++)if(o!==a){var u=or(r,n[o],e);u<i&&(i=u)}return i}function or(r,t,n){for(var e=0,a=0;a<t.length;a++)e+=n[r][t[a]];return e/t.length}function ur(r,t){return 0===r&&0===t?0:Math.abs((r-t)/t)}r.BayesianClassifier=N,r.PerceptronModel=R,r.addToMean=function(r,t,n){return r+(n-r)/(t+1)},r.approxEqual=function(r,t,n){return void 0===n&&(n=D),ur(r,t)<=n},r.average=n,r.averageSimple=C,r.bayesian=N,r.bernoulliDistribution=function(r){if(r<0||r>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-r,r]},r.binomialDistribution=function(r,t){if(!(t<0||t>1||r<=0||r%1!=0)){var n=0,e=0,a=[],i=1;do{a[n]=i*Math.pow(t,n)*Math.pow(1-t,r-n),e+=a[n],i=i*(r-++n+1)/n}while(e<.9999);return a}},r.bisect=function(r,t,n,e,a){if("function"!=typeof r)throw new TypeError("func must be a function");for(var i=0;i<e;i++){var o=(t+n)/2;if(0===r(o)||Math.abs((n-t)/2)<a)return o;Q(r(o))===Q(r(t))?t=o:n=o}throw new Error("maximum number of iterations exceeded")},r.chiSquaredDistributionTable=U,r.chiSquaredGoodnessOfFit=function(r,t,e){for(var a=0,i=t(n(r)),o=[],u=[],f=0;f<r.length;f++)void 0===o[r[f]]&&(o[r[f]]=0),o[r[f]]++;for(var l=0;l<o.length;l++)void 0===o[l]&&(o[l]=0);for(var h in i)h in o&&(u[+h]=i[h]*r.length);for(var s=u.length-1;s>=0;s--)u[s]<3&&(u[s-1]+=u[s],u.pop(),o[s-1]+=o[s],o.pop());for(var c=0;c<o.length;c++)a+=Math.pow(o[c]-u[c],2)/u[c];var v=o.length-1-1;return U[v][e]<a},r.chunk=function(r,t){var n=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var e=0;e<r.length;e+=t)n.push(r.slice(e,e+t));return n},r.ckmeans=function(r,t){if(t>r.length)throw new Error("cannot generate more classes than there are data values");var n=u(r);if(1===x(n))return[n];var e=A(t,n.length),a=A(t,n.length);!function(r,t,n){for(var e=t[0].length,a=r[Math.floor(e/2)],i=[],o=[],u=0,f=void 0;u<e;++u)f=r[u]-a,0===u?(i.push(f),o.push(f*f)):(i.push(i[u-1]+f),o.push(o[u-1]+f*f)),t[0][u]=k(0,u,i,o),n[0][u]=0;for(var l=1;l<t.length;++l)P(l<t.length-1?l:e-1,e-1,l,t,n,i,o)}(n,e,a);for(var i=[],o=a[0].length-1,f=a.length-1;f>=0;f--){var l=a[f][o];i[f]=n.slice(l,o+1),f>0&&(o=l-1)}return i},r.coefficientOfVariation=function(r){return _(r)/n(r)},r.combinations=function r(t,n){var e,a,i,o,u=[];for(e=0;e<t.length;e++)if(1===n)u.push([t[e]]);else for(i=r(t.slice(e+1,t.length),n-1),a=0;a<i.length;a++)(o=i[a]).unshift(t[e]),u.push(o);return u},r.combinationsReplacement=function r(t,n){for(var e=[],a=0;a<t.length;a++)if(1===n)e.push([t[a]]);else for(var i=r(t.slice(a,t.length),n-1),o=0;o<i.length;o++)e.push([t[a]].concat(i[o]));return e},r.combineMeans=j,r.combineVariances=function(r,t,n,e,a,i){var o=j(t,n,a,i);return(n*(r+Math.pow(t-o,2))+i*(e+Math.pow(a-o,2)))/(n+i)},r.cumulativeStdLogisticProbability=function(r){return 1/(Math.exp(-r)+1)},r.cumulativeStdNormalProbability=function(r){var t=Math.abs(r),n=Math.min(Math.round(100*t),$.length-1);return r>=0?$[n]:+(1-$[n]).toFixed(4)},r.epsilon=D,r.equalIntervalBreaks=function(r,t){if(r.length<2)return r;for(var n=f(r),e=l(r),a=[n],i=(e-n)/t,o=1;o<t;o++)a.push(a[0]+i*o);return a.push(e),a},r.erf=Z,r.errorFunction=Z,r.extent=function(r){if(0===r.length)throw new Error("extent requires at least one data point");for(var t=r[0],n=r[0],e=1;e<r.length;e++)r[e]>n&&(n=r[e]),r[e]<t&&(t=r[e]);return[t,n]},r.extentSorted=function(r){return[r[0],r[r.length-1]]},r.factorial=V,r.gamma=function r(t){if(Number.isInteger(t))return t<=0?NaN:V(t-1);if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*r(-t));var n=t+1/4;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(n,2)-1/12960/Math.pow(n,3)-257/207360/Math.pow(n,4)-52/2612736/Math.pow(n,5)+5741173/9405849600/Math.pow(n,6)+37529/18811699200/Math.pow(n,7))},r.gammaln=function(r){if(r<=0)return 1/0;r--;for(var t=X[0],n=1;n<15;n++)t+=X[n]/(r+n);var e=5.2421875+r;return L+Math.log(t)-e+(r+.5)*Math.log(e)},r.geometricMean=function(r){if(0===r.length)throw new Error("geometricMean requires at least one data point");for(var t=1,n=0;n<r.length;n++){if(r[n]<0)throw new Error("geometricMean requires only non-negative numbers as input");t*=r[n]}return Math.pow(t,1/r.length)},r.harmonicMean=function(r){if(0===r.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,n=0;n<r.length;n++){if(r[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/r[n]}return r.length/t},r.interquartileRange=M,r.inverseErrorFunction=J,r.iqr=M,r.kMeansCluster=function(r,t,n){void 0===n&&(n=Math.random);for(var e=null,a=E(r,t,n),i=null,o=Number.MAX_VALUE;0!==o;)e=a,o=er(a=nr(r,i=tr(r,a),t),e);return{labels:i,centroids:a}},r.kde=W,r.kernelDensityEstimation=W,r.linearRegression=function(r){var t,n,e=r.length;if(1===e)t=0,n=r[0][1];else{for(var a,i,o,u=0,f=0,l=0,h=0,s=0;s<e;s++)u+=i=(a=r[s])[0],f+=o=a[1],l+=i*i,h+=i*o;n=f/e-(t=(e*h-u*f)/(e*l-u*u))*u/e}return{m:t,b:n}},r.linearRegressionLine=function(r){return function(t){return r.b+r.m*t}},r.logAverage=function(r){if(0===r.length)throw new Error("logAverage requires at least one data point");for(var t=0,n=0;n<r.length;n++){if(r[n]<0)throw new Error("logAverage requires only non-negative numbers as input");t+=Math.log(r[n])}return Math.exp(t/r.length)},r.logit=function(r){if(r<=0||r>=1)throw new Error("p must be strictly between zero and one");return Math.log(r/(1-r))},r.mad=b,r.max=l,r.maxSorted=function(r){return r[r.length-1]},r.mean=n,r.meanSimple=C,r.median=y,r.medianAbsoluteDeviation=b,r.medianSorted=function(r){return s(r,.5)},r.min=f,r.minSorted=function(r){return r[0]},r.mode=function(r){return o(u(r))},r.modeFast=function(r){for(var t,n=new Map,e=0,a=0;a<r.length;a++){var i=n.get(r[a]);void 0===i?i=1:i++,i>e&&(t=r[a],e=i),n.set(r[a],i)}if(0===e)throw new Error("mode requires at last one data point");return t},r.modeSorted=o,r.numericSort=u,r.perceptron=R,r.permutationTest=function(r,t,e,a,i){if(void 0===a&&(a=1e4),void 0===e&&(e="two_side"),"two_side"!==e&&"greater"!==e&&"less"!==e)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=n(r)-n(t),u=new Array(a),f=r.concat(t),l=Math.floor(f.length/2),h=0;h<a;h++){q(f,i);var s=f.slice(0,l),c=f.slice(l,f.length),v=n(s)-n(c);u[h]=v}var p=0;if("two_side"===e)for(var g=0;g<=a;g++)Math.abs(u[g])>=Math.abs(o)&&(p+=1);else if("greater"===e)for(var d=0;d<=a;d++)u[d]>=o&&(p+=1);else for(var m=0;m<=a;m++)u[m]<=o&&(p+=1);return p/a},r.permutationsHeap=function(r){for(var t=new Array(r.length),n=[r.slice()],e=0;e<r.length;e++)t[e]=0;for(var a=0;a<r.length;)if(t[a]<a){var i=0;a%2!=0&&(i=t[a]);var o=r[i];r[i]=r[a],r[a]=o,n.push(r.slice()),t[a]++,a=0}else t[a]=0,a++;return n},r.poissonDistribution=function(r){if(!(r<=0)){var t=0,n=0,e=[],a=1;do{e[t]=Math.exp(-r)*Math.pow(r,t)/a,n+=e[t],a*=++t}while(n<.9999);return e}},r.probit=function(r){return 0===r?r=D:r>=1&&(r=.9999),Math.sqrt(2)*J(2*r-1)},r.product=function(r){for(var t=1,n=0;n<r.length;n++)t*=r[n];return t},r.quantile=p,r.quantileRank=function(r,t){return w(u(r),t)},r.quantileRankSorted=w,r.quantileSorted=s,r.quickselect=c,r.rSquared=function(r,t){if(r.length<2)return 1;for(var n=0,e=0;e<r.length;e++)n+=r[e][1];for(var a=n/r.length,i=0,o=0;o<r.length;o++)i+=Math.pow(a-r[o][1],2);for(var u=0,f=0;f<r.length;f++)u+=Math.pow(r[f][1]-t(r[f][0]),2);return 1-u/i},r.relativeError=ur,r.rms=F,r.rootMeanSquare=F,r.sample=E,r.sampleCorrelation=O,r.sampleCovariance=T,r.sampleKurtosis=function(r){var t=r.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,a=n(r),i=0,o=0,u=0;u<t;u++)i+=(e=r[u]-a)*e,o+=e*e*e*e;return(t-1)/((t-2)*(t-3))*(t*(t+1)*o/(i*i)-3*(t-1))},r.sampleRankCorrelation=function(r,t){for(var n=r.map((function(r,t){return[r,t]})).sort((function(r,t){return r[0]-t[0]})).map((function(r){return r[1]})),e=t.map((function(r,t){return[r,t]})).sort((function(r,t){return r[0]-t[0]})).map((function(r){return r[1]})),a=Array(n.length),i=Array(n.length),o=0;o<n.length;o++)a[n[o]]=o,i[e[o]]=o;return O(a,i)},r.sampleSkewness=function(r){if(r.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,e=n(r),a=0,i=0,o=0;o<r.length;o++)a+=(t=r[o]-e)*t,i+=t*t*t;var u=r.length-1,f=Math.sqrt(a/u),l=r.length;return l*i/((l-1)*(l-2)*Math.pow(f,3))},r.sampleStandardDeviation=_,r.sampleVariance=I,r.sampleWithReplacement=function(r,t,n){if(0===r.length)return[];n=n||Math.random;for(var e=r.length,a=[],i=0;i<t;i++){var o=Math.floor(n()*e);a.push(r[o])}return a},r.shuffle=S,r.shuffleInPlace=q,r.sign=Q,r.silhouette=ar,r.silhouetteMetric=function(r,t){return l(ar(r,t))},r.standardDeviation=i,r.standardNormalTable=$,r.subtractFromMean=function(r,t,n){return(r*t-n)/(t-1)},r.sum=t,r.sumNthPowerDeviations=e,r.sumSimple=h,r.tTest=function(r,t){return(n(r)-t)/(i(r)/Math.sqrt(r.length))},r.tTestTwoSample=function(r,t,e){var a=r.length,i=t.length;if(!a||!i)return null;e||(e=0);var o=n(r),u=n(t),f=I(r),l=I(t);if("number"==typeof o&&"number"==typeof u&&"number"==typeof f&&"number"==typeof l){var h=((a-1)*f+(i-1)*l)/(a+i-2);return(o-u-e)/Math.sqrt(h*(1/a+1/i))}},r.uniqueCountSorted=x,r.variance=a,r.wilcoxonRankSum=function(r,t){if(!r.length||!t.length)throw new Error("Neither sample can be empty");for(var n=r.map((function(r){return{label:"x",value:r}})).concat(t.map((function(r){return{label:"y",value:r}}))).sort((function(r,t){return r.value-t.value})),e=0;e<n.length;e++)n[e].rank=e;for(var a=[n[0].rank],i=1;i<n.length;i++)n[i].value===n[i-1].value?(a.push(n[i].rank),i===n.length-1&&o(n,a)):a.length>1?o(n,a):a=[n[i].rank];function o(r,t){for(var n=(t[0]+t[t.length-1])/2,e=0;e<t.length;e++)r[t[e]].rank=n}for(var u=0,f=0;f<n.length;f++){var l=n[f];"x"===l.label&&(u+=l.rank+1)}return u},r.zScore=function(r,t,n){return(r-t)/n},Object.defineProperty(r,"__esModule",{value:!0})}(t)},function(r,t,n){"use strict";function e(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function a(r,t){if(r){if("string"===typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}function i(r,t){var n;if("undefined"===typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(n=a(r))||t&&r&&"number"===typeof r.length){n&&(r=n);var e=0,i=function(){};return{s:i,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,f=!1;return{s:function(){n=r[Symbol.iterator]()},n:function(){var r=n.next();return u=r.done,r},e:function(r){f=!0,o=r},f:function(){try{u||null==n.return||n.return()}finally{if(f)throw o}}}}function o(r){return function(r){if(Array.isArray(r))return e(r)}(r)||function(r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||a(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function f(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function l(r,t,n){return t&&f(r.prototype,t),n&&f(r,n),r}function h(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r)){var n=[],e=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(e=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);e=!0);}catch(f){a=!0,i=f}finally{try{e||null==u.return||u.return()}finally{if(a)throw i}}return n}}(r,t)||a(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t);var s=function(r){var t,n=0,e=i(r);try{for(e.s();!(t=e.n()).done;){var a=t.value;n+=a*Math.log2(a)}}catch(o){e.e(o)}finally{e.f()}return-n};var c=n(0);c.sum,c.max,c.mean,c.min;function v(r,t){for(var n=0,e=0;e<r.length;e++)for(var a=0;a<r[e].length;a++)n+=Math.abs(r[e][a]-t[e][a]);return n/2}function p(r,t){for(var n=0,e=0;e<r.length;e++)for(var a=0;a<r[e].length;a++)n+=Math.pow(r[e][a]-t[e][a],2);return n/2}var g=16;function d(r,t,n){for(var e=(n-t)/g,a=new Array(17).fill(0),i=0;i<r.length;i++){a[Math.floor((r[i]-t)/e)%17]++}return a[15]+=a[16],a.slice(0,g)}function m(r){for(var t=0,n=[],e=0;e<r.length;e++)t+=r[e];for(var a=0;a<r.length;a++)n.push(r[a]/t);return n}function w(r,t){for(var n=0,e=Math.min.apply(Math,o(t)),a=Math.max.apply(Math,o(t)),i=s(m(d(t,e,a).filter((function(r){return r>0})))),u=o(new Set(r)),f=[],l=function(n){var i=t.filter((function(t,e){return r[e]===u[n]})),o=d(i,e,a);f.push({freq:i.length,bins:o})},h=0;h<u.length;h++)l(h);f.sort((function(r,t){return t.freq-r.freq}));for(var c={freq:0,bins:new Array(g).fill(0)},v=0;v<f.length;v++){var p=f[v],w=p.bins,M=p.freq;if(v<15){var y=s(m(w.filter((function(r){return r>0}))));n+=M/t.length*y}else{c.freq+=M;for(var b=0;b<g;b++)c.bins[b]+=w[b]}}if(c.freq>0){var q=c.bins,S=c.freq,E=s(m(q.filter((function(r){return r>0}))));n+=S/t.length*E}return(i-n)/Math.log2(u.length)}function M(r){for(var t=-1/0,n=-1/0,e=1/0,a=1/0,i=0;i<r.length;i++)t=Math.max(r[i][0],t),n=Math.max(r[i][1],n),e=Math.min(r[i][0],e),a=Math.min(r[i][1],a);for(var o=(t-e)/g,u=(n-a)/g,f=new Array(17).fill(0).map((function(){return new Array(17).fill(0)})),l=0;l<r.length;l++){var h=Math.floor((r[l][0]-e)/o),s=Math.floor((r[l][1]-a)/u);f[h][s]++}for(var c=0;c<=g;c++)f[c][15]+=f[c][16],f[15][c]+=f[16][c];for(var v=new Array(g).fill(0).map((function(){return new Array(g).fill(0)})),p=0;p<g;p++)for(var d=0;d<g;d++)v[p][d]=f[p][d]/r.length;return v}function y(r,t,n){for(var e=p(M(t),M(n)),a=new Map,o=0;o<r.length;o++){var u,f;if(!a.has(r[o])){a.set(r[o],{X:[],Y:[]})}null===(u=a.get(r[o]))||void 0===u||u.X.push(t[o]),null===(f=a.get(r[o]))||void 0===f||f.Y.push(n[o])}var l,s=0,c=i(a.entries());try{for(c.s();!(l=c.n()).done;){var v=h(l.value,2),d=(v[0],v[1]),m=d.X.length/t.length;0!==m&&(d.X.length<Math.pow(g,2)?s+=m:s+=m*p(M(d.X),M(d.Y)))}}catch(w){c.e(w)}finally{c.f()}return e-s}function b(r,t){for(var n=new Array(9).fill(0).map((function(){return new Array(9).fill(0)})),e=(t[0][1]-t[0][0])/8,a=(t[1][1]-t[1][0])/8,i=0;i<r.length;i++){var o=Math.floor((r[i][0]-t[0][0])/e);n[Math.floor((r[i][1]-t[1][0])/a)][o]++}for(var u=0;u<9;u++)n[u][7]+=n[u][8];for(var f=0;f<8;f++)n[7][f]+=n[8][f];return n.slice(0,8).map((function(r){return r.slice(0,8)}))}function q(r,t){for(var n=0,e=function(r,t){for(var n=[],e=function(t){n.push([Math.min.apply(Math,o(r.map((function(r){return r[t]})))),Math.max.apply(Math,o(r.map((function(r){return r[t]}))))])},a=0;a<t;a++)e(a);return n}(t,2),a=s(m(b(t,e).flatMap((function(r){return r})).filter((function(r){return r>0})))),i=o(new Set(r)),u=[],f=function(n){var a=t.filter((function(t,e){return r[e]===i[n]})),o=b(a,e).flatMap((function(r){return r}));u.push({freq:a.length,bins:o})},l=0;l<i.length;l++)f(l);u.sort((function(r,t){return t.freq-r.freq}));for(var h={freq:0,bins:new Array(64).fill(0)},c=0;c<u.length;c++){var v=u[c],p=v.bins,g=v.freq;if(c<15){var d=s(m(p.filter((function(r){return r>0}))));n+=g/t.length*d}else{h.freq+=g;for(var w=0;w<64;w++)h.bins[w]+=p[w]}}if(h.freq>0){var M=h.bins,y=h.freq,q=s(m(M.filter((function(r){return r>0}))));n+=y/t.length*q}return(a-n)/Math.log2(i.length)}var S=function(){function r(t,n){u(this,r),this.BIN_SIZE=16,this.dataSource=[],this.fields=[],this.patterns=[],this.dataSource=t,this.fields=n}return l(r,[{key:"init",value:function(r,t){this.dataSource=r,this.fields=t,this.patterns=[]}},{key:"recommandFilter",value:function(r){var t=this,n=r.fields.filter((function(r){return"dimension"===r.analyticType})),e=r.fields.filter((function(r){return"measure"===r.analyticType})),a=o(n);"undefined"!==typeof r.filters&&(a=n.filter((function(t){return!r.filters.find((function(r){return r.field.fid===t.fid}))})));var u=[];return a.length>0&&function(){var n="",f=[],l=0;if(a.forEach((function(r){var a=t.dataSource.map((function(t){return t[r.fid]})),i=0;e.forEach((function(r){var n=t.dataSource.map((function(t){return t[r.fid]})),e=w(a,n);i+=e})),(i/=e.length)>l&&(l=i,n=r.fid,f=a)})),""!==n){var h,s=i(new Set(f).values());try{for(s.s();!(h=s.n()).done;){var c=h.value,v=[];r.filters&&v.push.apply(v,o(r.filters)),v.push({field:r.fields.find((function(r){return r.fid===n})),values:[c]}),u.push({imp:0,fields:r.fields.filter((function(r){return r.fid!==n})),filters:v})}}catch(p){s.e(p)}finally{s.f()}}}(),u}},{key:"searchPatterns",value:function(){for(var r=this,t=this.dataSource,n=this.fields.filter((function(r){return"measure"===r.analyticType})),e=function(e){var a=m(function(r){for(var t=Math.max.apply(Math,o(r)),n=Math.min.apply(Math,o(r)),e=(t-n)/g,a=new Array(17).fill(0),i=0;i<r.length;i++)a[Math.floor((r[i]-n)/e)%17]++;return a[15]+=a[16],a.slice(0,g)}(t.map((function(r){return r[n[e].fid]}))).filter((function(r){return r>0}))),i=s(a);r.patterns.push({fields:[n[e]],imp:i})},a=0;a<n.length;a++)e(a);return this.patterns.sort((function(r,t){return r.imp-t.imp})),this.patterns}},{key:"createHighOrderPatterns",value:function(r){for(var t=this.fields.filter((function(r){return"measure"===r.analyticType})),n=[],e=function(e){r.find((function(r){return r.fid===t[e].fid}))||n.push({fields:[].concat(o(r),[t[e]]),imp:0})},a=0;a<t.length;a++)e(a);return n}},{key:"firstPattern",value:function(){for(var r=this,t=this.fields.filter((function(r){return"measure"===r.analyticType})),n=new Array(t.length).fill(0).map((function(){return new Array(t.length).fill(0)})),e=function(e){for(var a=function(a){var i=r.dataSource.map((function(r){return r[t[e].fid]})),u=function(r,t,n){for(var e=(n-t)/g,a=[],i=0;i<r.length;i++){var o=Math.floor((r[i]-t)/e);o===g&&(o=15),a.push(o)}return a}(i,Math.min.apply(Math,o(i)),Math.max.apply(Math,o(i))),f=r.dataSource.map((function(r){return r[t[a].fid]}));n[e][a]=function(r,t){for(var n=0,e=Math.min.apply(Math,o(t)),a=Math.max.apply(Math,o(t)),i=s(m(d(t,e,a).filter((function(r){return r>0})))),u=function(i){var o=t.filter((function(t,n){return r[n]===i})),u=d(o,e,a).filter((function(r){return r>0})),f=s(m(u)),l=o.length/t.length;n+=l*f},f=0;f<g;f++)u(f);return(i-n)/Math.log2(g)}(u,f)},i=0;i<t.length;i++)a(i)},a=0;a<t.length;a++)e(a);return n}},{key:"secondPattern",value:function(){for(var r=this.dataSource,t=this.fields.filter((function(r){return"measure"===r.analyticType})),n=[],e=0;e<t.length;e++)for(var a=e+1;a<t.length;a++)n.push([t[e],t[a]]);for(var i=n.length,o=n.map((function(t){return M(r.map((function(r){return[r[t[0].fid],r[t[1].fid]]})))})),u=new Array(i).fill(0).map((function(){return new Array(i).fill(0)})),f=0;f<i;f++)for(var l=f+1;l<i;l++)u[f][l]=u[l][f]=v(o[f],o[l]);return u}},{key:"fewatureSelectionForSecondPatternWithSpecifiedViews",value:function(r,t){for(var n=this.dataSource,e=this.fields.filter((function(r){return"dimension"===r.analyticType})),a=n.map((function(t){return[t[r[0].fid],t[r[1].fid]]})),i=n.map((function(r){return[r[t[0].fid],r[t[1].fid]]})),o=0,u=-1,f=function(r){var t=y(n.map((function(t){return t[e[r].fid]})),a,i);t>o&&(o=t,u=r)},l=0;l<e.length;l++)f(l);return u>-1?(console.log(r.map((function(r){return r.fid})),t.map((function(r){return r.fid})),e[u].fid,o),{features:[e[u]],score:o}):null}},{key:"pureFeatureRecommand",value:function(r){var t=function(r,t){return t&&0!==t.length?r.filter((function(r){return t.every((function(t){return t.values.includes(r[t.field.fid])}))})):r}(this.dataSource,r.filters),n=this.fields.filter((function(r){return"dimension"===r.analyticType})),e=r.fields.filter((function(r){return"measure"===r.analyticType})),a=r.fields.filter((function(r){return"dimension"===r.analyticType})),u=n.filter((function(r){return-1===a.findIndex((function(t){return t.fid===r.fid}))})),f=[];return u.forEach((function(n){var a=t.map((function(r){return r[n.fid]})),u=0;if(1===e.length){var l=e[0],h=t.map((function(r){return r[l.fid]})),s=w(a,h);u+=s}else if(e.length>1){var c,v=function(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,e=[],a=function t(n,a,i){a.length!==i?n>=r.length||(t(n+1,[].concat(o(a),[r[n]]),i),t(n+1,a,i)):e.push(o(a))},i=t;i<=n;i++)a(0,[],i);return e}(e.map((function(r){return r.fid})),2,2),p=i(v);try{var g=function(){var r=c.value,n=t.map((function(t){return[t[r[0]],t[r[1]]]})),e=q(a,n);u+=e};for(p.s();!(c=p.n()).done;)g()}catch(d){p.e(d)}finally{p.f()}u/=v.length}f.push({imp:u,fields:[].concat(o(r.fields),[n]),filters:r.filters})})),f.sort((function(r,t){return t.imp-r.imp})),f}},{key:"featureSelectForSecondPattern",value:function(){for(var r=this.dataSource,t=this.fields.filter((function(r){return"dimension"===r.analyticType})),n=this.fields.filter((function(r){return"measure"===r.analyticType})),e=[],a=0;a<n.length;a++)for(var i=a+1;i<n.length;i++)e.push([n[a],n[i]]);for(var o=e.length,u=function(n){for(var a=function(a){for(var i=r.map((function(r){return[r[e[n][0].fid],r[e[n][1].fid]]})),o=r.map((function(r){return[r[e[a][0].fid],r[e[a][1].fid]]})),u=0,f=-1,l=function(n){var e=y(r.map((function(r){return r[t[n].fid]})),i,o);e>u&&(u=e,f=n)},h=0;h<t.length;h++)l(h);f>-1&&console.log(e[n].map((function(r){return r.fid})),e[a].map((function(r){return r.fid})),t[f].fid,u)},i=n+1;i<o;i++)a(i)},f=0;f<o;f++)u(f)}}]),r}();function E(r){var t=r.task,n=r.props,e=r.dataSource,a=r.fields;try{if("univar"===t)return function(r,t,n){return new S(r,t).searchPatterns()}(e,a);if("patterns"===t)return function(r,t,n){var e=new S(r,t);return e.firstPattern(),e.createHighOrderPatterns(n.fields)}(e,a,n);if("featureSelection"===t)return function(r,t,n){return new S(r,t).pureFeatureRecommand(n)}(e,a,n);if("comparison"===t)return function(r,t,n){return new S(r,t).fewatureSelectionForSecondPatternWithSpecifiedViews(n[0].fields.slice(0,2),n[1].fields.slice(0,2))}(e,a,n);if("filterSelection"===t)return function(r,t,n){return new S(r,t).recommandFilter(n)}(e,a,n)}catch(i){throw new Error("[footman][".concat(t,"]").concat(i,"\n").concat(i.stack))}}self.addEventListener("message",(function(r){try{const t=E(r.data);self.postMessage({success:!0,data:t})}catch(t){self.postMessage({success:!1,message:`[worker]${t}`})}}),!1)}]);