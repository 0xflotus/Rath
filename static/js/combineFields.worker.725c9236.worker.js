!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r(r.s=70)}([function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(16);function a(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Object(n.a)(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}},function(t,e,r){t.exports=r(51)},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"j",(function(){return u})),r.d(e,"g",(function(){return f})),r.d(e,"d",(function(){return l})),r.d(e,"h",(function(){return h})),r.d(e,"b",(function(){return d})),r.d(e,"e",(function(){return p})),r.d(e,"i",(function(){return g})),r.d(e,"f",(function(){return S})),r.d(e,"k",(function(){return M})),r.d(e,"c",(function(){return E})),r.d(e,"l",(function(){return x}));var n=r(10),a=r(0);function i(t,e,r){if("undefined"===typeof t||"undefined"===typeof e||"undefined"===typeof r)return 0;var i,o=new Map,u=new Map,s=0,c=Object(a.a)(e);try{for(c.s();!(i=c.n()).done;){var f=i.value;o.set(f,0)}}catch(z){c.e(z)}finally{c.f()}var l,h=Object(a.a)(r);try{for(h.s();!(l=h.n()).done;){var d=l.value;u.set(d,0)}}catch(z){h.e(z)}finally{h.f()}var p,v=Object(a.a)(t);try{for(v.s();!(p=v.n()).done;){var m,g=Object(n.a)(p.value,2),y=g[0],b=g[1],w=Object(a.a)(b);try{for(w.s();!(m=w.n()).done;){var O=Object(n.a)(m.value,2),j=O[0],S=O[1];o.set(y,o.get(y)+S),u.set(j,u.get(j)+S),s+=S}}catch(z){w.e(z)}finally{w.f()}}}catch(z){v.e(z)}finally{v.f()}var M,E=0,x=Object(a.a)(t);try{for(x.s();!(M=x.n()).done;){var k,T=Object(n.a)(M.value,2),D=T[0],_=T[1],N=Object(a.a)(_);try{for(N.s();!(k=N.n()).done;){var C=Object(n.a)(k.value,2),q=C[0],P=C[1],I=o.get(D)*u.get(q)/s;E+=Math.pow(P-I,2)/I}}catch(z){N.e(z)}finally{N.f()}}}catch(z){x.e(z)}finally{x.f()}return E}var o=function(t,e,r){for(var n=new Set,a=new Set,o=new Map,u=t.length,s=0;s<u;s++){var c=t[s];n.add(c[e]),a.add(c[r]),o.has(c[e])||o.set(c[e],new Map);var f=o.get(c[e]);f.has(c[r])||f.set(c[r],0),f.set(c[r],f.get(c[r])+1)}var l=i(o,n,a);return Math.sqrt(l/(t.length*Math.min(n.size-1,a.size-1)))};var u=function(t,e,r){var n=s(t.map((function(t){return t[e]})))/t.length,a=s(t.map((function(t){return t[r]})))/t.length;return s(t.map((function(t){return(t[e]-n)*(t[r]-a)})))/Math.sqrt(s(t.map((function(t){return Math.pow(t[e]-n,2)})))*s(t.map((function(t){return Math.pow(t[r]-a,2)}))))};function s(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r];return e}var c=r(4);function f(t){return t.map((function(t){return Math.abs(t)})).filter((function(t){return 0!==t}))}function l(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=[],a=function e(r,a,i){a.length!==i?r>=t.length||(e(r+1,[].concat(Object(c.a)(a),[t[r]]),i),e(r+1,a,i)):n.push(Object(c.a)(a))},i=e;i<=r;i++)a(0,[],i);return n}function h(t){var e,r=0,n=Object(a.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;r+=i}}catch(o){n.e(o)}finally{n.f()}return t.map((function(t){return t/r}))}var d=function(t){var e,r=0,n=Object(a.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;r+=i*Math.log2(i)}}catch(o){n.e(o)}finally{n.f()}return-r};function p(t,e){var r,n=-1/0,i=1/0,o=Object(a.a)(t);try{for(o.s();!(r=o.n()).done;){var u=r.value;n=Math.max(u[e],n),i=Math.min(u[e],i)}}catch(s){o.e(s)}finally{o.f()}return[i,n]}var v=r(7),m=r(8),g=function(){function t(e,r,n){Object(v.a)(this,t),this.dataSource=e,this.X=r,this.Y=n,this.normalizedDataSource=e}return Object(m.a)(t,[{key:"normalizeDimensions",value:function(t){var e=this;return this.normalizedDataSource=[],this.valueSets=[],t.forEach((function(){e.valueSets.push(new Map)})),this.dataSource.forEach((function(r){t.forEach((function(t,n){var a=(r[t]||"others").toString();e.valueSets[n].has(a)||e.valueSets[n].set(a,e.valueSets[n].size)}))})),this.dataSource.forEach((function(r){var n=e.normalizeRecord(r,t);e.normalizedDataSource.push(n)})),this.normalizedDataSource}},{key:"normalizeRecord",value:function(t,e){var r=this,n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),e.forEach((function(e,a){var i=(t[e]||"others").toString();n[e]=r.valueSets[a].get(i)})),n}},{key:"mean",value:function(){var t=this,e=0,r=0;return 0===this.normalizedDataSource.length||(this.normalizedDataSource.forEach((function(n,a){e+=n[t.X],r+=n[t.Y]})),e/=this.normalizedDataSource.length,r/=this.normalizedDataSource.length),[e,r]}},{key:"getRegressionEquation",value:function(){var t=this;if(0===this.normalizedDataSource.length)return[0,0];var e,r=this.mean(),a=Object(n.a)(r,2),i=a[0],o=a[1],u=0,s=0;return this.normalizedDataSource.forEach((function(e){u+=(e[t.X]-i)*(e[t.Y]-o),s+=Math.pow(e[t.X]-i,2)})),[o-i*(e=u/s),e]}},{key:"r_squared",value:function(){var t=this,e=this.mean(),r=Object(n.a)(e,2)[1],a=this.getRegressionEquation(),i=Object(n.a)(a,2),o=i[0],u=i[1],s=0,c=0;return this.normalizedDataSource.forEach((function(e){var n=e[t.X],a=e[t.Y],i=n*u+o;s+=Math.pow(i-r,2),c+=Math.pow(a-r,2)})),s/c}},{key:"cumulativeLogisticDistribution",value:function(t){return 1/(1+Math.pow(Math.E,-(t-.2)/2))}},{key:"pValue",value:function(){var t=this.getRegressionEquation(),e=Object(n.a)(t,2)[1],r=this.cumulativeLogisticDistribution(Math.abs(e));return r>.5?2*(1-r):2*r}},{key:"significance",value:function(){return this.r_squared()*(1-this.pValue())}}]),t}(),y=r(20),b=r(19),w="_join_",O={sum:y.sum,max:y.max,mean:y.mean,min:y.min,count:function(t){return t.length}};function j(t){return O[t]||y.sum}function S(t,e){var r,n=new Map,i=Object(a.a)(t);try{var o=function(){var t=r.value,a=e.map((function(e){return t[e]})).join(w);n.has(a)||n.set(a,[]),n.get(a).push(t)};for(i.s();!(r=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}return n}function M(t){var e,r=t.dataSource,i=t.dimensions,o=t.measures,u=t.ops,s=S(r,i),c=[],f=Object(a.a)(s);try{var l=function(){var t=Object(n.a)(e.value,2),r=t[0],a=t[1],s={};o.forEach((function(t,e){s[t]={},u.forEach((function(e){var r=j(e);s[t][e]=r(a.map((function(e){return e[t]})))}))}));var f=r.split(w);i.forEach((function(t,e){s[t]=f[e]})),c.push(s)};for(f.s();!(e=f.n()).done;)l()}catch(h){f.e(h)}finally{f.f()}return c}function E(t){return t.join(w)}function x(t){var e,r=t.dataSource,i=t.dimensions,o=t.measures,u=t.ops,s=S(r,i),c=[],f=u.filter((function(t){return!["sum","count","mean","dist"].includes(t)})),l=f.map((function(t){return j(t)})),h=Object(a.a)(s);try{var d=function(){for(var t=Object(n.a)(e.value,2),r=t[0],a=t[1],u={},s=function(t){var e=o[t];u[e]={},l.forEach((function(t,r){var n=f[r];u[e][n]=t(a.map((function(t){return t[e][n]})))})),u[e].sum=Object(b.c)(a,e,"sum"),u[e].count=Object(b.c)(a,e,"count"),u[e].mean=u[e].sum/u[e].count,u[e].dist=Object(b.b)(a,e,"dist")},h=0;h<o.length;h++)s(h);for(var d=r.split(w),p=0;p<i.length;p++)u[i[p]]=d[p];c.push(u)};for(h.s();!(e=h.n()).done;)d()}catch(p){h.e(p)}finally{h.f()}return c}},function(t,e,r){"use strict";function n(t,e,r,n,a,i,o){try{var u=t[i](o),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(n,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,i){var o=t.apply(e,r);function u(t){n(o,a,i,u,s,"next",t)}function s(t){n(o,a,i,u,s,"throw",t)}u(void 0)}))}}r.d(e,"a",(function(){return a}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(22);var a=r(16);function i(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"g",(function(){return c}));var n={maxDimensionNumber:8,maxMeasureNumber:6},a=.5772156649,i=.95,o=40,u=8,s=2*u,c="0.7.5"},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(21);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",(function(){return a}))},function(t,e,r){"use strict";r.d(e,"b",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"h",(function(){return d})),r.d(e,"c",(function(){return v})),r.d(e,"d",(function(){return p})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return f})),r.d(e,"g",(function(){return h}));var n=r(21),a=(r(10),r(4)),i=r(0),o=r(6);function u(t){return JSON.parse(JSON.stringify(t))}function s(t){return t.map((function(t){return Object(o.a)({},t)}))}function c(t,e){return t.every((function(t){return"string"===typeof t[e]||"undefined"===typeof t[e]||null===t[e]}))}function f(t,e){return t.every((function(t){return"number"===typeof t[e]||"undefined"===typeof t[e]||null===t[e]}))}var l=[/^[0-9]{2,4}[-/][0-9]{1,2}([-/][0-9]{1,2})?$/,/^[0-9]{1,2}[-/][0-9]{1,2}[-/][0-9]{2,4}$/,/^[0-9]{4}[0-9]{2}[0-9]{2}$/,/^[0-9]{2,4}[-/][0-9]{1,2}[-/][0-9]{1,2} [0-9]{1,2}:[0-9]{1-2}:[0-9]{1-2}$/];function h(t,e){return t.every((function(t){return!isNaN(Number(t[e]))&&Number(t[e])>=1800&&Number(t[e])<=2200||("string"===typeof t[e]&&l.some((function(r){return r.test(t[e])}))||"undefined"===typeof t[e]||null===t[e])}))}function d(t,e){var r,n=new Map,o=Object(i.a)(t);try{for(o.s();!(r=o.n()).done;){var u=r.value[e];n.has(u)||n.set(u,0),n.set(u,n.get(u)+1)}}catch(s){o.e(s)}finally{o.f()}return Object(a.a)(n.entries())}function p(t){for(var e=t.dataSource,r=t.field,n=t.newField,i=void 0===n?"".concat(r,"(con-group)"):n,o=t.groupNumber,u=e.map((function(t){return t[r]})),s=Math.max.apply(Math,Object(a.a)(u)),c=Math.min.apply(Math,Object(a.a)(u)),f=(s-c)/o,l=[],h=0;h<o;h++){var d=c+h*f,p=c+(h+1)*f;l.push([d,p])}l[0][0]=-1/0,l[l.length-1][1]=1/0;for(var v=Math.max(1,Math.log10(Math.abs(c))-Math.log10(f))+1,m=function(t){var n=e[t],a=l.findIndex((function(t){return t[0]<=n[r]&&n[r]<t[1]})),o=l[a];n[i]="undefined"!==typeof o?"".concat(a+1,":[").concat(Number(o[0].toPrecision(v)),", ").concat(Number(o[1].toPrecision(v)),")"):"null"},g=0;g<e.length;g++)m(g);return e}function v(t){var e=t.dataSource,r=t.field,a=t.newField,u=void 0===a?"".concat(r,"(cat-group)"):a,s=t.groupNumber,c=d(e,r);c.sort((function(t,e){return e[1]-t[1]}));var f=c.map((function(t){return t[1]}));s=c.length;for(var l=f.length-2;l>=0;l--)f[l]=f[l+1]+f[l];for(var h=0;h<c.length-2;h++)if(5*c[h][1]>=f[h+1]&&c[h+1][1]/5<f[h+2]){s=h+2;break}if(s===c.length)return e.map((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(n.a)({},u,t[r]))}));for(var p=new Set,v=s-1;v<c.length;v++)p.add(c[v][0]);var m,g=Object(i.a)(e);try{for(g.s();!(m=g.n()).done;){var y=m.value;p.has(y[r])?y[u]="others":y[u]=y[r]}}catch(b){g.e(b)}finally{g.f()}return e}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(16);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return y}));var n={};r.r(n),r.d(n,"kruskal",(function(){return h})),r.d(n,"kruskalWithFullMST",(function(){return l}));var a=r(4),i=r(0);function o(t){for(var e=[],r=0;r<t.length;r++)for(var n=r+1;n<t[r].length;n++)e.push([[r,n],Math.abs(t[r][n])]);return e}function u(t,e){return t[e]===e?e:t[e]=u(t,t[e])}function s(t,e,r){var n=u(t,e),a=u(t,r);t[n]=a,u(t,e),u(t,r)}function c(t,e,r){return t[r]===r?r:(t[r]=c(t,e,t[r]),e[r]=e[t[r]],t[r])}function f(t,e,r,n){var a=c(t,e,r),i=c(t,e,n),o=e[a],u=e[i];t[a]=i,e[a]=e[i]=o+u,c(t,e,r),c(t,e,n)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=o(t);n.sort((function(t,e){return e[1]-t[1]}));var c,f=[],l=t.map((function(t,e){return e})),h=Object(a.a)(l),d=!1,p=Object(i.a)(n);try{for(p.s();!(c=p.n()).done;){var v=c.value;u(l,v[0][0])!==u(l,v[0][1])&&(s(l,v[0][0],v[0][1]),f.push([v[0],v[1],d]));for(var m=0;m<l.length;m++)l[m]=u(l,m);var g=new Set(l);if(g.size<=e||v[1]<r?d=!0:h=Object(a.a)(l),1===g.size)break}}catch(y){p.e(y)}finally{p.f()}return{edgesInMST:f,groups:h}}var h=function(t){var e,r=t.matrix,n=t.measures,a=(t.method,t.groupMaxSize),l=void 0===a?4:a,h=t.limitSize,d=void 0!==h&&h,p=t.threshold,v=void 0===p?0:p;e=d?function(t,e){var r=o(t);r.sort((function(t,e){return e[1]-t[1]}));var n,a=t.map((function(t,e){return e})),u=t.map((function(){return 1})),s=Object(i.a)(r);try{for(s.s();!(n=s.n()).done;){var l=n.value;if(c(a,u,l[0][0])!==c(a,u,l[0][1])){if(u[l[0][0]]+u[l[0][1]]>e)continue;f(a,u,l[0][0],l[0][1])}for(var h=0;h<a.length;h++)a[h]=c(a,u,h);if(1===new Set(a).size)break}}catch(v){s.e(v)}finally{s.f()}for(var d=new Map,p=0;p<a.length;p++)d.has(a[p])||d.set(a[p],[]),d.get(a[p]).push(p);return d}(r,l):function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=o(t);n.sort((function(t,e){return e[1]-t[1]}));var a,c=t.map((function(t,e){return e})),f=Object(i.a)(n);try{for(f.s();!(a=f.n()).done;){var l=a.value;u(c,l[0][0])!==u(c,l[0][1])&&s(c,l[0][0],l[0][1]);for(var h=0;h<c.length;h++)c[h]=u(c,h);if(new Set(c).size<=e||l[1]<r)break}}catch(v){f.e(v)}finally{f.f()}for(var d=new Map,p=0;p<c.length;p++)d.has(c[p])||d.set(c[p],[]),d.get(c[p]).push(p);return d}(r,l,v);var m,g=[],y=Object(i.a)(e.values());try{for(y.s();!(m=y.n()).done;){var b=m.value;g.push(b.map((function(t){return n[t]})))}}catch(w){y.e(w)}finally{y.f()}return g},d=r(26),p=r(7),v=r(8),m=r(25),g=r(5),y={IsolationForest:function(){function t(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:256;Object(p.a)(this,t),this.dimensions=e,this.measures=r,this.dataSource=n,n.length<i?(this.treeNumber=Math.max(1,Math.ceil(i/50)),this.sampleSize=Math.max(2,Math.floor(n.length/2))):(this.treeNumber=a,this.sampleSize=i),this.limitHeight=Math.ceil(Math.log2(this.sampleSize)),this.iForest=[],this.normalizeDimensions()}return Object(v.a)(t,[{key:"normalizeDimensions",value:function(){var t=this;return this.normalizedDataSource=[],this.valueSets=[],this.ranges=[],this.dimensions.forEach((function(){t.valueSets.push(new Map)})),this.measures.forEach((function(){t.ranges.push([1/0,-1/0])})),this.dataSource.forEach((function(e){t.dimensions.forEach((function(r,n){var a=(e[r]||"others").toString();t.valueSets[n].has(a)||t.valueSets[n].set(a,t.valueSets[n].size)})),t.measures.forEach((function(r,n){var a=e[r];"number"===typeof a&&(t.ranges[n][0]=Math.min(t.ranges[n][0],a),t.ranges[n][1]=Math.max(t.ranges[n][1],a))}))})),this.dataSource.forEach((function(e){var r=t.normalizeRecord(e);t.normalizedDataSource.push(r)})),this.normalizedDataSource}},{key:"normalizeRecord",value:function(t){var e=this,r={};return this.measures.forEach((function(e){r[e]=t[e]})),this.dimensions.forEach((function(n,a){var i=(t[n]||"others").toString();r[n]=e.valueSets[a].get(i)})),r}},{key:"buildIsolationTree",value:function(t,e){if(e>=this.limitHeight||t.length<=1)return null;var r=Math.random(),n=this.measures[0]||this.dimensions[0],a=this.dimensions.length,o=this.measures.length,u=0;if(r>=a/(a+o)){var s=Math.floor(Math.random()*o)%o;n=this.measures[s],u=this.ranges[s][0]+(this.ranges[s][1]-this.ranges[s][0])*Math.random()}else{var c=Math.floor(Math.random()*a)%a;n=this.dimensions[c],u=Math.floor(this.valueSets[c].size*Math.random())%this.valueSets[c].size}var f,l=[],h=[],d=Object(i.a)(t);try{for(d.s();!(f=d.n()).done;){var p=f.value;p[n]<u?l.push(p):h.push(p)}}catch(m){d.e(m)}finally{d.f()}var v={field:n,value:u,size:t.length};return v.left=this.buildIsolationTree(l,e+1),v.right=this.buildIsolationTree(h,e+1),v}},{key:"AFS",value:function(t){return t>2?2*(Math.log(t-1)+g.e)-2*(t-1)/t:2===t?1:0}},{key:"getPathLength",value:function(t,e,r,n){return null===e?r+this.AFS(n):t[e.field]<e.value?this.getPathLength(t,e.left,r+1,e.size):this.getPathLength(t,e.right,r+1,e.size)}},{key:"buildIsolationForest",value:function(){this.iForest=[];for(var t=0;t<this.treeNumber;t++){var e=Object(m.a)(this.normalizedDataSource,this.sampleSize),r=this.buildIsolationTree(e,0);this.iForest.push(r)}return this.iForest}},{key:"estimateOutierScore",value:function(){var t=this;return this.recordScoreList=[],this.normalizedDataSource.forEach((function(e){var r,n=0;t.iForest.forEach((function(r){n+=t.getPathLength(e,r,0,t.sampleSize)})),n/=t.iForest.length,r=Math.pow(2,-n/t.AFS(t.sampleSize)),t.recordScoreList.push(r)})),this.recordScoreList}}]),t}()};d.a},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return a}));var n=.3,a={strong:.5,weak:.3}},function(t,e,r){"use strict";var n=r(34),a=Object.prototype.toString;function i(t){return"[object Array]"===a.call(t)}function o(t){return"undefined"===typeof t}function u(t){return null!==t&&"object"===typeof t}function s(t){if("[object Object]"!==a.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===a.call(t)}function f(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),i(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:u,isPlainObject:s,isUndefined:o,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return u(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function t(){var e={};function r(r,n){s(e[n])&&s(r)?e[n]=t(e[n],r):s(r)?e[n]=t({},r):i(r)?e[n]=r.slice():e[n]=r}for(var n=0,a=arguments.length;n<a;n++)f(arguments[n],r);return e},extend:function(t,e,r){return f(e,(function(e,a){t[a]=r&&"function"===typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return u}));var n=r(6),a={interval:[0,10],line:[11,1/0],area:[11,1/0],point:[0,1e3],path:[0,100],density:[1001,1/0]};function i(t,e){for(var r=e.length-1;r>=0;r--)if(e[r].semanticType===t&&!e[r].choosen)return e[r];return!1}function o(t){for(var e={},r={position:2,color:1,size:1,shape:1,opacity:1,facets:2,page:1,filter:1,highFacets:1e3},a=t.map((function(t){return Object(n.a)(Object(n.a)({},t),{},{choosen:!1})})),o=[["quantitative",["position","size","color","highFacets","opacity","filter"]],["temporal",["position","size","opacity","filter"]],["ordinal",["position","color","opacity","facets","size","filter","highFacets"]],["nominal",["position","color","facets","shape","filter","hightFacets"]]],u=a.length,s=0;s<o.length&&u>0;s++)for(var c=o[s][0],f=o[s][1],l=0;l<f.length&&u>0;l++)for(var h=f[l],d=void 0;r[h]>0&&(d=i(c,a));)"undefined"===typeof e[h]&&(e[h]=[]),e[h].push(d.key),r[h]--,u--,d.choosen=!0;return e}function u(t,e){var r=o(t.sort((function(t,e){return t.impurity-e.impurity}))),n=new Set(t.filter((function(t){return"dimension"===t.analyticType})).map((function(t){return t.key}))),i=new Set(t.filter((function(t){return"measure"===t.analyticType})).map((function(t){return t.key})));if(r.position&&2===r.position.length)if(n.has(r.position[0])&&i.has(r.position[1])||n.has(r.position[1])&&i.has(r.position[0])){var u=n.has(r.position[0])?0:1,s=r.position[u],c=r.position[(u+1)%2];r.position=[s,c];var f=t.find((function(t){return t.key===s})),l=f?f.features.unique:0;r.geomType=["interval","line","area"].filter((function(t){return l>=a[t][0]&&l<=a[t][1]})),"nominal"===f.semanticType&&(r.geomType=["interval"])}else r.geomType=["point","density"].filter((function(t){return e.length>=a[t][0]&&e.length<=a[t][1]}));return{schema:r,dataView:e}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(9);function a(t,e){return Object(n.h)(t,e).every((function(t){return 1===t[1]}))}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(22);function a(t,e){if(t){if("string"===typeof t)return Object(n.a)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(t,e):void 0}}},function(t,e,r){"use strict";this&&this.__assign;Object.defineProperty(e,"__esModule",{value:!0});var n=r(47),a=r(50),i=r(31),o={sum:i.sum_unsafe,mean:i.mean,count:i.count};function u(t){var e=t.type,r=t.aggFunc,a=void 0===r?i.count:r,o=t.factTable,u=void 0===o?[]:o,s=t.dimensions,c=void 0===s?[]:s,f=t.measures,l=void 0===f?[]:f;switch(e){case"period":return new n.periodCube({aggFunc:a,factTable:u,dimensions:c,measures:l});case"moment":default:return new n.momentCube({aggFunc:a,factTable:u,dimensions:c,measures:l})}}e.createCube=u,e.default=function(t){var e=t.dimensions,r=t.measures,n=t.asFields,s=t.operator,c=t.dataSource,f=u({type:"moment",aggFunc:o[s]||i.count,dimensions:e,measures:r,factTable:c}),l=a.tree2Table({dimensions:e,measures:r,cube:f});return l.forEach((function(t){n.forEach((function(e,n){t[e]=t[r[n]]}))})),l},function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(31))},function(t,e,r){"use strict";r.d(e,"b",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return c}));r(0);var n=r(9),a=r(2),i=(r(15),r(5)),o=i.a;function u(t,e){return Object(n.g)(t,e)?"temporal":Object(n.f)(t,e)?Object(n.h)(t,e).length>o?"quantitative":"ordinal":(Object(n.e)(t,e),"nominal")}function s(t,e){var r=Object(n.h)(t,e),i=r.map((function(t){return t[1]})),o=Object(a.h)(i);return{fieldName:e,entropy:Object(a.b)(o),maxEntropy:Math.log2(r.length)}}function c(t,e){for(var r=-1/0,n=1/0,o=0;o<t.length;o++)r=Math.max(r,t[o][e]),n=Math.min(n,t[o][e]);for(var u=(r-n)/i.a,s=new Array(i.a+1).fill(0),c=0;c<t.length;c++){var f=t[c][e];s[Math.floor((f-n)/u)]++}s[i.a-1]+=s[i.a];var l=Object(a.h)(s.slice(0,i.a));return{fieldName:e,entropy:Object(a.b)(l),maxEntropy:Math.log2(i.a)}}},function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return u}));var n=r(0),a=r(5);function i(t,e,r){for(var n=0,a=0;a<t.length;a++)n+=t[a][e][r];return n}var o=function(t,e){var r,i=function(t){return t[0]===t[1]?[t[0],t[1]+.1]:t}(e),o=(i[1]-i[0])/a.c,u=new Array(a.c+1).fill(0),s=Object(n.a)(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;u[Math.floor((c-i[0])/o)]++}}catch(f){s.e(f)}finally{s.f()}return u[a.c-1]+=u[a.c],u.slice(0,-1)};function u(t,e,r){for(var n=new Array(a.c).fill(0),i=0;i<t.length;i++)for(var o=t[i][e][r],u=0;u<n.length;u++)n[u]+=o[u];return n}},function(t,e,r){!function(t){"use strict";function e(t){if(0===t.length)return 0;for(var e,r=t[0],n=0,a=1;a<t.length;a++)e=r+t[a],Math.abs(r)>=Math.abs(t[a])?n+=r-e+t[a]:n+=t[a]-e+r,r=e;return r+n}function r(t){if(0===t.length)throw new Error("mean requires at least one data point");return e(t)/t.length}function n(t,e){var n,a,i=r(t),o=0;if(2===e)for(a=0;a<t.length;a++)o+=(n=t[a]-i)*n;else for(a=0;a<t.length;a++)o+=Math.pow(t[a]-i,e);return o}function a(t){if(0===t.length)throw new Error("variance requires at least one data point");return n(t,2)/t.length}function i(t){if(1===t.length)return 0;var e=a(t);return Math.sqrt(e)}function o(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var e=t[0],r=NaN,n=0,a=1,i=1;i<t.length+1;i++)t[i]!==e?(a>n&&(n=a,r=e),a=1,e=t[i]):a++;return r}function u(t){return t.slice().sort((function(t,e){return t-e}))}function s(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e}function c(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e}function f(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e}function l(t,e){var r=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:r%1!=0?t[Math.ceil(r)-1]:t.length%2==0?(t[r-1]+t[r])/2:t[r]}function h(t,e,r,n){for(r=r||0,n=n||t.length-1;n>r;){if(n-r>600){var a=n-r+1,i=e-r+1,o=Math.log(a),u=.5*Math.exp(2*o/3),s=.5*Math.sqrt(o*u*(a-u)/a);i-a/2<0&&(s*=-1),h(t,e,Math.max(r,Math.floor(e-i*u/a+s)),Math.min(n,Math.floor(e+(a-i)*u/a+s)))}var c=t[e],f=r,l=n;for(d(t,r,e),t[n]>c&&d(t,r,n);f<l;){for(d(t,f,l),f++,l--;t[f]<c;)f++;for(;t[l]>c;)l--}t[r]===c?d(t,r,l):d(t,++l,n),l<=e&&(r=l+1),e<=l&&(n=l-1)}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p(t,e){var r=t.slice();if(Array.isArray(e)){!function(t,e){for(var r=[0],n=0;n<e.length;n++)r.push(g(t.length,e[n]));r.push(t.length-1),r.sort(m);for(var a=[0,r.length-1];a.length;){var i=Math.ceil(a.pop()),o=Math.floor(a.pop());if(!(i-o<=1)){var u=Math.floor((o+i)/2);v(t,r[u],Math.floor(r[o]),Math.ceil(r[i])),a.push(o,u,u,i)}}}(r,e);for(var n=[],a=0;a<e.length;a++)n[a]=l(r,e[a]);return n}return v(r,g(r.length,e),0,r.length-1),l(r,e)}function v(t,e,r,n){e%1==0?h(t,e,r,n):(h(t,e=Math.floor(e),r,n),h(t,e+1,e+1,n))}function m(t,e){return t-e}function g(t,e){var r=t*e;return 1===e?t-1:0===e?0:r%1!=0?Math.ceil(r)-1:t%2==0?r-.5:r}function y(t,e){if(e<t[0])return 0;if(e>t[t.length-1])return 1;var r=function(t,e){for(var r=0,n=0,a=t.length;n<a;)e<=t[r=n+a>>>1]?a=r:n=-~r;return n}(t,e);if(t[r]!==e)return r/t.length;r++;var n=function(t,e){for(var r=0,n=0,a=t.length;n<a;)e>=t[r=n+a>>>1]?n=-~r:a=r;return n}(t,e);if(n===r)return r/t.length;var a=n-r+1;return a*(n+r)/2/a/t.length}function b(t){var e=p(t,.75),r=p(t,.25);if("number"==typeof e&&"number"==typeof r)return e-r}function w(t){return+p(t,.5)}function O(t){for(var e=w(t),r=[],n=0;n<t.length;n++)r.push(Math.abs(t[n]-e));return w(r)}function j(t,e){e=e||Math.random;for(var r,n,a=t.length;a>0;)n=Math.floor(e()*a--),r=t[a],t[a]=t[n],t[n]=r;return t}function S(t,e){return j(t.slice(),e)}function M(t,e,r){return S(t,r).slice(0,e)}function E(t,e){for(var r=[],n=0;n<t;n++){for(var a=[],i=0;i<e;i++)a.push(0);r.push(a)}return r}function x(t){for(var e,r=0,n=0;n<t.length;n++)0!==n&&t[n]===e||(e=t[n],r++);return r}function k(t,e,r,n){var a;if(t>0){var i=(r[e]-r[t-1])/(e-t+1);a=n[e]-n[t-1]-(e-t+1)*i*i}else a=n[e]-r[e]*r[e]/(e+1);return a<0?0:a}function T(t,e,r,n,a,i,o){if(!(t>e)){var u=Math.floor((t+e)/2);n[r][u]=n[r-1][u-1],a[r][u]=u;var s=r;t>r&&(s=Math.max(s,a[r][t-1]||0)),s=Math.max(s,a[r-1][u]||0);var c,f,l,h=u-1;e<n[0].length-1&&(h=Math.min(h,a[r][e+1]||0));for(var d=h;d>=s&&!((c=k(d,u,i,o))+n[r-1][s-1]>=n[r][u]);--d)(f=k(s,u,i,o)+n[r-1][s-1])<n[r][u]&&(n[r][u]=f,a[r][u]=s),s++,(l=c+n[r-1][d-1])<n[r][u]&&(n[r][u]=l,a[r][u]=d);T(t,u-1,r,n,a,i,o),T(u+1,e,r,n,a,i,o)}}function D(t,e){if(t.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var n=r(t),a=r(e),i=0,o=0;o<t.length;o++)i+=(t[o]-n)*(e[o]-a);return i/(t.length-1)}function _(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return n(t,2)/(t.length-1)}function N(t){var e=_(t);return Math.sqrt(e)}function C(t,e){return D(t,e)/N(t)/N(e)}function q(t,e,r,n){return(t*e+r*n)/(e+n)}function P(t){if(0===t.length)throw new Error("meanSimple requires at least one data point");return f(t)/t.length}function I(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var e=0,r=0;r<t.length;r++)e+=Math.pow(t[r],2);return Math.sqrt(e/t.length)}var z=function(){this.totalCount=0,this.data={}};z.prototype.train=function(t,e){for(var r in this.data[e]||(this.data[e]={}),t){var n=t[r];void 0===this.data[e][r]&&(this.data[e][r]={}),void 0===this.data[e][r][n]&&(this.data[e][r][n]=0),this.data[e][r][n]++}this.totalCount++},z.prototype.score=function(t){var e,r={};for(var n in t){var a=t[n];for(e in this.data)r[e]={},this.data[e][n]?r[e][n+"_"+a]=(this.data[e][n][a]||0)/this.totalCount:r[e][n+"_"+a]=0}var i={};for(e in r)for(var o in i[e]=0,r[e])i[e]+=r[e][o];return i};var A=function(){this.weights=[],this.bias=0};A.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,r=0;r<this.weights.length;r++)e+=this.weights[r]*t[r];return(e+=this.bias)>0?1:0},A.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var r=this.predict(t);if("number"==typeof r&&r!==e){for(var n=e-r,a=0;a<this.weights.length;a++)this.weights[a]+=n*t[a];this.bias+=n}return this};var R=1e-4;function F(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var e=1,r=2;r<=t;r++)e*=r;return e}var L=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],G=Math.log(Math.sqrt(2*Math.PI)),U={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},B=Math.sqrt(2*Math.PI),V={gaussian:function(t){return Math.exp(-.5*t*t)/B}},H={nrd:function(t){var e=N(t),r=b(t);return"number"==typeof r&&(e=Math.min(e,r/1.34)),1.06*e*Math.pow(t.length,-.2)}};function W(t,e,r){var n,a;if(void 0===e)n=V.gaussian;else if("string"==typeof e){if(!V[e])throw new Error('Unknown kernel "'+e+'"');n=V[e]}else n=e;if(void 0===r)a=H.nrd(t);else if("string"==typeof r){if(!H[r])throw new Error('Unknown bandwidth method "'+r+'"');a=H[r](t)}else a=r;return function(e){var r=0,i=0;for(r=0;r<t.length;r++)i+=n((e-t[r])/a);return i/a/t.length}}var X=Math.sqrt(2*Math.PI);function J(t){for(var e=t,r=t,n=1;n<15;n++)e+=r*=t*t/(2*n+1);return Math.round(1e4*(.5+e/X*Math.exp(-t*t/2)))/1e4}for(var K=[],$=0;$<=3.09;$+=.01)K.push(J($));function Y(t){var e=1/(1+.5*Math.abs(t)),r=e*Math.exp(-t*t+((((((((.17087277*e-.82215223)*e+1.48851587)*e-1.13520398)*e+.27886807)*e-.18628806)*e+.09678418)*e+.37409196)*e+1.00002368)*e-1.26551223);return t>=0?1-r:r-1}function Q(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),r=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return t>=0?r:-r}function Z(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}function tt(t,e){for(var r=0,n=0;n<t.length;n++){var a=t[n]-e[n];r+=a*a}return Math.sqrt(r)}function et(t,e){return t.map((function(t){for(var r=Number.MAX_VALUE,n=-1,a=0;a<e.length;a++){var i=tt(t,e[a]);i<r&&(r=i,n=a)}return n}))}function rt(t,e,r){for(var n=t[0].length,a=E(r,n),i=Array(r).fill(0),o=t.length,u=0;u<o;u++){for(var s=t[u],c=e[u],f=a[c],l=0;l<n;l++)f[l]+=s[l];i[c]+=1}for(var h=0;h<r;h++){if(0===i[h])throw new Error("Centroid "+h+" has no friends");for(var d=a[h],p=0;p<n;p++)d[p]/=i[h]}return a}function nt(t,e){for(var r=0,n=0;n<t.length;n++)r+=tt(t[n],e[n]);return r}function at(t,e){if(t.length!==e.length)throw new Error("must have exactly as many labels as points");for(var r=function(t){for(var e=1+c(t),r=Array(e),n=0;n<t.length;n++){var a=t[n];void 0===r[a]&&(r[a]=[]),r[a].push(n)}return r}(e),n=function(t){for(var e=t.length,r=E(e,e),n=0;n<e;n++)for(var a=0;a<n;a++)r[n][a]=tt(t[n],t[a]),r[a][n]=r[n][a];return r}(t),a=[],i=0;i<t.length;i++){var o=0;if(r[e[i]].length>1){var u=ot(i,r[e[i]],n),s=it(i,e,r,n);o=(s-u)/Math.max(u,s)}a.push(o)}return a}function it(t,e,r,n){for(var a=e[t],i=Number.MAX_VALUE,o=0;o<r.length;o++)if(o!==a){var u=ot(t,r[o],n);u<i&&(i=u)}return i}function ot(t,e,r){for(var n=0,a=0;a<e.length;a++)n+=r[t][e[a]];return n/e.length}function ut(t,e){return 0===t&&0===e?0:Math.abs((t-e)/e)}t.BayesianClassifier=z,t.PerceptronModel=A,t.addToMean=function(t,e,r){return t+(r-t)/(e+1)},t.approxEqual=function(t,e,r){return void 0===r&&(r=R),ut(t,e)<=r},t.average=r,t.averageSimple=P,t.bayesian=z,t.bernoulliDistribution=function(t){if(t<0||t>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]},t.binomialDistribution=function(t,e){if(!(e<0||e>1||t<=0||t%1!=0)){var r=0,n=0,a=[],i=1;do{a[r]=i*Math.pow(e,r)*Math.pow(1-e,t-r),n+=a[r],i=i*(t-++r+1)/r}while(n<.9999);return a}},t.bisect=function(t,e,r,n,a){if("function"!=typeof t)throw new TypeError("func must be a function");for(var i=0;i<n;i++){var o=(e+r)/2;if(0===t(o)||Math.abs((r-e)/2)<a)return o;Z(t(o))===Z(t(e))?e=o:r=o}throw new Error("maximum number of iterations exceeded")},t.chiSquaredDistributionTable=U,t.chiSquaredGoodnessOfFit=function(t,e,n){for(var a=0,i=e(r(t)),o=[],u=[],s=0;s<t.length;s++)void 0===o[t[s]]&&(o[t[s]]=0),o[t[s]]++;for(var c=0;c<o.length;c++)void 0===o[c]&&(o[c]=0);for(var f in i)f in o&&(u[+f]=i[f]*t.length);for(var l=u.length-1;l>=0;l--)u[l]<3&&(u[l-1]+=u[l],u.pop(),o[l-1]+=o[l],o.pop());for(var h=0;h<o.length;h++)a+=Math.pow(o[h]-u[h],2)/u[h];var d=o.length-1-1;return U[d][n]<a},t.chunk=function(t,e){var r=[];if(e<1)throw new Error("chunk size must be a positive number");if(Math.floor(e)!==e)throw new Error("chunk size must be an integer");for(var n=0;n<t.length;n+=e)r.push(t.slice(n,n+e));return r},t.ckmeans=function(t,e){if(e>t.length)throw new Error("cannot generate more classes than there are data values");var r=u(t);if(1===x(r))return[r];var n=E(e,r.length),a=E(e,r.length);!function(t,e,r){for(var n=e[0].length,a=t[Math.floor(n/2)],i=[],o=[],u=0,s=void 0;u<n;++u)s=t[u]-a,0===u?(i.push(s),o.push(s*s)):(i.push(i[u-1]+s),o.push(o[u-1]+s*s)),e[0][u]=k(0,u,i,o),r[0][u]=0;for(var c=1;c<e.length;++c)T(c<e.length-1?c:n-1,n-1,c,e,r,i,o)}(r,n,a);for(var i=[],o=a[0].length-1,s=a.length-1;s>=0;s--){var c=a[s][o];i[s]=r.slice(c,o+1),s>0&&(o=c-1)}return i},t.coefficientOfVariation=function(t){return N(t)/r(t)},t.combinations=function t(e,r){var n,a,i,o,u=[];for(n=0;n<e.length;n++)if(1===r)u.push([e[n]]);else for(i=t(e.slice(n+1,e.length),r-1),a=0;a<i.length;a++)(o=i[a]).unshift(e[n]),u.push(o);return u},t.combinationsReplacement=function t(e,r){for(var n=[],a=0;a<e.length;a++)if(1===r)n.push([e[a]]);else for(var i=t(e.slice(a,e.length),r-1),o=0;o<i.length;o++)n.push([e[a]].concat(i[o]));return n},t.combineMeans=q,t.combineVariances=function(t,e,r,n,a,i){var o=q(e,r,a,i);return(r*(t+Math.pow(e-o,2))+i*(n+Math.pow(a-o,2)))/(r+i)},t.cumulativeStdLogisticProbability=function(t){return 1/(Math.exp(-t)+1)},t.cumulativeStdNormalProbability=function(t){var e=Math.abs(t),r=Math.min(Math.round(100*e),K.length-1);return t>=0?K[r]:+(1-K[r]).toFixed(4)},t.epsilon=R,t.equalIntervalBreaks=function(t,e){if(t.length<2)return t;for(var r=s(t),n=c(t),a=[r],i=(n-r)/e,o=1;o<e;o++)a.push(a[0]+i*o);return a.push(n),a},t.erf=Y,t.errorFunction=Y,t.extent=function(t){if(0===t.length)throw new Error("extent requires at least one data point");for(var e=t[0],r=t[0],n=1;n<t.length;n++)t[n]>r&&(r=t[n]),t[n]<e&&(e=t[n]);return[e,r]},t.extentSorted=function(t){return[t[0],t[t.length-1]]},t.factorial=F,t.gamma=function t(e){if(Number.isInteger(e))return e<=0?NaN:F(e-1);if(--e<0)return Math.PI/(Math.sin(Math.PI*-e)*t(-e));var r=e+1/4;return Math.pow(e/Math.E,e)*Math.sqrt(2*Math.PI*(e+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},t.gammaln=function(t){if(t<=0)return 1/0;t--;for(var e=L[0],r=1;r<15;r++)e+=L[r]/(t+r);var n=5.2421875+t;return G+Math.log(e)-n+(t+.5)*Math.log(n)},t.geometricMean=function(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var e=1,r=0;r<t.length;r++){if(t[r]<0)throw new Error("geometricMean requires only non-negative numbers as input");e*=t[r]}return Math.pow(e,1/t.length)},t.harmonicMean=function(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var e=0,r=0;r<t.length;r++){if(t[r]<=0)throw new Error("harmonicMean requires only positive numbers as input");e+=1/t[r]}return t.length/e},t.interquartileRange=b,t.inverseErrorFunction=Q,t.iqr=b,t.kMeansCluster=function(t,e,r){void 0===r&&(r=Math.random);for(var n=null,a=M(t,e,r),i=null,o=Number.MAX_VALUE;0!==o;)n=a,o=nt(a=rt(t,i=et(t,a),e),n);return{labels:i,centroids:a}},t.kde=W,t.kernelDensityEstimation=W,t.linearRegression=function(t){var e,r,n=t.length;if(1===n)e=0,r=t[0][1];else{for(var a,i,o,u=0,s=0,c=0,f=0,l=0;l<n;l++)u+=i=(a=t[l])[0],s+=o=a[1],c+=i*i,f+=i*o;r=s/n-(e=(n*f-u*s)/(n*c-u*u))*u/n}return{m:e,b:r}},t.linearRegressionLine=function(t){return function(e){return t.b+t.m*e}},t.logAverage=function(t){if(0===t.length)throw new Error("logAverage requires at least one data point");for(var e=0,r=0;r<t.length;r++){if(t[r]<0)throw new Error("logAverage requires only non-negative numbers as input");e+=Math.log(t[r])}return Math.exp(e/t.length)},t.logit=function(t){if(t<=0||t>=1)throw new Error("p must be strictly between zero and one");return Math.log(t/(1-t))},t.mad=O,t.max=c,t.maxSorted=function(t){return t[t.length-1]},t.mean=r,t.meanSimple=P,t.median=w,t.medianAbsoluteDeviation=O,t.medianSorted=function(t){return l(t,.5)},t.min=s,t.minSorted=function(t){return t[0]},t.mode=function(t){return o(u(t))},t.modeFast=function(t){for(var e,r=new Map,n=0,a=0;a<t.length;a++){var i=r.get(t[a]);void 0===i?i=1:i++,i>n&&(e=t[a],n=i),r.set(t[a],i)}if(0===n)throw new Error("mode requires at last one data point");return e},t.modeSorted=o,t.numericSort=u,t.perceptron=A,t.permutationTest=function(t,e,n,a,i){if(void 0===a&&(a=1e4),void 0===n&&(n="two_side"),"two_side"!==n&&"greater"!==n&&"less"!==n)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=r(t)-r(e),u=new Array(a),s=t.concat(e),c=Math.floor(s.length/2),f=0;f<a;f++){j(s,i);var l=s.slice(0,c),h=s.slice(c,s.length),d=r(l)-r(h);u[f]=d}var p=0;if("two_side"===n)for(var v=0;v<=a;v++)Math.abs(u[v])>=Math.abs(o)&&(p+=1);else if("greater"===n)for(var m=0;m<=a;m++)u[m]>=o&&(p+=1);else for(var g=0;g<=a;g++)u[g]<=o&&(p+=1);return p/a},t.permutationsHeap=function(t){for(var e=new Array(t.length),r=[t.slice()],n=0;n<t.length;n++)e[n]=0;for(var a=0;a<t.length;)if(e[a]<a){var i=0;a%2!=0&&(i=e[a]);var o=t[i];t[i]=t[a],t[a]=o,r.push(t.slice()),e[a]++,a=0}else e[a]=0,a++;return r},t.poissonDistribution=function(t){if(!(t<=0)){var e=0,r=0,n=[],a=1;do{n[e]=Math.exp(-t)*Math.pow(t,e)/a,r+=n[e],a*=++e}while(r<.9999);return n}},t.probit=function(t){return 0===t?t=R:t>=1&&(t=.9999),Math.sqrt(2)*Q(2*t-1)},t.product=function(t){for(var e=1,r=0;r<t.length;r++)e*=t[r];return e},t.quantile=p,t.quantileRank=function(t,e){return y(u(t),e)},t.quantileRankSorted=y,t.quantileSorted=l,t.quickselect=h,t.rSquared=function(t,e){if(t.length<2)return 1;for(var r=0,n=0;n<t.length;n++)r+=t[n][1];for(var a=r/t.length,i=0,o=0;o<t.length;o++)i+=Math.pow(a-t[o][1],2);for(var u=0,s=0;s<t.length;s++)u+=Math.pow(t[s][1]-e(t[s][0]),2);return 1-u/i},t.relativeError=ut,t.rms=I,t.rootMeanSquare=I,t.sample=M,t.sampleCorrelation=C,t.sampleCovariance=D,t.sampleKurtosis=function(t){var e=t.length;if(e<4)throw new Error("sampleKurtosis requires at least four data points");for(var n,a=r(t),i=0,o=0,u=0;u<e;u++)i+=(n=t[u]-a)*n,o+=n*n*n*n;return(e-1)/((e-2)*(e-3))*(e*(e+1)*o/(i*i)-3*(e-1))},t.sampleRankCorrelation=function(t,e){for(var r=t.map((function(t,e){return[t,e]})).sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]})),n=e.map((function(t,e){return[t,e]})).sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]})),a=Array(r.length),i=Array(r.length),o=0;o<r.length;o++)a[r[o]]=o,i[n[o]]=o;return C(a,i)},t.sampleSkewness=function(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var e,n=r(t),a=0,i=0,o=0;o<t.length;o++)a+=(e=t[o]-n)*e,i+=e*e*e;var u=t.length-1,s=Math.sqrt(a/u),c=t.length;return c*i/((c-1)*(c-2)*Math.pow(s,3))},t.sampleStandardDeviation=N,t.sampleVariance=_,t.sampleWithReplacement=function(t,e,r){if(0===t.length)return[];r=r||Math.random;for(var n=t.length,a=[],i=0;i<e;i++){var o=Math.floor(r()*n);a.push(t[o])}return a},t.shuffle=S,t.shuffleInPlace=j,t.sign=Z,t.silhouette=at,t.silhouetteMetric=function(t,e){return c(at(t,e))},t.standardDeviation=i,t.standardNormalTable=K,t.subtractFromMean=function(t,e,r){return(t*e-r)/(e-1)},t.sum=e,t.sumNthPowerDeviations=n,t.sumSimple=f,t.tTest=function(t,e){return(r(t)-e)/(i(t)/Math.sqrt(t.length))},t.tTestTwoSample=function(t,e,n){var a=t.length,i=e.length;if(!a||!i)return null;n||(n=0);var o=r(t),u=r(e),s=_(t),c=_(e);if("number"==typeof o&&"number"==typeof u&&"number"==typeof s&&"number"==typeof c){var f=((a-1)*s+(i-1)*c)/(a+i-2);return(o-u-n)/Math.sqrt(f*(1/a+1/i))}},t.uniqueCountSorted=x,t.variance=a,t.wilcoxonRankSum=function(t,e){if(!t.length||!e.length)throw new Error("Neither sample can be empty");for(var r=t.map((function(t){return{label:"x",value:t}})).concat(e.map((function(t){return{label:"y",value:t}}))).sort((function(t,e){return t.value-e.value})),n=0;n<r.length;n++)r[n].rank=n;for(var a=[r[0].rank],i=1;i<r.length;i++)r[i].value===r[i-1].value?(a.push(r[i].rank),i===r.length-1&&o(r,a)):a.length>1?o(r,a):a=[r[i].rank];function o(t,e){for(var r=(e[0]+e[e.length-1])/2,n=0;n<e.length;n++)t[e[n]].rank=r}for(var u=0,s=0;s<r.length;s++){var c=r[s];"x"===c.label&&(u+=c.rank+1)}return u},t.zScore=function(t,e,r){return(t-e)/r},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";(function(e){var n=r(13),a=r(58),i=r(36),o={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=r(37)),t}(),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(a){if("SyntaxError"!==a.name)throw a}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||s.transitional,r=e&&e.silentJSONParsing,a=e&&e.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||a&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(o){if("SyntaxError"===u.name)throw i(u,this,"E_JSON_PARSE");throw u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){s.headers[t]=n.merge(o)})),t.exports=s}).call(this,r(57))},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=function(t,e){if(0===t)return[];for(var r=2147483647,n=[e],a=1;a<t;a++)n.push((1103515245*n[a-1]+12345)%r);return n.map((function(t){return t/r}))}(e,2147483647*Math.random()),n=[],a=0;a<e;a++){var i=Math.floor(r[a]*e)%e;n.push(t[i])}return n}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(0),a=r(28),i=r(27),o=r(7),u=r(8),s=function(t){Object(a.a)(r,t);var e=Object(i.a)(r);function r(t){var n;Object(o.a)(this,r),n=e.call(this,t);var a=t.K;return n.K=a,n.normalize(),n}return Object(u.a)(r,[{key:"getNeighbors",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r.length!==e.length&&e.forEach((function(t){r.push(1)}));for(var n=[],a=[],i=[],o=[],u=new Set(this.dimensions),s=0;s<e.length;s++)u.has(e[s])?(n.push(e[s]),i.push(r[s])):(a.push(e[s]),o.push(r[s]));var c=[];this.normalizedDataSource.forEach((function(e,r){var u=0;a.forEach((function(r,n){u+=Math.pow((e[r]-t[r])*o[n],2)})),n.forEach((function(r,n){e[r]!==t[r]&&(u+=Math.pow(i[n],2))})),c.push({dis:u,index:r})})),c.sort((function(t,e){return t.dis-e.dis}));for(var f=[],l=Math.min(this.K,c.length),h=0;h<l;h++)f.push(this.normalizedDataSource[c[h].index]);return f}},{key:"getTargetValue",value:function(t,e){var r=this,a=[];return t.forEach((function(t){var i=new Map;e.forEach((function(e){i.has(e[t])||i.set(e[t],0),i.set(e[t],i.get(e[t])+1)}));var o,u=0,s=0,c=Object(n.a)(i);try{for(c.s();!(o=c.n()).done;){var f=o.value;f[1]>u&&(u=f[1],s=f[0])}}catch(h){c.e(h)}finally{c.f()}var l=r.dimensions.indexOf(t);l>-1?a.push(r.valueParser[l][s]):a.push(s)})),a}}]),r}(function(){function t(e){Object(o.a)(this,t);var r=e.dataSource,n=e.dimensions,a=e.measures;this.dataSource=r,this.dimensions=n,this.measures=a}return Object(u.a)(t,[{key:"normalize",value:function(){var t=this;return this.normalizedDataSource=[],this.valueSets=[],this.valueParser=[],this.ranges=[],this.dimensions.forEach((function(e){t.valueSets.push(new Map),t.valueParser.push([])})),this.measures.forEach((function(){t.ranges.push([1/0,-1/0])})),this.dataSource.forEach((function(e){t.dimensions.forEach((function(r,n){var a=(e[r]||"others").toString();t.valueSets[n].has(a)||(t.valueSets[n].set(a,t.valueSets[n].size),t.valueParser[n].push(a))})),t.measures.forEach((function(r,n){var a=e[r];"number"===typeof a&&(t.ranges[n][0]=Math.min(t.ranges[n][0],a),t.ranges[n][1]=Math.max(t.ranges[n][1],a))}))})),this.dataSource.forEach((function(e){var r=t.normalizeRecord(e);t.normalizedDataSource.push(r)})),this.normalizedDataSource}},{key:"normalizeRecord",value:function(t){var e=this,r={};return this.measures.forEach((function(n,a){r[n]=(t[n]-e.ranges[a][0])/(e.ranges[a][1]-e.ranges[a][0])})),this.dimensions.forEach((function(n,a){var i=(t[n]||"others").toString();r[n]=e.valueSets[a].get(i)})),r}}]),t}())},function(t,e,r){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=n(t);if(e){var o=n(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return i(this,r)}}r.d(e,"a",(function(){return o}))},function(t,e,r){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}r.d(e,"a",(function(){return a}))},function(t,e,r){t.exports=r(52)},function(t,e,r){"use strict";r(6),r(9)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sum_unsafe=function(t,e){var r={};e.forEach((function(t){r[t]=0}));for(var n=function(n,a){e.forEach((function(e){r[e]+=t[n][e]}))},a=0,i=t.length;a<i;a++)n(a);return r},e.sum=function(t,e){var r={};e.forEach((function(t){r[t]=0}));for(var n=function(n,a){e.forEach((function(e){r[e]+=Number(t[n][e])||0}))},a=0,i=t.length;a<i;a++)n(a);return r},e.count=function(t,e){var r={};e.forEach((function(t){r[t]=0}));for(var n=0,a=t.length;n<a;n++)e.forEach((function(t){r[t]++}));return r},e.mean=function(t,e){var r={};e.forEach((function(t){r[t]=0}));for(var n=function(n,a){e.forEach((function(e){r[e]+=Number(t[n][e])||0}))},a=0,i=t.length;a<i;a++)n(a);return e.forEach((function(e){r[e]/=t.length})),r}},function(t,e,r){"use strict";r(4),r(0),r(9)},function(t,e,r){"use strict";r(4),r(0),r(11),r(17),r(2),r(12)},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(13);function a(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))})))})),i=o.join("&")}if(i){var u=t.indexOf("#");-1!==u&&(t=t.slice(0,u)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,a){return t.config=e,r&&(t.code=r),t.request=n,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},function(t,e,r){"use strict";var n=r(13),a=r(59),i=r(60),o=r(35),u=r(61),s=r(64),c=r(65),f=r(38),l=r(23),h=r(24);t.exports=function(t){return new Promise((function(e,r){var d,p=t.data,v=t.headers,m=t.responseType;function g(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}n.isFormData(p)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var b=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+w)}var O=u(t.baseURL,t.url);function j(){if(y){var n="getAllResponseHeaders"in y?s(y.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:t,request:y};a((function(t){e(t),g()}),(function(t){r(t),g()}),i),y=null}}if(y.open(t.method.toUpperCase(),o(O,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=j:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(j)},y.onabort=function(){y&&(r(f("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(f("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded",n=t.transitional||l.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(f(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var S=(t.withCredentials||c(O))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;S&&(v[t.xsrfHeaderName]=S)}"setRequestHeader"in y&&n.forEach(v,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete v[e]:y.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),m&&"json"!==m&&(y.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){y&&(r(!t||t&&t.type?new h("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),p||(p=null),y.send(p)}))}},function(t,e,r){"use strict";var n=r(36);t.exports=function(t,e,r,a,i){var o=new Error(t);return n(o,e,r,a,i)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";var n=r(13);t.exports=function(t,e){e=e||{};var r={};function a(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function i(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:a(void 0,t[r]):a(t[r],e[r])}function o(t){if(!n.isUndefined(e[t]))return a(void 0,e[t])}function u(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:a(void 0,t[r]):a(void 0,e[r])}function s(r){return r in e?a(t[r],e[r]):r in t?a(void 0,t[r]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||i,a=e(t);n.isUndefined(a)&&e!==s||(r[t]=a)})),r}},function(t,e){t.exports={version:"0.22.0"}},function(t,e){},function(t,e){},function(t,e,r){"use strict";r.r(e),r.d(e,"insightExtraction",(function(){return O})),r.d(e,"subspaceSearching",(function(){return w})),r.d(e,"getVisSpaces",(function(){return U})),r.d(e,"IntentionWorkerCollection",(function(){return F})),r.d(e,"DefaultIWorker",(function(){return P})),r.d(e,"getIntentionSpaces",(function(){return L})),r.d(e,"Subspace",(function(){return n})),r.d(e,"VIEngine",(function(){return pt}));var n={};r.r(n),r.d(n,"getDimCorrelationMatrix",(function(){return f})),r.d(n,"getMeaCorrelationMatrix",(function(){return l})),r.d(n,"getDimClusterGroups",(function(){return h})),r.d(n,"getDimSetsBasedOnClusterGroups",(function(){return d})),r.d(n,"getMeaSetsBasedOnClusterGroups",(function(){return p})),r.d(n,"subspaceSearching",(function(){return v})),r.d(n,"getRelatedVertices",(function(){return m}));var a=r(4),i=r(0),o=r(2),u=r(12),s=r(11),c=r(5);function f(t,e){for(var r=e.map((function(t){return e.map((function(t){return 0}))})),n=0;n<e.length;n++){r[n][n]=1;for(var a=n+1;a<e.length;a++)r[n][a]=r[a][n]=Object(o.a)(t,e[n],e[a])}return r}function l(t,e){for(var r=e.map((function(t){return e.map((function(t){return 0}))})),n=0;n<e.length;n++){r[n][n]=1;for(var a=n+1;a<e.length;a++){var i=Object(o.j)(t,e[n],e[a]);r[a][n]=r[n][a]=i}}return r}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a,n=arguments.length>3?arguments[3]:void 0,a=4,i=f(t,e),o=s.a.kruskal({matrix:i,measures:e,groupMaxSize:n||Math.round(e.length/a),threshold:r});return o}function d(t,e,r,n){var u,s=[],f=h(t,e,r),l=Object(i.a)(f);try{for(l.s();!(u=l.n()).done;){var d=u.value,p=Object(o.d)(d,1,n||c.b.maxDimensionNumber);s.push.apply(s,Object(a.a)(p))}}catch(v){l.e(v)}finally{l.f()}return s}function p(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=3,i=l(t,e),o=s.a.kruskal({matrix:i,measures:e,groupMaxSize:n||Math.round(e.length/a),threshold:r||u.b.strong});return o}function v(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?d(t,e):Object(o.d)(e)}function m(t,e,r,n){for(var a=e.map((function(t){return r.includes(t)})),i=[],o=[],u=0;u<t.length;u++)if(a[u])for(var s=0;s<t[u].length;s++)a[s]||i.push([t[u][s],[u,s]]);i.sort((function(t,e){return e[0]-t[0]}));for(var c=0;c<i.length;c++){var f=i[c][1][1];a[f]||(a[f]=!0,o.push({field:e[f],corValue:i[c][0]}))}return o.slice(0,n||o.length)}var g=r(17),y=r.n(g);function b(t,e){var r,n=[],f=function(t,e){for(var r=e.map((function(t){return e.map((function(t){return 0}))})),n=0;n<e.length;n++){r[n][n]=1;for(var a=n+1;a<e.length;a++)r[n][a]=r[a][n]=Object(o.a)(t,e[n],e[a])}return r}(t,e),l=s.a.kruskal({matrix:f,measures:e,groupMaxSize:Math.round(e.length/4),threshold:u.a}),h=Object(i.a)(l);try{for(h.s();!(r=h.n()).done;){var d=r.value,p=Object(o.d)(d,1,c.b.maxDimensionNumber);n.push.apply(n,Object(a.a)(p))}}catch(v){h.e(v)}finally{h.f()}return n}function w(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?b(t,e):Object(o.d)(e)}function O(t,e,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sum",u=[],s=w(t,e,!0),c=Object(i.a)(s);try{for(c.s();!(n=c.n()).done;){var f,l=n.value,h={},d=y()({dataSource:t,dimensions:l,measures:r,asFields:r,operator:a||"sum"}),p=Object(i.a)(r);try{var v=function(){var t=f.value,e=d.map((function(e){return e[t]})),r=Object(o.h)(Object(o.g)(e)),n=Object(o.b)(r);h[t]=n};for(p.s();!(f=p.n()).done;)v()}catch(j){p.e(j)}finally{p.f()}for(var m=r.map((function(t){return r.map((function(t){return 0}))})),g=0;g<r.length;g++){m[g][g]=1;for(var b=g+1;b<r.length;b++){var O=Object(o.j)(d,r[g],r[b]);m[b][g]=m[g][b]=O}}u.push([l,h,m])}}catch(j){c.e(j)}finally{c.f()}return u}var j=r(10),S=r(7),M=r(8),E=r(1),x=r.n(E),k=r(3),T=r(28),D=r(27),_=function(t){Object(T.a)(r,t);var e=Object(D.a)(r);function r(){return Object(S.a)(this,r),e.apply(this,arguments)}return Object(M.a)(r,[{key:"getTargetValuePercent",value:function(t,e,r){var n=[];return t.forEach((function(t,a){var i=0;r.forEach((function(r){r[t]===e[t]&&i++})),n.push(i/r.length)})),n}},{key:"getSignificance",value:function(t,e){var r=this,n=0;return this.normalizedDataSource.forEach((function(a){var i=r.getNeighbors(a,t),o=r.getTargetValuePercent(e,a,i),u=0;o.forEach((function(t){u+=t})),u/=o.length,n+=u})),n/=this.normalizedDataSource.length}}]),r}(r(26).a),N="=;=";function C(t,e){var r,n=[],a=Object(i.a)(t);try{for(a.s();!(r=a.n()).done;){var o,u=r.value,s=Object(i.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;n.push({dimensions:u,measures:c})}}catch(f){s.e(f)}finally{s.f()}}}catch(f){a.e(f)}finally{a.f()}return n}function q(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.b.maxDimensionNumber,n=[],u=Object(i.a)(t);try{for(u.s();!(e=u.n()).done;){var s=e.value,f=Object(o.d)(s,1,r);n.push.apply(n,Object(a.a)(f))}}catch(l){u.e(l)}finally{u.f()}return n}var P,I=function(){var t=Object(k.a)(x.a.mark((function t(e,r,n){var a,u,s,c,f;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0,u=0,s=Object(i.a)(n);try{for(f=function(){var t=c.value,r=e.map((function(e){return e[t]})),n=Object(o.h)(Object(o.g)(r)),i=Object(o.b)(n);a+=i,u+=i/Math.log2(r.length)},s.s();!(c=s.n()).done;)f()}catch(l){s.e(l)}finally{s.f()}return a/=n.length,u=1-(u/=n.length),t.abrupt("return",{dimensions:r,measures:n,type:"default_general",score:a,impurity:a,significance:u,order:"asc"});case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),z=function(){var t=Object(k.a)(x.a.mark((function t(e,r,n){var a,i,o,u,c,f;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((a=new s.b.IsolationForest([],n,e)).buildIsolationForest(),i=a.estimateOutierScore(),o=0,u=0,c=0;c<i.length;c++)i[c]>u&&(u=i[c],o=c);return f={},r.concat(n).forEach((function(t){f[t]=e[o][t]})),t.abrupt("return",{dimensions:r,measures:n,score:u,significance:u,order:"desc",description:f});case 9:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),A=function(){var t=Object(k.a)(x.a.mark((function t(e,r,n){var u,s,c,f,l,h;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===r.length){t.next=2;break}return t.abrupt("return",null);case 2:(u=Object(a.a)(e)).sort((function(t,e){return t[r[0]]>e[r[0]]?1:t[r[0]]===e[r[0]]?0:t[r[0]]<e[r[0]]?-1:void 0})),s=0,c=Object(i.a)(n);try{for(c.s();!(f=c.n()).done;)l=f.value,(h=new o.i(u,r[0],l)).normalizeDimensions(r),s+=h.significance()}catch(d){c.e(d)}finally{c.f()}return s/=n.length,t.abrupt("return",{dimensions:r,measures:n,score:s,significance:s,order:"desc"});case 9:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),R=function(){var t=Object(k.a)(x.a.mark((function t(e,r,n){var a,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.length<2)){t.next=2;break}return t.abrupt("return",null);case 2:return 0,i=new _({dataSource:e,dimensions:r,measures:n,K:8}),a=i.getSignificance(n.concat(r.slice(0,-1)),r.slice(-1)),t.abrupt("return",{dimensions:r,measures:n,score:a,significance:a,order:"desc"});case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();!function(t){t.outlier="default_outlier",t.cluster="default_group",t.trend="default_trend"}(P||(P={}));var F=function(){function t(){Object(S.a)(this,t),this.workers=new Map}return Object(M.a)(t,[{key:"register",value:function(t,e){if(this.workers.has(t))throw new Error("There has been a worker named: ".concat(t," already."));this.workers.set(t,[!0,e])}},{key:"enable",value:function(t,e){if(!this.workers.has(t))throw new Error('Intention Worker "'.concat(t,'" does not exist.'));var r=this.workers.get(t);r[0]=e,this.workers.set(t,r)}},{key:"each",value:function(t){var e,r=Object(i.a)(this.workers);try{for(r.s();!(e=r.n()).done;){var n=Object(j.a)(e.value,2),a=n[0],o=n[1];o[0]&&t(o[1],a)}}catch(u){r.e(u)}finally{r.f()}}}],[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{withDefaultIWorkers:!0},r=e.withDefaultIWorkers,n=void 0===r||r;for(var a in t.colletion||(t.colletion=new t,n&&(t.colletion.register(P.outlier,z),t.colletion.register(P.cluster,R),t.colletion.register(P.trend,A))),P)t.colletion.enable(P[a],n);return t.colletion}}]),t}();function L(t,e,r){return G.apply(this,arguments)}function G(){return(G=Object(k.a)(x.a.mark((function t(e,r,n){var a,o,u,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],o=Object(i.a)(r),t.prev=2,s=x.a.mark((function t(){var r,i,o,s,c,f;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.value,i=r.dimensions,o=r.measures,s=i.join(N),!e.has(s)){t.next=9;break}return c=e.get(s),t.next=7,I(c,i,o);case 7:f=t.sent,n.each(function(){var t=Object(k.a)(x.a.mark((function t(e,r){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(c,i,o);case 3:null!==(n=t.sent)&&(n.type=r,n.impurity=f.impurity,a.push(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("worker failed",{dimensions:i,measures:o,aggData:c},t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})),o.s();case 5:if((u=o.n()).done){t.next=9;break}return t.delegateYield(s(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),o.e(t.t1);case 14:return t.prev=14,o.f(),t.finish(14);case 17:return t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})))).apply(this,arguments)}function U(t){return B.apply(this,arguments)}function B(){return(B=Object(k.a)(x.a.mark((function t(e){var r,n,a,o,s,c,f,l,d,v,m,g,b,w,O,j,S,M,E,k,T,D,_,P,I,z,A;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.dataSource,n=e.dimensions,a=e.measures,o=e.collection,s=e.dimension_correlation_threshold,c=void 0===s?u.a:s,f=e.measure_correlation_threshold,l=void 0===f?u.b.strong:f,d=e.max_dimension_num_in_view,v=void 0===d?3:d,m=e.max_measure_num_in_view,g=void 0===m?3:m,b=h(r,n,c),w=q(b,v),O=p(r,a,l),j=q(O,g),S=C(w,j),M=new Map,E=(new Date).getTime(),k=Object(i.a)(w);try{for(k.s();!(T=k.n()).done;)D=T.value,_=D.join(N),P=y()({dataSource:r,dimensions:D,measures:a,asFields:a,operator:"sum"}),M.set(_,P)}catch(x){k.e(x)}finally{k.f()}return I=(new Date).getTime(),console.log("cube cost",I-E),M.set("*",r),z=o||F.init(),t.next=18,L(M,S,z);case 18:return A=t.sent,t.abrupt("return",A);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V=r(6),H=r(18),W={boolean:function(t){return"true"===t||"false"===t||!0===t||!1===t},integer:function(t){return W.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)},date:function(t){return!isNaN(Date.parse(t))}};function X(t,e){var r,n=[],o=new Map,u=Object(i.a)(t);try{var s=function(){var t=r.value,u=new Map;e.forEach((function(e){u.has(e[t])||u.set(e[t],0),u.set(e[t],u.get(e[t])+1)}));var s=function(t){var e,r,n=["boolean","integer","number","date"],a=Object(i.a)(t);try{for(a.s();!(e=a.n()).done;){for(var o=e.value,u=0;u<n.length;++u)null==(r=o)||r!==r||W[n[u]](o)||(n.splice(u,1),u-=1);if(0===n.length)return"string"}}catch(s){a.e(s)}finally{a.f()}return n[0]}(Object(a.a)(u.keys())),f=Object(H.b)(e,t),l=Math.log2(u.size),h=l,d="dimension",p=!1;if(("integer"===s||"number"===s)&&"ordinal"!==f&&(d="measure",u.size>c.a)){var v=Object(H.c)(e,t);h=v.entropy,l=v.maxEntropy,p=!0}if(!p){var m=Object(H.a)(e,t);h=m.entropy,l=m.maxEntropy}var g={key:t,analyticType:d,semanticType:f,dataType:s,features:{unique:u.size,size:e.length,entropy:h,maxEntropy:l}};n.push(g),o.set(g.key,g)};for(u.s();!(r=u.n()).done;)s()}catch(f){u.e(f)}finally{u.f()}return{fields:n,dictonary:o}}var J,K=function(){function t(e,r){Object(S.a)(this,t),this.DIMENSION_CORRELATION_THRESHOLD=u.a,this.MEASURE_CORRELATION_THRESHOLD=u.b.strong,this.dimensions=e,this.measures=r}return Object(M.a)(t,[{key:"computeGraph",value:function(t,e,r){for(var n=e.map((function(t){return e.map((function(){return 0}))})),a=0;a<e.length;a++){n[a][a]=1;for(var i=a+1;i<e.length;i++)n[a][i]=n[i][a]=r(t,e[a],e[i])}return n}},{key:"computeDGraph",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;return this.DG=this.computeGraph(t,this.dimensions,e),this.DG}},{key:"computeMGraph",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.j;return this.MG=this.computeGraph(t,this.measures,e),this.MG}},{key:"clusterDGraph",value:function(t,e){var r=this.dimensions,n=this.DIMENSION_CORRELATION_THRESHOLD;return this.DClusters=h(t,r,e||n),this.DClusters}},{key:"clusterMGraph",value:function(t,e){var r=this.measures,n=this.MEASURE_CORRELATION_THRESHOLD;return this.MClusters=p(t,r,e||n),this.MClusters}}]),t}(),$=r(19),Y=["max","min","sum","mean","count","dist"],Q=function(){function t(e){Object(S.a)(this,t);var r=e.dimensions,n=e.measures,a=e.ops,i=void 0===a?Y:a,o=e.ranges;this.dimensions=r,this.measures=n,this.ops=i,this.state=[],this.ranges=o}return Object(M.a)(t,[{key:"setState",value:function(t){this.state=t}},{key:"setData",value:function(t){var e=this;this.state=Object(o.k)({dimensions:this.dimensions,measures:this.measures,ops:this.ops,dataSource:t});var r,n=Object(o.f)(t,this.dimensions),a=Object(i.a)(this.state);try{var u=function(){var t,a=r.value,u=Object(o.c)(e.dimensions.map((function(t){return a[t]}))),s=n.get(u),c=Object(i.a)(e.measures);try{var f=function(){var r=t.value,n=e.ranges.get(r);a[r].dist=Object($.a)(s.map((function(t){return t[r]})),n)};for(c.s();!(t=c.n()).done;)f()}catch(l){c.e(l)}finally{c.f()}};for(a.s();!(r=a.n()).done;)u()}catch(s){a.e(s)}finally{a.f()}return this.state}},{key:"computeFromCuboid",value:function(t){var e=this.ops,r=this.measures,n=this.dimensions;return this.state=Object(o.l)({dimensions:n,measures:r,ops:e,dataSource:t.getRawState()}),this.state}},{key:"size",get:function(){return this.state.length}},{key:"getState",value:function(t,e){var r,n=[],a=this.state,o=this.dimensions,u=Object(i.a)(a);try{for(u.s();!(r=u.n()).done;){var s,c=r.value,f={},l=Object(i.a)(o);try{for(l.s();!(s=l.n()).done;){var h=s.value;f[h]=c[h]}}catch(m){l.e(m)}finally{l.f()}for(var d=0;d<t.length;d++){var p=t[d],v=e[d];f[p]=c[p][v]}n.push(f)}}catch(m){u.e(m)}finally{u.f()}return n}},{key:"getRawState",value:function(){return this.state}}]),t}(),Z="_join_",tt=["max","min","sum","mean","count","dist"],et=function(){function t(e){var r=this;Object(S.a)(this,t);var n=e.dimensions,a=e.measures,i=e.dataSource,o=e.ops,u=void 0===o?tt:o;this.dimensions=n,this.measures=a,this.dataSource=i,this.ops=u,this.dimOrder=new Map,n.forEach((function(t,e){r.dimOrder.set(t,e)})),this.cuboids=new Map,this.ranges=new Map}return Object(M.a)(t,[{key:"sortDimension",value:function(t){var e=this,r=Object(a.a)(t);return r.sort((function(t,r){return e.dimOrder.get(t)-e.dimOrder.get(r)})),r}},{key:"getCuboid",value:function(t){var e=this.sortDimension(t),r=e.join(Z);if(this.cuboids.has(r))return this.cuboids.get(r);var n,o=new Set(t),u=[],s=[],c=Object(i.a)(this.dimensions);try{for(c.s();!(n=c.n()).done;){var f=n.value;if(!o.has(f)){var l=this.sortDimension([].concat(Object(a.a)(e),[f])).join(Z);this.cuboids.has(l)?u.push(l):s.push(l)}}}catch(w){c.e(w)}finally{c.f()}var h=1/0,d=this.dimensions.join(Z);if(u.length>0){var p,v=Object(i.a)(u);try{for(v.s();!(p=v.n()).done;){var m=p.value,g=this.cuboids.get(m);g.size<h&&(h=g.size,d=m)}}catch(w){v.e(w)}finally{v.f()}}else s.length>0&&(d=s[0]);var y=this.getCuboid(d.split(Z)),b=new Q({dimensions:t,measures:this.measures,ops:this.ops,ranges:this.ranges});return b.computeFromCuboid(y),this.cuboids.set(r,b),b}},{key:"computeRanges",value:function(){var t,e=this.measures,r=this.dataSource,n=Object(i.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.ranges.set(a,Object(o.e)(r,a))}}catch(u){n.e(u)}finally{n.f()}}},{key:"buildBaseCuboid",value:function(){this.computeRanges();var t=new Q({dimensions:this.dimensions,measures:this.measures,ops:this.ops,ranges:this.ranges});return t.setData(this.dataSource),this.cuboids.set(this.dimensions.join(Z),t),t}},{key:"loadCuboid",value:function(t,e){var r=new Q({dimensions:t.split(Z),measures:this.measures,ops:this.ops,ranges:this.ranges});r.setState(e),this.cuboids.set(t,r)}},{key:"exportCuboids",value:function(){var t,e={},r=Object(i.a)(this.cuboids);try{for(r.s();!(t=r.n()).done;){var n=Object(j.a)(t.value,2),a=n[0],o=n[1];e[a]=o.getRawState()}}catch(u){r.e(u)}finally{r.f()}return e}},{key:"baseCuboid",get:function(){var t=this.dimensions.join(Z);return this.cuboids.has(t)?this.cuboids.get(t):this.buildBaseCuboid()}}]),t}(),rt=function(){var t=Object(k.a)(x.a.mark((function t(e,r,n){var a,i,o,u,c,f;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((a=new s.b.IsolationForest([],n,e)).buildIsolationForest(),i=a.estimateOutierScore(),o=0,u=0,c=0;c<i.length;c++)i[c]>u&&(u=i[c],o=c);return f={},r.concat(n).forEach((function(t){f[t]=e[o][t]})),t.abrupt("return",{dimensions:r,measures:n,significance:u,description:f});case 9:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),nt=function(){var t=Object(k.a)(x.a.mark((function t(e,r,n){var u,s,c,f,l,h;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===r.length){t.next=2;break}return t.abrupt("return",null);case 2:(u=Object(a.a)(e)).sort((function(t,e){return t[r[0]]>e[r[0]]?1:t[r[0]]===e[r[0]]?0:-1})),s=0,c=Object(i.a)(n);try{for(c.s();!(f=c.n()).done;)l=f.value,(h=new o.i(u,r[0],l)).normalizeDimensions(r),s+=h.significance()}catch(d){c.e(d)}finally{c.f()}return s/=n.length,t.abrupt("return",{dimensions:r,measures:n,significance:s});case 9:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();!function(t){t.outlier="default_outlier",t.trend="default_trend"}(J||(J={}));var at=function(){function t(){Object(S.a)(this,t),this.workers=new Map}return Object(M.a)(t,[{key:"register",value:function(t,e){if(this.workers.has(t))throw new Error("There has been a worker named: ".concat(t," already."));this.workers.set(t,[!0,e])}},{key:"enable",value:function(t,e){if(!this.workers.has(t))throw new Error('Intention Worker "'.concat(t,'" does not exist.'));var r=this.workers.get(t);r[0]=e,this.workers.set(t,r)}},{key:"each",value:function(t){var e,r=Object(i.a)(this.workers);try{for(r.s();!(e=r.n()).done;){var n=Object(j.a)(e.value,2),a=n[0],o=n[1];o[0]&&t(o[1],a)}}catch(u){r.e(u)}finally{r.f()}}}],[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{withDefaultIWorkers:!0},r=e.withDefaultIWorkers,n=void 0===r||r;return t.colletion||(t.colletion=new t,n&&(t.colletion.register(J.outlier,rt),t.colletion.register(J.trend,nt))),Object.values(J).forEach((function(e){t.colletion.enable(e,n)})),t.colletion}}]),t}(),it=r(14),ot=r(9),ut=r(15),st=Math.round(Math.pow(75,2)/500);function ct(t){var e=t.length,r=Object(a.a)(t);return r.sort((function(t,e){return t.features.entropy-e.features.entropy})),e<25?r:e<500?r.slice(0,Math.round(Math.sqrt(st*(e-25))+25)):r.slice(0,100)}function ft(t,e){var r=t.length,n=Object(a.a)(t);return n.sort((function(t,e){return t.features.entropy-e.features.entropy})),n.slice(0,Math.round(r*e))}function lt(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];for(var n=Math.log2(e),a=0,i=0;i<t.length;i++)a+=t[i]*(Math.log2(t[i])-n)/e;return-a}function ht(t,e,r,n){var a,o=r,u=(n-o)/8,s=new Array(9).fill(0),c=Object(i.a)(t);try{for(c.s();!(a=c.n()).done;){var f=a.value;s[Math.floor((f[e]-o)/u)]++}}catch(l){c.e(l)}finally{c.f()}return s[7]+=s[8],lt(s.slice(0,8).filter((function(t){return t>0})))}function dt(t,e,r){var n,o=new Map,u=Object(i.a)(t);try{var s=function(){var t,r=n.value,a=e.map((function(t){return r[t]})).join("_");o.has(a)||o.set(a,[]),null===(t=o.get(a))||void 0===t||t.push(r)};for(u.s();!(n=u.n()).done;)s()}catch(d){u.e(d)}finally{u.f()}var c,f=0,l=Object(i.a)(r);try{var h=function(){var e=c.value,r=Math.min.apply(Math,Object(a.a)(t.map((function(t){return t[e]})))),n=Math.max.apply(Math,Object(a.a)(t.map((function(t){return t[e]})))),i=ht(t,e,r,n),u=0,s=[],l=Object(a.a)(o.entries());l.sort((function(t,e){return e[1].length-t[1].length}));for(var h=0;h<l.length&&!(h>=7);h++){var d=l[h][1],p=d.length/t.length,v=ht(d,e,r,n);u+=p*v,s.push([p,v])}for(var m=[],g=7;g<l.length;g++)m.push.apply(m,Object(a.a)(l[g][1]));m.length>0&&(u+=m.length/t.length*ht(m,e,r,n));f+=m.length>0?(i-u)/Math.log2(8):(i-u)/Math.log2(o.size)};for(l.s();!(c=l.n()).done;)h()}catch(d){l.e(d)}finally{l.f()}return f/r.length}var pt=function(){function t(){Object(S.a)(this,t),this._dimensions=[],this._measures=[],this.DIMENSION_NUM_IN_VIEW={MAX:3,MIN:1},this.MEASURE_NUM_IN_VIEW={MAX:3,MIN:1},this.cube=null,this.aggregators=["max","min","sum","mean","count","dist"],this.workerCollection=at.init()}return Object(M.a)(t,[{key:"serialize",value:function(){var t=this.fields,e=this.dataGraph,r=this.subSpaces,n=this.insightSpaces,a=this.dataSource,i=this.rawDataSource,o=this.cube;return{storage:{version:c.g,fields:t,dataGraph:{MClusters:e.MClusters,DClusters:e.DClusters,DG:e.DG,MG:e.MG},subSpaces:r,insightSpaces:n},dataStorage:{version:c.g,dataSource:{raw:i,view:a},cuboids:o.exportCuboids()}}}},{key:"deSerialize",value:function(t,e){var r=this;this.fields=t.fields,"undefined"!==typeof this.fieldDictonary&&null!==this.fieldDictonary?this.fieldDictonary.clear():this.fieldDictonary=new Map,t.fields.forEach((function(t){r.fieldDictonary.set(t.key,t)}));var n=this.dimensions,a=this.measures;if(this.dataGraph=new K(n,a),this.dataGraph.DG=t.dataGraph.DG,this.dataGraph.MG=t.dataGraph.MG,this.dataGraph.DClusters=t.dataGraph.DClusters,this.dataGraph.MClusters=t.dataGraph.MClusters,this.subSpaces=t.subSpaces,this.insightSpaces=t.insightSpaces,e){var i=this.aggregators;this.rawDataSource=e.dataSource.raw,this.dataSource=e.dataSource.view,this.cube=new et({dataSource:e.dataSource.view,dimensions:n,measures:a,ops:i}),Object.keys(e.cuboids).forEach((function(t){r.cube.loadCuboid(t,e.cuboids[t])}))}}},{key:"setFields",value:function(t){this._mutFields=t,this.dataSource=Object(ot.a)(this.rawDataSource);var e=X(t.map((function(t){return t.key})),this.dataSource),r=e.fields;e.dictonary;this.rawFields=r.map((function(e,r){var n=Object(V.a)({},e);return"?"!==t[r].dataType&&(n.dataType=t[r].dataType),"?"!==t[r].semanticType&&(n.semanticType=t[r].semanticType),"?"!==t[r].analyticType&&(n.analyticType=t[r].analyticType),n}))}},{key:"setData",value:function(t){return this.rawDataSource=t,this.dataSource=Object(ot.a)(t),this}},{key:"dimensions",get:function(){return this.fields.filter((function(t){return"dimension"===t.analyticType})).map((function(t){return t.key}))}},{key:"measures",get:function(){return this.fields.filter((function(t){return"measure"===t.analyticType})).map((function(t){return t.key}))}},{key:"buildfieldsSummary",value:function(){var t=X(this.fields.map((function(t){return t.key})),this.dataSource),e=t.fields,r=t.dictonary;return this.fields=e,this.fieldDictonary=r,this}},{key:"univarSelection",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.rawFields,n=this.rawDataSource,a=[],i=[],o=0;o<r.length;o++){var u=r[o],s=u.key;if("dimension"===u.analyticType)if("quantitative"===u.semanticType&&u.features.unique>50){if(!Object(ut.a)(n,u.key)){var f="".concat(u.key,"(group)");this.dataSource=Object(ot.d)({dataSource:n,field:u.key,newField:f,groupNumber:c.c}),s=f}}else if(u.features.unique>c.d&&u.features.unique>n.length*c.f)continue;i.push(o),a.push(s)}var l=X(a,this.dataSource),h=l.fields,d=l.dictonary;if(h.forEach((function(t,e){var n=i[e];t.semanticType=r[n].semanticType,t.dataType=r[n].dataType,t.analyticType=r[n].analyticType})),this.fields="auto"===t?ct(h):ft(h,e),-1===this.fields.findIndex((function(t){return"dimension"===t.analyticType}))){var p=h.filter((function(t){return"dimension"===t.analyticType}));if(0===p.length)throw new Error("\u63d0\u4f9b\u7684\u6570\u636e\u96c6\u4e2d\u6ca1\u6709\u7ef4\u5ea6\uff0c\u6682\u65f6\u4e0d\u652f\u6301\u8fd9\u79cd\u5206\u6790\u7c7b\u578b\u3002");p.sort((function(t,e){return t.features.entropy-e.features.entropy})),this.fields.push(p[0])}this.fieldDictonary=d}},{key:"buildGraph",value:function(){return this.dataGraph=new K(this.dimensions,this.measures),this.dataGraph.computeDGraph(this.dataSource),this.dataGraph.computeMGraph(this.dataSource),this}},{key:"buildCube",value:function(){var t=this.measures,e=this.dataSource,r=this.dataGraph,n=this.dimensions,a=this.aggregators,i=new et({dimensions:n,measures:t,dataSource:e,ops:a});return i.buildBaseCuboid(),r.DClusters.forEach((function(t){i.getCuboid(t)})),this.cube=i,this}},{key:"clusterFields",value:function(){return this.dataGraph.clusterDGraph(this.dataSource),this.dataGraph.clusterMGraph(this.dataSource),this}},{key:"buildSubspaces",value:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.DIMENSION_NUM_IN_VIEW,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.MEASURE_NUM_IN_VIEW,a=this.dataGraph.DClusters,u=this.dataGraph.MClusters,s=t.getCombinationFromClusterGroups(u,n),c=[],f=Object(i.a)(a);try{for(f.s();!(e=f.n()).done;){var l,h=e.value,d=Object(o.d)(h,r.MIN,r.MAX),p=Object(i.a)(d);try{for(p.s();!(l=p.n()).done;){var v,m=l.value,g=Object(i.a)(s);try{for(g.s();!(v=g.n()).done;){var y=v.value;c.push({dimensions:m,measures:y})}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}}}catch(b){f.e(b)}finally{f.f()}return this.subSpaces=c,this}},{key:"exploreViewsPOC",value:function(){var t=Object(k.a)(x.a.mark((function t(){var e,r,n,a,o,u,s,c,f,l=arguments;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=l.length>0&&void 0!==l[0]?l[0]:this.subSpaces,r=this,n=[],a=Object(i.a)(e);try{for(a.s();!(o=a.n()).done;)u=o.value,s=u.dimensions,c=u.measures,f=dt(r.dataSource,s,c),n.push({impurity:f,significance:1,dimensions:s,measures:c})}catch(h){a.e(h)}finally{a.f()}return n.sort((function(t,e){return(e.impurity||0)-(t.impurity||0)})),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"exploreViews",value:function(){var t=Object(k.a)(x.a.mark((function t(){var e,r,n,a,o,u,s,f,l,h,d,p,v,m,g,y,b=arguments;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=b.length>0&&void 0!==b[0]?b[0]:this.subSpaces,n=(r=this).measures,a=r.fieldDictonary,r.dataSource,o=[],u=r.cube.getCuboid([]).getState(n,n.map((function(){return"dist"}))),s=Object(i.a)(e);try{for(s.s();!(f=s.n()).done;){l=f.value,h=l.dimensions,d=l.measures,p=r.cube.getCuboid(h).getState(d,d.map((function(){return"dist"}))),v=0,m=Object(i.a)(d);try{for(y=function(){var t=g.value,e=0;u.length>0&&(e=lt(u[0][t].filter((function(t){return t>0}))));var r=0,n=a.get(t).features.size,i=p.map((function(e){return{freq:e[t].reduce((function(t,e){return t+e}),0),dist:e[t]}}));i.sort((function(t,e){return e.freq-t.freq}));for(var o=0;o<i.length&&!(o>=c.c-1);o++){var s=lt(i[o].dist.filter((function(t){return t>0})));r+=i[o].freq/n*s}for(var f=new Array(c.c).fill(0),l=0,h=c.c-1;h<i.length;h++){for(var d=0;d<f.length;d++)f[d]+=i[h].dist[d];l+=i[h].freq}l>0&&(r+=l/n*lt(f.filter((function(t){return t>0})))),v+=(e-r)/Math.log2(Math.min(c.c,i.length))},m.s();!(g=m.n()).done;)y()}catch(w){m.e(w)}finally{m.f()}v/=d.length,o.push({dimensions:h,measures:d,significance:1,score:v,impurity:v})}}catch(w){s.e(w)}finally{s.f()}return o.sort((function(t,e){return e.impurity-t.impurity})),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"searchPointInterests",value:function(t){}},{key:"insightExtraction",value:function(){var e=Object(k.a)(x.a.mark((function e(){var r,n,a,o,u,s,c=this,f=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>0&&void 0!==f[0]?f[0]:this.subSpaces,n=this,a=[],o=Object(i.a)(r),e.prev=4,s=x.a.mark((function e(){var r,i,o,s,f,l,h,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.value,i=r.dimensions,o=r.measures,s=n.cube,f=s.getCuboid(i),l=f.getState(o,o.map((function(){return"sum"}))),h=t.getSpaceImpurity(l,i,o),d=[],c.workerCollection.each((function(t,e){var r=function(){var t=Object(k.a)(x.a.mark((function t(e,r){var u;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(l,i,o,n.fieldDictonary,n);case 3:null!==(u=t.sent)&&(u.type=r,u.impurity=h,a.push(u)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("worker failed",{dimensions:i,measures:o,aggData:l},t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}();d.push(r(t,e))})),e.next=10,Promise.all(d);case 10:case"end":return e.stop()}}),e)})),o.s();case 7:if((u=o.n()).done){e.next=11;break}return e.delegateYield(s(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),o.e(e.t1);case 16:return e.prev=16,o.f(),e.finish(16);case 19:return n.insightSpaces=a,this.setInsightScores(),this.insightSpaces.sort((function(t,e){return(t.score||0)-(e.score||0)})),e.abrupt("return",this.insightSpaces);case 23:case"end":return e.stop()}}),e,this,[[4,13,16,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"setInsightScores",value:function(){return this.insightSpaces.forEach((function(t){t.score=t.impurity/t.significance})),this}},{key:"getFieldInfoInVis",value:function(t){var e=[],r=this.cube,n=this.fieldDictonary,a=t.dimensions,i=t.measures;a.forEach((function(t){var a=r.getCuboid([t]).getState(i,i.map((function(){return"sum"}))),u=0;i.forEach((function(t){var e=a.map((function(e){return e[t]})),r=Object(o.h)(Object(o.g)(e)),n=Object(o.b)(r);u+=n})),e.push(Object(V.a)(Object(V.a)({},n.get(t)),{},{impurity:u}))}));var u=r.getCuboid(a).getState(i,i.map((function(){return"sum"})));return i.forEach((function(t){var r=u.map((function(e){return e[t]})),a=Object(o.h)(Object(o.g)(r)),i=Object(o.b)(a);e.push(Object(V.a)(Object(V.a)({},n.get(t)),{},{impurity:i}))})),e}},{key:"getFieldInfoInVisBeta",value:function(t){var e=[],r=this.cube,n=this.fieldDictonary,a=t.dimensions,i=t.measures;a.forEach((function(t){var r=n.get(t);e.push(Object(V.a)(Object(V.a)({},r),{},{impurity:r.features.entropy}))}));var o=r.getCuboid(a).getState(i,i.map((function(){return"dist"})));return i.forEach((function(t){var r=0,a=n.get(t).features.size,i=o.map((function(e){return{freq:e[t].reduce((function(t,e){return t+e}),0),dist:e[t]}}));i.sort((function(t,e){return e.freq-t.freq}));for(var u=0;u<i.length&&!(u>=c.c-1);u++){var s=lt(i[u].dist.filter((function(t){return t>0})));r+=i[u].freq/a*s}for(var f=new Array(c.c).fill(0),l=0,h=c.c-1;h<i.length;h++){for(var d=0;d<f.length;d++)f[d]+=i[h].dist[d];l+=i[h].freq}l>0&&(r+=l/a*lt(f.filter((function(t){return t>0}))));var p=n.get(t);e.push(Object(V.a)(Object(V.a)({},p),{},{impurity:r}))})),e}},{key:"specification",value:function(t){var e=t.dimensions,r=t.measures,n=this.getFieldInfoInVisBeta(t),a=this.cube.getCuboid(e).getState(r,r.map((function(){return"sum"})));return Object(it.c)(n,a)}}],[{key:"getCombinationFromClusterGroups",value:function(t,e){var r,n=[],u=Object(i.a)(t);try{for(u.s();!(r=u.n()).done;){var s=r.value,c=Object(o.d)(s,e.MIN,e.MAX);n.push.apply(n,Object(a.a)(c))}}catch(f){u.e(f)}finally{u.f()}return n}},{key:"getSpaceImpurity",value:function(t,e,r){var n,a=0,u=Object(i.a)(r);try{var s=function(){var e=n.value,r=t.map((function(t){return t[e]})),i=Object(o.h)(Object(o.g)(r)),u=Object(o.b)(i);a+=u};for(u.s();!(n=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return a/=r.length}}]),t}()},function(t,e,r){"use strict";r(0),r(6),r(1),r(3),r(7),r(8);r(5),r(12),r(11),r(4),r(2);r(14);r(29)},function(t,e,r){"use strict";r(9),r(30),r(15);var n=r(44);r.d(e,"Insight",(function(){return n}));r(32),r(18),r(33),r(25),r(2),r(45),r(11),r(42),r(43);console.log("This is a test version of visual-insights")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(48);e.periodCube=n.default;var a=r(49);e.momentCube=a.default},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,i=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},i=this&&this.__values||function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.children=new Map,this._rawData=[],this.aggFunc=t,this.cache=!1}return t.prototype.push=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];(t=this._rawData).push.apply(t,a(e))},t.prototype.aggData=function(t){return void 0===t&&(t=[]),this.cache||(this._aggData=this.aggFunc(this.rawData,t),this.cache=!0),this._aggData},t.prototype.clearCache=function(){this.cache=!1},Object.defineProperty(t.prototype,"rawData",{get:function(){var t,e;if(!this.cache){if(0!==this.children.size){var r=this.children.values(),n=[];try{for(var a=i(r),o=a.next();!o.done;o=a.next()){var u=o.value,s=void 0,c=u.rawData,f=c.length;for(s=0;s<f;s++)n.push(c[s])}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this._rawData=n}this.cache=!0}return this._rawData},enumerable:!0,configurable:!0}),t.prototype.getNode=function(t){return function e(r,a){var o,u;if(a===t.length)return r;var s=r.children.entries();try{for(var c=i(s),f=c.next();!f.done;f=c.next()){var l=n(f.value,2),h=l[0],d=l[1];if(h===t[a])return e(d,a+1)}}catch(p){o={error:p}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}return null}(this,0)},t}(),u=function(){function t(t){this.aggFunc=t.aggFunc,this.factTable=t.factTable,this.dimensions=t.dimensions,this.measures=t.measures}return t.prototype.get=function(t){var e=this,r=e.tree,a=(e.aggFunc,e.measures);return function e(r,o){var u,s;if(o===t.length)return r.aggData(a);var c=r.children.entries();try{for(var f=i(c),l=f.next();!l.done;l=f.next()){var h=n(l.value,2),d=h[0],p=h[1];if(d===t[o])return e(p,o+1)}}catch(v){u={error:v}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(u)throw u.error}}return!1}(r,0)},t.prototype.getNode=function(t){return this.tree.getNode(t)},t.prototype.buildTree=function(){var t,e=new o(this.aggFunc),r=this.factTable.length;for(t=0;t<r;t++)this.insertNode(this.factTable[t],e,0);return this.tree=e,e},t.prototype.insertNode=function(t,e,r){if(e.push(t),e.cache=!1,r<this.dimensions.length){var n=t[this.dimensions[r]];e.children.has(n)||e.children.set(n,new o(this.aggFunc)),this.insertNode(t,e.children.get(n),r+1)}},t.prototype.aggTree=function(t){var e,r;void 0===t&&(t=this.tree);var n=t.children.values();try{for(var a=i(n),o=a.next();!o.done;o=a.next()){var u=o.value;this.aggTree(u)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return t.aggData(this.measures),t},t.prototype.aggNode=function(t){var e,r;void 0===t&&(t=this.tree);var n=t.children.values();try{for(var a=i(n),o=a.next();!o.done;o=a.next()){var u=o.value;this.aggTree(u)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return t.aggData(this.measures),t},t}();e.default=u},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,i=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},i=this&&this.__values||function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.children=new Map,this.rawData=[]}return t.prototype.push=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];(t=this.rawData).push.apply(t,a(e))},t.prototype.aggData=function(t,e){return void 0===e&&(e=[]),this._aggData=t(this.rawData,e),this._aggData},t.prototype.getNode=function(t){return function e(r,a){var o,u;if(a===t.length)return r;var s=r.children.entries();try{for(var c=i(s),f=c.next();!f.done;f=c.next()){var l=n(f.value,2),h=l[0],d=l[1];if(h===t[a])return e(d,a+1)}}catch(p){o={error:p}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}return null}(this,0)},t}();e.Node=o;var u=function(){function t(t){this.aggFunc=t.aggFunc,this.factTable=t.factTable,this.dimensions=t.dimensions,this.measures=t.measures,this.buildTree(),this.aggTree()}return t.prototype.get=function(t){var e=this,r=e.tree,a=e.aggFunc,o=e.measures;return function e(r,u){var s,c;if(u===t.length)return r.aggData(a,o);var f=r.children.entries();try{for(var l=i(f),h=l.next();!h.done;h=l.next()){var d=n(h.value,2),p=d[0],v=d[1];if(p===t[u])return e(v,u+1)}}catch(m){s={error:m}}finally{try{h&&!h.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}return!1}(r,0)},t.prototype.getNode=function(t){return this.tree.getNode(t)},t.prototype.setData=function(t){var e=t.aggFunc,r=void 0===e?this.aggFunc:e,n=t.factTable,a=void 0===n?this.factTable:n,i=t.dimensions,o=void 0===i?this.dimensions:i,u=t.measures,s=void 0===u?this.measures:u;o!==this.dimensions||a!==this.factTable?(this.dimensions=o,this.factTable=a,this.measures=s,this.aggFunc=r,this.buildTree(),this.aggTree()):s===this.measures&&r===this.aggFunc||(this.measures=s,this.aggFunc=r,this.aggTree())},t.prototype.buildTree=function(){var t,e=new o,r=this.factTable.length;for(t=0;t<r;t++)this.insertNode(this.factTable[t],e,0);return this.tree=e,e},t.prototype.insertNode=function(t,e,r){if(r===this.dimensions.length)e.push(t);else{var n=t[this.dimensions[r]];e.children.has(n)||e.children.set(n,new o),this.insertNode(t,e.children.get(n),r+1)}},t.prototype.aggTree=function(t){var e,r;if(void 0===t&&(t=this.tree),t.children.size>0){t.rawData=[];var n=t.children.values();try{for(var a=i(n),o=a.next();!o.done;o=a.next()){var u=o.value,s=void 0,c=this.aggTree(u).rawData,f=c.length;for(s=0;s<f;s++)t.rawData.push(c[s])}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}}return t.aggData(this.aggFunc,this.measures),t},t}();e.default=u},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__values||function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,i=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o};Object.defineProperty(e,"__esModule",{value:!0}),e.tree2Table=function(t){var e=t.dimensions,r=(t.measures,t.cube),o=(r.aggFunc,[]);return function t(r,u,s){var c,f,l;if(0!==r.children.size)try{for(var h=a(r.children.entries()),d=h.next();!d.done;d=h.next()){var p=i(d.value,2),v=p[0];t(p[1],n(n({},u),((l={})[e[s]]=v,l)),s+1)}}catch(g){c={error:g}}finally{try{d&&!d.done&&(f=h.return)&&f.call(h)}finally{if(c)throw c.error}}else{var m=r._aggData;o.push(n(n({},u),m))}}(r.tree,{},0),o}},function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(N){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),o=new T(n||[]);return i._invoke=function(t,e,r){var n=l;return function(a,i){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw i;return _()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var u=E(o,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var s=f(t,e,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(t,r,o),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=c;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,O=w&&w(w(D([])));O&&O!==r&&n.call(O,i)&&(b=O);var j=y.prototype=m.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function r(a,i,o,u){var s=f(t[a],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,u)}),(function(t){r("throw",t,o,u)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,u)}))}u(s.arg)}var a;this._invoke=function(t,n){function i(){return new e((function(e,a){r(t,n,e,a)}))}return a=a?a.then(i,i):i()}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=f(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function D(t){if(t){var r=t[i];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:_}}function _(){return{value:e,done:!0}}return g.prototype=j.constructor=y,y.constructor=g,g.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},t.awrap=function(t){return{__await:t}},S(M.prototype),M.prototype[o]=function(){return this},t.AsyncIterator=M,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new M(c(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(j),s(j,u,"Generator"),j[i]=function(){return this},j.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return u.type="throw",u.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=n}catch(a){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){"use strict";var n=r(13),a=r(34),i=r(53),o=r(40);var u=function t(e){var r=new i(e),u=a(i.prototype.request,r);return n.extend(u,i.prototype,r),n.extend(u,r),u.create=function(r){return t(o(e,r))},u}(r(23));u.Axios=i,u.Cancel=r(24),u.CancelToken=r(67),u.isCancel=r(39),u.VERSION=r(41).version,u.all=function(t){return Promise.all(t)},u.spread=r(68),u.isAxiosError=r(69),t.exports=u,t.exports.default=u},function(t,e,r){"use strict";var n=r(13),a=r(35),i=r(54),o=r(55),u=r(40),s=r(66),c=s.validators;function f(t){this.defaults=t,this.interceptors={request:new i,response:new i}}f.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&s.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],n=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,i=[];if(this.interceptors.response.forEach((function(t){i.push(t.fulfilled,t.rejected)})),!n){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(i),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var l=t;r.length;){var h=r.shift(),d=r.shift();try{l=h(l)}catch(p){d(p);break}}try{a=o(l)}catch(p){return Promise.reject(p)}for(;i.length;)a=a.then(i.shift(),i.shift());return a},f.prototype.getUri=function(t){return t=u(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){f.prototype[t]=function(e,r){return this.request(u(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){f.prototype[t]=function(e,r,n){return this.request(u(n||{},{method:t,url:e,data:r}))}})),t.exports=f},function(t,e,r){"use strict";var n=r(13);function a(){this.handlers=[]}a.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=a},function(t,e,r){"use strict";var n=r(13),a=r(56),i=r(39),o=r(23),u=r(24);function s(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new u("canceled")}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=a.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return s(t),e.data=a.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=a.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,r){"use strict";var n=r(13),a=r(23);t.exports=function(t,e,r){var i=this||a;return n.forEach(r,(function(r){t=r.call(i,t,e)})),t}},function(t,e){var r,n,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(13);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},function(t,e,r){"use strict";var n=r(38);t.exports=function(t,e,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";var n=r(13);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,a,i,o){var u=[];u.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),n.isString(a)&&u.push("path="+a),n.isString(i)&&u.push("domain="+i),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(62),a=r(63);t.exports=function(t,e){return t&&!n(e)?a(t,e):e}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(13),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,o={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(o[e]&&a.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}},function(t,e,r){"use strict";var n=r(13);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=a(window.location.href),function(e){var r=n.isString(e)?a(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(41).version,a={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){a[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var i={};a.transitional=function(t,e,r){function a(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,o){if(!1===t)throw new Error(a(n," has been removed"+(e?" in "+e:"")));return e&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,o)}},t.exports={assertOptions:function(t,e,r){if("object"!==typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),a=n.length;a-- >0;){var i=n[a],o=e[i];if(o){var u=t[i],s=void 0===u||o(u,i,t);if(!0!==s)throw new TypeError("option "+i+" must be "+s)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:a}},function(t,e,r){"use strict";var n=r(24);function a(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},a.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},a.source=function(){var t;return{token:new a((function(e){t=e})),cancel:t}},t.exports=a},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},function(t,e,r){"use strict";r.r(e);var n=r(46);var a;self.addEventListener("message",(a=t=>{try{const{dataSource:e,dimensions:r,measures:a,operator:i,topKPercent:o=1}=t.data;let u=n.Insight.insightExtraction(e,r,a,i).map((t=>{let e=0;for(let r in t[1])e+=t[1][r];return{...t,score:e}}));u.sort(((t,e)=>t.score-e.score));let s=Math.round(o*u.length);self.postMessage({success:!0,data:u.slice(0,s).map((t=>({score:t.score,dimensions:t[0],measures:a.map((e=>({name:e,value:t[1][e]}))),correlationMatrix:t[2]})))})}catch(e){self.postMessage({success:!1,message:e.toString()})}},function(t){var e=(new Date).getTime();try{a(t)}finally{var r=(new Date).getTime()-e;console.log("Task [".concat(a.name,"] cost ").concat(r," ms."))}}),!1)}]);
//# sourceMappingURL=combineFields.worker.725c9236.worker.js.map